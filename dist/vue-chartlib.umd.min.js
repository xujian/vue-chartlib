(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("echarts"),require("vue")):"function"===typeof define&&define.amd?define(["echarts"],e):"object"===typeof exports?exports["vue-chartlib"]=e(require("echarts"),require("vue")):t["vue-chartlib"]=e(t["echarts"],t["Vue"])})("undefined"!==typeof self?self:this,function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"014b":function(t,e,n){"use strict";var r=n("e53d"),i=n("07e3"),a=n("8e60"),o=n("63b6"),s=n("9138"),u=n("ebfd").KEY,l=n("294c"),c=n("dbdb"),h=n("45f2"),f=n("62a0"),d=n("5168"),p=n("ccb9"),m=n("6718"),g=n("47ee"),v=n("9003"),_=n("e4ae"),y=n("f772"),x=n("36c3"),b=n("1bc3"),w=n("aebd"),T=n("a159"),S=n("0395"),E=n("bf0b"),M=n("d9f6"),A=n("c3a1"),C=E.f,O=M.f,D=S.f,L=r.Symbol,I=r.JSON,P=I&&I.stringify,R="prototype",N=d("_hidden"),k=d("toPrimitive"),F={}.propertyIsEnumerable,B=c("symbol-registry"),z=c("symbols"),U=c("op-symbols"),G=Object[R],j="function"==typeof L,H=r.QObject,V=!H||!H[R]||!H[R].findChild,W=a&&l(function(){return 7!=T(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=C(G,e);r&&delete G[e],O(t,e,n),r&&t!==G&&O(G,e,r)}:O,X=function(t){var e=z[t]=T(L[R]);return e._k=t,e},q=j&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Y=function(t,e,n){return t===G&&Y(U,e,n),_(t),e=b(e,!0),_(n),i(z,e)?(n.enumerable?(i(t,N)&&t[N][e]&&(t[N][e]=!1),n=T(n,{enumerable:w(0,!1)})):(i(t,N)||O(t,N,w(1,{})),t[N][e]=!0),W(t,e,n)):O(t,e,n)},Z=function(t,e){_(t);var n,r=g(e=x(e)),i=0,a=r.length;while(a>i)Y(t,n=r[i++],e[n]);return t},K=function(t,e){return void 0===e?T(t):Z(T(t),e)},$=function(t){var e=F.call(this,t=b(t,!0));return!(this===G&&i(z,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(z,t)||i(this,N)&&this[N][t])||e)},J=function(t,e){if(t=x(t),e=b(e,!0),t!==G||!i(z,e)||i(U,e)){var n=C(t,e);return!n||!i(z,e)||i(t,N)&&t[N][e]||(n.enumerable=!0),n}},Q=function(t){var e,n=D(x(t)),r=[],a=0;while(n.length>a)i(z,e=n[a++])||e==N||e==u||r.push(e);return r},tt=function(t){var e,n=t===G,r=D(n?U:x(t)),a=[],o=0;while(r.length>o)!i(z,e=r[o++])||n&&!i(G,e)||a.push(z[e]);return a};j||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(U,n),i(this,N)&&i(this[N],t)&&(this[N][t]=!1),W(this,t,w(1,n))};return a&&V&&W(G,t,{configurable:!0,set:e}),X(t)},s(L[R],"toString",function(){return this._k}),E.f=J,M.f=Y,n("6abf").f=S.f=Q,n("355d").f=$,n("9aa9").f=tt,a&&!n("b8e3")&&s(G,"propertyIsEnumerable",$,!0),p.f=function(t){return X(d(t))}),o(o.G+o.W+o.F*!j,{Symbol:L});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=A(d.store),it=0;rt.length>it;)m(rt[it++]);o(o.S+o.F*!j,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=L(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!j,"Object",{create:K,defineProperty:Y,defineProperties:Z,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),I&&o(o.S+o.F*(!j||l(function(){var t=L();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))})),"JSON",{stringify:function(t){var e,n,r=[t],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=e=r[1],(y(e)||void 0!==t)&&!q(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,P.apply(I,r)}}),L[R][k]||n("35e8")(L[R],k,L[R].valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},"01f9":function(t,e,n){"use strict";var r=n("2d00"),i=n("5ca1"),a=n("2aba"),o=n("32e9"),s=n("84f2"),u=n("41a0"),l=n("7f20"),c=n("38fd"),h=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",m="values",g=function(){return this};t.exports=function(t,e,n,v,_,y,x){u(n,e,v);var b,w,T,S=function(t){if(!f&&t in C)return C[t];switch(t){case p:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",M=_==m,A=!1,C=t.prototype,O=C[h]||C[d]||_&&C[_],D=O||S(_),L=_?M?S("entries"):D:void 0,I="Array"==e&&C.entries||O;if(I&&(T=c(I.call(new t)),T!==Object.prototype&&T.next&&(l(T,E,!0),r||"function"==typeof T[h]||o(T,h,g))),M&&O&&O.name!==m&&(A=!0,D=function(){return O.call(this)}),r&&!x||!f&&!A&&C[h]||o(C,h,D),s[e]=D,s[E]=g,_)if(b={values:M?D:S(m),keys:y?D:S(p),entries:L},x)for(w in b)w in C||a(C,w,b[w]);else i(i.P+i.F*(f||A),e,b);return b}},"0293":function(t,e,n){var r=n("241e"),i=n("53e2");n("ce7e")("getPrototypeOf",function(){return function(t){return i(r(t))}})},"02f4":function(t,e,n){var r=n("4588"),i=n("be13");t.exports=function(t){return function(e,n){var a,o,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}}},"0352":function(t,e,n){var r=n("6cb7"),i=n("b12f"),a=n("0f99"),o=a.detectSourceFormat,s=n("93d0"),u=s.SERIES_LAYOUT_BY_COLUMN;r.extend({type:"dataset",defaultOption:{seriesLayoutBy:u,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){o(this)}}),i.extend({type:"dataset"})},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0395":function(t,e,n){var r=n("36c3"),i=n("6abf").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):i(r(t))}},"04f6":function(t,e){var n=32,r=7;function i(t){var e=0;while(t>=n)e|=1&t,t>>=1;return t+e}function a(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){while(i<n&&r(t[i],t[i-1])<0)i++;o(t,e,i)}else while(i<n&&r(t[i],t[i-1])>=0)i++;return i-e}function o(t,e,n){n--;while(e<n){var r=t[e];t[e++]=t[n],t[n--]=r}}function s(t,e,n,r,i){for(r===e&&r++;r<n;r++){var a,o=t[r],s=e,u=r;while(s<u)a=s+u>>>1,i(o,t[a])<0?u=a:s=a+1;var l=r-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:while(l>0)t[s+l]=t[s+l-1],l--}t[s]=o}}function u(t,e,n,r,i,a){var o=0,s=0,u=1;if(a(t,e[n+i])>0){s=r-i;while(u<s&&a(t,e[n+i+u])>0)o=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}else{s=i+1;while(u<s&&a(t,e[n+i-u])<=0)o=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}o++;while(o<u){var c=o+(u-o>>>1);a(t,e[n+c])>0?o=c+1:u=c}return u}function l(t,e,n,r,i,a){var o=0,s=0,u=1;if(a(t,e[n+i])<0){s=i+1;while(u<s&&a(t,e[n+i-u])<0)o=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}else{s=r-i;while(u<s&&a(t,e[n+i+u])>=0)o=u,u=1+(u<<1),u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}o++;while(o<u){var c=o+(u-o>>>1);a(t,e[n+c])<0?u=c:o=c+1}return u}function c(t,e){var n,i,a=r,o=0,s=0;o=t.length;var c=[];function h(t,e){n[s]=t,i[s]=e,s+=1}function f(){while(s>1){var t=s-2;if(t>=1&&i[t-1]<=i[t]+i[t+1]||t>=2&&i[t-2]<=i[t]+i[t-1])i[t-1]<i[t+1]&&t--;else if(i[t]>i[t+1])break;p(t)}}function d(){while(s>1){var t=s-2;t>0&&i[t-1]<i[t+1]&&t--,p(t)}}function p(r){var a=n[r],o=i[r],c=n[r+1],h=i[r+1];i[r]=o+h,r===s-3&&(n[r+1]=n[r+2],i[r+1]=i[r+2]),s--;var f=l(t[c],t,a,o,0,e);a+=f,o-=f,0!==o&&(h=u(t[a+o-1],t,c,h,h-1,e),0!==h&&(o<=h?m(a,o,c,h):g(a,o,c,h)))}function m(n,i,o,s){var h=0;for(h=0;h<i;h++)c[h]=t[n+h];var f=0,d=o,p=n;if(t[p++]=t[d++],0!==--s)if(1!==i){var m,g,v,_=a;while(1){m=0,g=0,v=!1;do{if(e(t[d],c[f])<0){if(t[p++]=t[d++],g++,m=0,0===--s){v=!0;break}}else if(t[p++]=c[f++],m++,g=0,1===--i){v=!0;break}}while((m|g)<_);if(v)break;do{if(m=l(t[d],c,f,i,0,e),0!==m){for(h=0;h<m;h++)t[p+h]=c[f+h];if(p+=m,f+=m,i-=m,i<=1){v=!0;break}}if(t[p++]=t[d++],0===--s){v=!0;break}if(g=u(c[f],t,d,s,0,e),0!==g){for(h=0;h<g;h++)t[p+h]=t[d+h];if(p+=g,d+=g,s-=g,0===s){v=!0;break}}if(t[p++]=c[f++],1===--i){v=!0;break}_--}while(m>=r||g>=r);if(v)break;_<0&&(_=0),_+=2}if(a=_,a<1&&(a=1),1===i){for(h=0;h<s;h++)t[p+h]=t[d+h];t[p+s]=c[f]}else{if(0===i)throw new Error;for(h=0;h<i;h++)t[p+h]=c[f+h]}}else{for(h=0;h<s;h++)t[p+h]=t[d+h];t[p+s]=c[f]}else for(h=0;h<i;h++)t[p+h]=c[f+h]}function g(n,i,o,s){var h=0;for(h=0;h<s;h++)c[h]=t[o+h];var f=n+i-1,d=s-1,p=o+s-1,m=0,g=0;if(t[p--]=t[f--],0!==--i)if(1!==s){var v=a;while(1){var _=0,y=0,x=!1;do{if(e(c[d],t[f])<0){if(t[p--]=t[f--],_++,y=0,0===--i){x=!0;break}}else if(t[p--]=c[d--],y++,_=0,1===--s){x=!0;break}}while((_|y)<v);if(x)break;do{if(_=i-l(c[d],t,n,i,i-1,e),0!==_){for(p-=_,f-=_,i-=_,g=p+1,m=f+1,h=_-1;h>=0;h--)t[g+h]=t[m+h];if(0===i){x=!0;break}}if(t[p--]=c[d--],1===--s){x=!0;break}if(y=s-u(t[f],c,0,s,s-1,e),0!==y){for(p-=y,d-=y,s-=y,g=p+1,m=d+1,h=0;h<y;h++)t[g+h]=c[m+h];if(s<=1){x=!0;break}}if(t[p--]=t[f--],0===--i){x=!0;break}v--}while(_>=r||y>=r);if(x)break;v<0&&(v=0),v+=2}if(a=v,a<1&&(a=1),1===s){for(p-=i,f-=i,g=p+1,m=f+1,h=i-1;h>=0;h--)t[g+h]=t[m+h];t[p]=c[d]}else{if(0===s)throw new Error;for(m=p-(s-1),h=0;h<s;h++)t[m+h]=c[h]}}else{for(p-=i,f-=i,g=p+1,m=f+1,h=i-1;h>=0;h--)t[g+h]=t[m+h];t[p]=c[d]}else for(m=p-(s-1),h=0;h<s;h++)t[m+h]=c[h]}n=[],i=[],this.mergeRuns=f,this.forceMergeRuns=d,this.pushRun=h}function h(t,e,r,o){r||(r=0),o||(o=t.length);var u=o-r;if(!(u<2)){var l=0;if(u<n)return l=a(t,r,o,e),void s(t,r,o,r+l,e);var h=new c(t,e),f=i(u);do{if(l=a(t,r,o,e),l<f){var d=u;d>f&&(d=f),s(t,r,r+d,r+l,e),l=d}h.pushRun(r,l),h.mergeRuns(),u-=l,r+=l}while(0!==u);h.forceMergeRuns()}}t.exports=h},"061b":function(t,e,n){t.exports=n("fa99")},"0655":function(t,e,n){var r=n("8728"),i=1e-8;function a(t,e){return Math.abs(t-e)<i}function o(t,e,n){var i=0,o=t[0];if(!o)return!1;for(var s=1;s<t.length;s++){var u=t[s];i+=r(o[0],o[1],u[0],u[1],e,n),o=u}var l=t[0];return a(o[0],l[0])&&a(o[1],l[1])||(i+=r(o[0],o[1],l[0],l[1],e,n)),0!==i}e.contain=o},"06ad":function(t,e,n){var r=n("4436"),i=n("41ef"),a=n("6d8b"),o=a.isArrayLike,s=Array.prototype.slice;function u(t,e){return t[e]}function l(t,e,n){t[e]=n}function c(t,e,n){return(e-t)*n+t}function h(t,e,n){return n>.5?e:t}function f(t,e,n,r,i){var a=t.length;if(1===i)for(var o=0;o<a;o++)r[o]=c(t[o],e[o],n);else{var s=a&&t[0].length;for(o=0;o<a;o++)for(var u=0;u<s;u++)r[o][u]=c(t[o][u],e[o][u],n)}}function d(t,e,n){var r=t.length,i=e.length;if(r!==i){var a=r>i;if(a)t.length=i;else for(var o=r;o<i;o++)t.push(1===n?e[o]:s.call(e[o]))}var u=t[0]&&t[0].length;for(o=0;o<t.length;o++)if(1===n)isNaN(t[o])&&(t[o]=e[o]);else for(var l=0;l<u;l++)isNaN(t[o][l])&&(t[o][l]=e[o][l])}function p(t,e,n){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===n){for(var i=0;i<r;i++)if(t[i]!==e[i])return!1}else{var a=t[0].length;for(i=0;i<r;i++)for(var o=0;o<a;o++)if(t[i][o]!==e[i][o])return!1}return!0}function m(t,e,n,r,i,a,o,s,u){var l=t.length;if(1===u)for(var c=0;c<l;c++)s[c]=g(t[c],e[c],n[c],r[c],i,a,o);else{var h=t[0].length;for(c=0;c<l;c++)for(var f=0;f<h;f++)s[c][f]=g(t[c][f],e[c][f],n[c][f],r[c][f],i,a,o)}}function g(t,e,n,r,i,a,o){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*o+(-3*(e-n)-2*s-u)*a+s*i+e}function v(t){if(o(t)){var e=t.length;if(o(t[0])){for(var n=[],r=0;r<e;r++)n.push(s.call(t[r]));return n}return s.call(t)}return t}function _(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function y(t){var e=t[t.length-1].value;return o(e&&e[0])?2:1}function x(t,e,n,a,s,u){var l=t._getter,v=t._setter,x="spline"===e,b=a.length;if(b){var w,T=a[0].value,S=o(T),E=!1,M=!1,A=S?y(a):0;a.sort(function(t,e){return t.time-e.time}),w=a[b-1].time;for(var C=[],O=[],D=a[0].value,L=!0,I=0;I<b;I++){C.push(a[I].time/w);var P=a[I].value;if(S&&p(P,D,A)||!S&&P===D||(L=!1),D=P,"string"===typeof P){var R=i.parse(P);R?(P=R,E=!0):M=!0}O.push(P)}if(u||!L){var N=O[b-1];for(I=0;I<b-1;I++)S?d(O[I],N,A):!isNaN(O[I])||isNaN(N)||M||E||(O[I]=N);S&&d(l(t._target,s),N,A);var k,F,B,z,U,G,j=0,H=0;if(E)var V=[0,0,0,0];var W=function(t,e){var n;if(e<0)n=0;else if(e<H){for(k=Math.min(j+1,b-1),n=k;n>=0;n--)if(C[n]<=e)break;n=Math.min(n,b-2)}else{for(n=j;n<b;n++)if(C[n]>e)break;n=Math.min(n-1,b-2)}j=n,H=e;var r=C[n+1]-C[n];if(0!==r)if(F=(e-C[n])/r,x)if(z=O[n],B=O[0===n?n:n-1],U=O[n>b-2?b-1:n+1],G=O[n>b-3?b-1:n+2],S)m(B,z,U,G,F,F*F,F*F*F,l(t,s),A);else{if(E)i=m(B,z,U,G,F,F*F,F*F*F,V,1),i=_(V);else{if(M)return h(z,U,F);i=g(B,z,U,G,F,F*F,F*F*F)}v(t,s,i)}else if(S)f(O[n],O[n+1],F,l(t,s),A);else{var i;if(E)f(O[n],O[n+1],F,V,1),i=_(V);else{if(M)return h(O[n],O[n+1],F);i=c(O[n],O[n+1],F)}v(t,s,i)}},X=new r({target:t._target,life:w,loop:t._loop,delay:t._delay,onframe:W,ondestroy:n});return e&&"spline"!==e&&(X.easing=e),X}}}var b=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||u,this._setter=r||l,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};b.prototype={when:function(t,e){var n=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==t&&n[r].push({time:0,value:v(i)})}n[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,r=this,i=0,a=function(){i--,i||r._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=x(this,t,a,this._tracks[o],o,e);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),n=s)}if(n){var u=n.onframe;n.onframe=function(t,e){u(t,e);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,r=0;r<e.length;r++){var i=e[r];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var w=b;t.exports=w},"0730":function(t,e,n){"use strict";n.r(e),e["default"]=function(t){var e=t.symbol;return{symbolSize:e}}},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"0949":function(t,e,n){"use strict";n.r(e),e["default"]=function(t){if(void 0===t.gap)return{};var e=[{boundaryGap:t.gap}];return{xAxis:e}}},"09fb":function(t,e,n){"use strict";n.r(e);n("f751");e["default"]=function(t,e){var n={areaStyle:{normal:{opacity:.8}}};return t.map(function(t){return Object.assign({},t,n)})}},"0a49":function(t,e,n){var r=n("9b43"),i=n("626a"),a=n("4bf8"),o=n("9def"),s=n("cd1c");t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var m,g,v=a(e),_=i(v),y=r(s,p,3),x=o(_.length),b=0,w=n?d(e,x):u?d(e,0):void 0;x>b;b++)if((f||b in _)&&(m=_[b],g=y(m,b,v),t))if(n)w[b]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return b;case 2:w.push(m)}else if(c)return!1;return h?-1:l||c?c:w}}},"0b44":function(t,e,n){var r=n("607d"),i=function(){this._track=[]};function a(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function o(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}i.prototype={constructor:i,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var i=t.touches;if(i){for(var a={points:[],touches:[],target:e,event:t},o=0,s=i.length;o<s;o++){var u=i[o],l=r.clientToLocal(n,u,{});a.points.push([l.zrX,l.zrY]),a.touches.push(u)}this._track.push(a)}},_recognize:function(t){for(var e in s)if(s.hasOwnProperty(e)){var n=s[e](this._track,t);if(n)return n}}};var s={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,i=(t[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var s=a(r)/a(i);!isFinite(s)&&(s=1),e.pinchScale=s;var u=o(r);return e.pinchX=u[0],e.pinchY=u[1],{type:"pinch",target:t[0].target,event:e}}}}},u=i;t.exports=u},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0cde":function(t,e,n){var r=n("1687"),i=n("401b"),a=r.identity,o=5e-5;function s(t){return t>o||t<-o}var u=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},l=u.prototype;l.transform=null,l.needLocalTransform=function(){return s(this.rotation)||s(this.position[0])||s(this.position[1])||s(this.scale[0]-1)||s(this.scale[1]-1)};var c=[];l.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),i=this.transform;if(n||e){i=i||r.create(),n?this.getLocalTransform(i):a(i),e&&(n?r.mul(i,t.transform,i):r.copy(i,t.transform)),this.transform=i;var o=this.globalScaleRatio;if(null!=o&&1!==o){this.getGlobalScale(c);var s=c[0]<0?-1:1,u=c[1]<0?-1:1,l=((c[0]-s)*o+s)/c[0]||0,h=((c[1]-u)*o+u)/c[1]||0;i[0]*=l,i[1]*=l,i[2]*=h,i[3]*=h}this.invTransform=this.invTransform||r.create(),r.invert(this.invTransform,i)}else i&&a(i)},l.getLocalTransform=function(t){return u.getLocalTransform(this,t)},l.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},l.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var h=[],f=r.create();l.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=this.position,i=this.scale;s(e-1)&&(e=Math.sqrt(e)),s(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),r[0]=t[4],r[1]=t[5],i[0]=e,i[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e)}},l.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(r.mul(h,t.invTransform,e),e=h);var n=this.origin;n&&(n[0]||n[1])&&(f[4]=n[0],f[5]=n[1],r.mul(h,e,f),h[4]-=n[0],h[5]-=n[1],e=h),this.setLocalTransform(e)}},l.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},l.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&i.applyTransform(n,n,r),n},l.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&i.applyTransform(n,n,r),n},u.getLocalTransform=function(t,e){e=e||[],a(e);var n=t.origin,i=t.scale||[1,1],o=t.rotation||0,s=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),r.scale(e,e,i),o&&r.rotate(e,e,o),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=s[0],e[5]+=s[1],e};var d=u;t.exports=d},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},"0da8":function(t,e,n){var r=n("19eb"),i=n("9850"),a=n("6d8b"),o=n("5e76");function s(t){r.call(this,t)}s.prototype={constructor:s,type:"image",brush:function(t,e){var n=this.style,r=n.image;n.bind(t,this,e);var i=this._image=o.createOrUpdateImage(r,this._image,this,this.onload);if(i&&o.isImageReady(i)){var a=n.x||0,s=n.y||0,u=n.width,l=n.height,c=i.width/i.height;if(null==u&&null!=l?u=l*c:null==l&&null!=u?l=u/c:null==u&&null==l&&(u=i.width,l=i.height),this.setTransform(t),n.sWidth&&n.sHeight){var h=n.sx||0,f=n.sy||0;t.drawImage(i,h,f,n.sWidth,n.sHeight,a,s,u,l)}else if(n.sx&&n.sy){h=n.sx,f=n.sy;var d=u-h,p=l-f;t.drawImage(i,h,f,d,p,a,s,u,l)}else t.drawImage(i,a,s,u,l);null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new i(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},a.inherits(s,r);var u=s;t.exports=u},"0dbc":function(t,e,n){"use strict";n.r(e),e["default"]={name:"title-center",props:{styles:{title:{position:"center"}}}}},"0e09":function(t,e,n){var r={"./3d-bar.ts":"d1b2","./baidu-map-scatter.ts":"5533","./bar.ts":"b500","./line.ts":"ca1c","./liquid.ts":"c1c1","./pie.ts":"4482","./radar.ts":"09fb","./ring.ts":"ebdc","./scatter.ts":"8ee9","./tree.ts":"2095","./treemap.ts":"ba21"};function i(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="0e09"},"0ee1":function(t,e,n){"use strict";n.r(e);n("28a5"),n("6762"),n("2fdb");e["default"]=function(t,e){var n={},r=t.line;return"string"===typeof r&&"dotted,dashed".split(",").includes(r)&&(n.type=r),{lineStyle:n}}},"0f99":function(t,e,n){var r=n("4e08"),i=(r.__DEV__,n("e0d3")),a=i.makeInner,o=i.getDataItemValue,s=n("8b7f"),u=s.getCoordSysDefineBySeries,l=n("6d8b"),c=l.createHashMap,h=l.each,f=l.map,d=l.isArray,p=l.isString,m=l.isObject,g=l.isTypedArray,v=l.isArrayLike,_=l.extend,y=(l.assert,n("ec6f")),x=n("93d0"),b=x.SOURCE_FORMAT_ORIGINAL,w=x.SOURCE_FORMAT_ARRAY_ROWS,T=x.SOURCE_FORMAT_OBJECT_ROWS,S=x.SOURCE_FORMAT_KEYED_COLUMNS,E=x.SOURCE_FORMAT_UNKNOWN,M=x.SOURCE_FORMAT_TYPED_ARRAY,A=x.SERIES_LAYOUT_BY_ROW,C=a();function O(t){var e=t.option.source,n=E;if(g(e))n=M;else if(d(e)){0===e.length&&(n=w);for(var r=0,i=e.length;r<i;r++){var a=e[r];if(null!=a){if(d(a)){n=w;break}if(m(a)){n=T;break}}}}else if(m(e)){for(var o in e)if(e.hasOwnProperty(o)&&v(e[o])){n=S;break}}else if(null!=e)throw new Error("Invalid data");C(t).sourceFormat=n}function D(t){return C(t).source}function L(t){C(t).datasetMap=c()}function I(t){var e=t.option,n=e.data,r=g(n)?M:b,i=!1,a=e.seriesLayoutBy,o=e.sourceHeader,s=e.dimensions,u=B(t);if(u){var l=u.option;n=l.source,r=C(u).sourceFormat,i=!0,a=a||l.seriesLayoutBy,null==o&&(o=l.sourceHeader),s=s||l.dimensions}var c=P(n,r,a,o,s),h=e.encode;!h&&u&&(h=F(t,u,n,r,a,c)),C(t).source=new y({data:n,fromDataset:i,seriesLayoutBy:a,sourceFormat:r,dimensionsDefine:c.dimensionsDefine,startIndex:c.startIndex,dimensionsDetectCount:c.dimensionsDetectCount,encodeDefine:h})}function P(t,e,n,r,i){if(!t)return{dimensionsDefine:R(i)};var a,s,u,l;if(e===w)"auto"===r||null==r?N(function(t){null!=t&&"-"!==t&&(p(t)?null==s&&(s=1):s=0)},n,t,10):s=r?1:0,i||1!==s||(i=[],N(function(t,e){i[e]=null!=t?t:""},n,t)),a=i?i.length:n===A?t.length:t[0]?t[0].length:null;else if(e===T)i||(i=k(t),u=!0);else if(e===S)i||(i=[],u=!0,h(t,function(t,e){i.push(e)}));else if(e===b){var c=o(t[0]);a=d(c)&&c.length||1}return u&&h(i,function(t,e){"name"===(m(t)?t.name:t)&&(l=e)}),{startIndex:s,dimensionsDefine:R(i),dimensionsDetectCount:a,potentialNameDimIndex:l}}function R(t){if(t){var e=c();return f(t,function(t,n){if(t=_({},m(t)?t:{name:t}),null==t.name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var r=e.get(t.name);return r?t.name+="-"+r.count++:e.set(t.name,{count:1}),t})}}function N(t,e,n,r){if(null==r&&(r=1/0),e===A)for(var i=0;i<n.length&&i<r;i++)t(n[i]?n[i][0]:null,i);else{var a=n[0]||[];for(i=0;i<a.length&&i<r;i++)t(a[i],i)}}function k(t){var e,n=0;while(n<t.length&&!(e=t[n++]));if(e){var r=[];return h(e,function(t,e){r.push(e)}),r}}function F(t,e,n,r,i,a){var o=u(t),s={},l=[],f=[],d=t.subType,p=c(["pie","map","funnel"]),m=c(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(o&&null!=m.get(d)){var g=t.ecModel,v=C(g).datasetMap,_=e.uid+"_"+i,y=v.get(_)||v.set(_,{categoryWayDim:1,valueWayDim:0});h(o.coordSysDims,function(t){if(null==o.firstCategoryDimIndex){var e=y.valueWayDim++;s[t]=e,f.push(e)}else if(o.categoryAxisMap.get(t))s[t]=0,l.push(0);else{e=y.categoryWayDim++;s[t]=e,f.push(e)}})}else if(null!=p.get(d)){for(var x,b=0;b<5&&null==x;b++)U(n,r,i,a.dimensionsDefine,a.startIndex,b)||(x=b);if(null!=x){s.value=x;var w=a.potentialNameDimIndex||Math.max(x-1,0);f.push(w),l.push(w)}}return l.length&&(s.itemName=l),f.length&&(s.seriesName=f),s}function B(t){var e=t.option,n=e.data;if(!n)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}function z(t,e){return U(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function U(t,e,n,r,i,a){var s,u,l=5;if(g(t))return!1;if(r&&(u=r[a],u=m(u)?u.name:u),e===w)if(n===A){for(var c=t[a],h=0;h<(c||[]).length&&h<l;h++)if(null!=(s=y(c[i+h])))return s}else for(h=0;h<t.length&&h<l;h++){var f=t[i+h];if(f&&null!=(s=y(f[a])))return s}else if(e===T){if(!u)return;for(h=0;h<t.length&&h<l;h++){var v=t[h];if(v&&null!=(s=y(v[u])))return s}}else if(e===S){if(!u)return;c=t[u];if(!c||g(c))return!1;for(h=0;h<c.length&&h<l;h++)if(null!=(s=y(c[h])))return s}else if(e===b)for(h=0;h<t.length&&h<l;h++){v=t[h];var _=o(v);if(!d(_))return!1;if(null!=(s=y(_[a])))return s}function y(t){return(null==t||!isFinite(t)||""===t)&&(!(!p(t)||"-"===t)||void 0)}return!1}e.detectSourceFormat=O,e.getSource=D,e.resetSourceDefaulter=L,e.prepareSource=I,e.guessOrdinal=z},"0fc9":function(t,e,n){var r=n("3a38"),i=Math.max,a=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):a(t,e)}},1127:function(t,e,n){"use strict";n.r(e),e["default"]=[[{value:[1800,1500,1400,1400,1500,1500],name:"上月"},{value:[1400,1600,1600,1600,1600,1600],name:"本月"}]]},"112d":function(t,e,n){var r={"./bar-simple.ts":"a157","./gdp-by-years-dataset.ts":"fd38","./gdp-by-years.ts":"2d07","./line-simple.ts":"2628","./map-scatter.ts":"c7ba","./pie-simple.ts":"425b","./radar-simple.ts":"1127","./rose-simple.ts":"f8a6","./scatter-medium.ts":"834a","./scatter-simple.ts":"2add","./tree-simple.ts":"9566","./treemap-simple.ts":"ed07"};function i(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="112d"},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"11e9":function(t,e,n){var r=n("52a7"),i=n("4630"),a=n("6821"),o=n("6a99"),s=n("69a8"),u=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=a(t),e=o(e,!0),u)try{return l(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),a=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,o=a(e),s=o.length,u=0;while(s>u)r.f(t,n=o[u++],e[n]);return t}},1548:function(t,e,n){var r=n("6d8b"),i=n("3301"),a=n("697ef"),o=n("2023"),s=n("4319"),u=n("f934");u.getLayoutRect;e.getLayoutRect=u.getLayoutRect;var l=n("ee1a"),c=l.enableDataStack,h=l.isDimensionStacked,f=l.getStackedDimension,d=n("862d");e.completeDimensions=d;var p=n("b1d4");e.createDimensions=p;var m=n("a15a");function g(t){return i(t.getSource(),t)}e.createSymbol=m.createSymbol;var v={isDimensionStacked:h,enableDataStack:c,getStackedDimension:f};function _(t,e){var n=e;s.isInstance(e)||(n=new s(e),r.mixin(n,o));var i=a.createScaleByModel(n);return i.setExtent(t[0],t[1]),a.niceScaleExtent(i,n),i}function y(t){r.mixin(t,o)}e.createList=g,e.dataStack=v,e.createScale=_,e.mixinAxisModelCommonMethods=y},"164e":function(e,n){e.exports=t},1654:function(t,e,n){"use strict";var r=n("71c1")(!0);n("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},1687:function(t,e){var n="undefined"===typeof Float32Array?Array:Float32Array;function r(){var t=new n(6);return i(t),t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],u=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t}function s(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function u(t,e,n){var r=e[0],i=e[2],a=e[4],o=e[1],s=e[3],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=-r*l+o*c,t[2]=i*c+s*l,t[3]=-i*l+c*s,t[4]=c*a+l*u,t[5]=c*u-l*a,t}function l(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function c(t,e){var n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5],u=n*o-a*r;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-o*i)*u,t[5]=(a*i-n*s)*u,t):null}function h(t){var e=r();return a(e,t),e}e.create=r,e.identity=i,e.copy=a,e.mul=o,e.translate=s,e.rotate=u,e.scale=l,e.invert=c,e.clone=h},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"172f":function(t,e,n){"use strict";n.r(e);n("f751");e["default"]=function(t,e){var n=t.accessories.tooltip,r=Object.assign({},e.tooltip,{padding:0,backgroundColor:"transparent",show:!0,trigger:"axis",positon:n.positon});return n.foramtter&&(r.formatter=['<div class="tooltip">',n.formatter,"</di>"].join("")),n.data&&(r.formatter=function(e,r){var i=e[0].dataIndex,a=Array.isArray(t.legend)?t.legend:t.legend.data,o=n.data.map(function(t,n){return[e.axisValueLabel,a[n],": ",t[i]].join("")}).join("<br>");return['<div class="tooltip">',e[0].axisValueLabel,"年<br>",o,"</di>"].join("")}),{tooltip:r}}},1857:function(t,e,n){"use strict";n.r(e),e["default"]={name:"legend-right-vertical",props:{accessories:{legend:{x:"right",direction:"vertical",right:10,top:"middle"}},styles:{label:!1,canvas:{center:["38%","50%"]},title:{left:"28%"}}}}},1881:function(t,e,n){"use strict";n.r(e);var r={barWidth:15};e["default"]=r},"18c0":function(t,e,n){var r=n("6d8b"),i=n("e0d8"),a=n("8e43"),o=i.prototype,s=i.extend({type:"ordinal",init:function(t,e){t&&!r.isArray(t)||(t=new a({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"===typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),o.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return o.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(o.scale.call(this,t))},getTicks:function(){var t=[],e=this._extent,n=e[0];while(n<=e[1])t.push(n),n++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:r.noop,niceExtent:r.noop});s.create=function(){return new s};var u=s;t.exports=u},1991:function(t,e,n){var r,i,a,o=n("9b43"),s=n("31f4"),u=n("fab2"),l=n("230e"),c=n("7726"),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,g=0,v={},_="onreadystatechange",y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},x=function(t){y.call(t.data)};f&&d||(f=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},d=function(t){delete v[t]},"process"==n("2d95")(h)?r=function(t){h.nextTick(o(y,t,1))}:m&&m.now?r=function(t){m.now(o(y,t,1))}:p?(i=new p,a=i.port2,i.port1.onmessage=x,r=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",x,!1)):r=_ in l("script")?function(t){u.appendChild(l("script"))[_]=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),t.exports={set:f,clear:d}},"19eb":function(t,e,n){var r=n("6d8b"),i=n("2b61"),a=n("d5b7"),o=n("9e2e");function s(t){for(var e in t=t||{},a.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new i(t.style,this),this._rect=null,this.__clipPaths=[]}s.prototype={constructor:s,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();return r.contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?a.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new i(t,this),this.dirty(!1),this}},r.inherits(s,a),r.mixin(s,o);var u=s;t.exports=u},"1a46":function(t,e,n){"use strict";n.r(e);n("7f7f"),n("6762"),n("2fdb");e["default"]=function(t,e){var n={};if(!1===t.label)n={show:!1};else if("string"===typeof t.label)["top"].includes(t.label)&&(n={show:!0,position:t.label});else if(t.label.formats){var r=t.label.formats;n={normal:{formatter:function(e,n,i){return["{name|"+e.name+"}\n",r.hr?"{hr|}\n":"","{value|"+e.value+"}",t.label.percent&&e.percent?"\n{percent|"+e.percent+"%}":""].join("")},rich:r}}}else n={show:!0,position:t.label.position,offset:t.label.offset||[0,0],fontSize:t.label.fontSize};return{label:n}}},"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"1bc3":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"1d20":function(t,e,n){"use strict";n.r(e),e["default"]={name:"no-legend",props:{styles:{label:!1}}}},"1df8":function(t,e,n){var r=n("63b6");r(r.S,"Object",{setPrototypeOf:n("ead6").set})},"1ec9":function(t,e,n){var r=n("f772"),i=n("e53d").document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},"1f44":function(t,e,n){"use strict";n.r(e);n("7f7f");e["default"]=function(t){var e={},n=t.symbol.constructor.name;return"String"===n&&(e.symbol=t.symbol),"Number"===n&&(e.symbol="circle",e.symbolSize=t.symbol),"Object"===n&&(e.symbol=t.symbol.shape,e.symbol=t.symbol.size),e}},"1fa8":function(t,e,n){var r=n("cb7c");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var a=t["return"];throw void 0!==a&&r(a.call(t)),o}}},"1fab":function(t,e){var n=Array.prototype.slice,r=function(t){this._$handlers={},this._$eventProcessor=t};function i(t,e){var n=t._$eventProcessor;return null!=e&&n&&n.normalizeQuery&&(e=n.normalizeQuery(e)),e}function a(t,e,n,r,a,o){var s=t._$handlers;if("function"===typeof n&&(a=r,r=n,n=null),!r||!e)return t;n=i(t,n),s[e]||(s[e]=[]);for(var u=0;u<s[e].length;u++)if(s[e][u].h===r)return t;var l={h:r,one:o,query:n,ctx:a||t,callAtLast:r.zrEventfulCallAtLast},c=s[e].length-1,h=s[e][c];return h&&h.callAtLast?s[e].splice(c,0,l):s[e].push(l),t}r.prototype={constructor:r,one:function(t,e,n,r){return a(this,t,e,n,r,!0)},on:function(t,e,n,r){return a(this,t,e,n,r,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,a=n[t].length;i<a;i++)n[t][i].h!==e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){var e=this._$handlers[t],r=this._$eventProcessor;if(e){var i=arguments,a=i.length;a>3&&(i=n.call(i,1));for(var o=e.length,s=0;s<o;){var u=e[s];if(r&&r.filter&&null!=u.query&&!r.filter(t,u.query))s++;else{switch(a){case 1:u.h.call(u.ctx);break;case 2:u.h.call(u.ctx,i[1]);break;case 3:u.h.call(u.ctx,i[1],i[2]);break;default:u.h.apply(u.ctx,i);break}u.one?(e.splice(s,1),o--):s++}}}return r&&r.afterTrigger&&r.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],r=this._$eventProcessor;if(e){var i=arguments,a=i.length;a>4&&(i=n.call(i,1,i.length-1));for(var o=i[i.length-1],s=e.length,u=0;u<s;){var l=e[u];if(r&&r.filter&&null!=l.query&&!r.filter(t,l.query))u++;else{switch(a){case 1:l.h.call(o);break;case 2:l.h.call(o,i[1]);break;case 3:l.h.call(o,i[1],i[2]);break;default:l.h.apply(o,i);break}l.one?(e.splice(u,1),s--):u++}}}return r&&r.afterTrigger&&r.afterTrigger(t),this}};var o=r;t.exports=o},2023:function(t,e,n){var r=n("6d8b"),i={getMin:function(t){var e=this.option,n=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!==typeof n&&!r.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(t){var e=this.option,n=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!==typeof n&&!r.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:r.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};t.exports=i},2039:function(t,e,n){var r=n("6d8b"),i={};function a(){this._coordinateSystems=[]}a.prototype={constructor:a,create:function(t,e){var n=[];r.each(i,function(r,i){var a=r.create(t,e);n=n.concat(a||[])}),this._coordinateSystems=n},update:function(t,e){r.each(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},a.register=function(t,e){i[t]=e},a.get=function(t){return i[t]};var o=a;t.exports=o},2095:function(t,e,n){"use strict";n.r(e);n("f751");e["default"]=function(t,e){t.map(function(t){var e={label:{normal:{position:"left",verticalAlign:"middle",align:"right",color:"#fff"}}};Object.assign(t,e)});return t}},"20c8":function(t,e,n){var r=n("4a3f"),i=n("401b"),a=n("e263"),o=n("9850"),s=n("2cf4"),u=s.devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},c=[],h=[],f=[],d=[],p=Math.min,m=Math.max,g=Math.cos,v=Math.sin,_=Math.sqrt,y=Math.abs,x="undefined"!==typeof Float32Array,b=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};b.prototype={constructor:b,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=y(1/u/t)||0,this._uy=y(1/u/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=y(t-this._xi)>this._ux||y(e-this._yi)>this._uy||this._len<5;return this.addData(l.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,r,i,a){return this.addData(l.C,t,e,n,r,i,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,r,i,a):this._ctx.bezierCurveTo(t,e,n,r,i,a)),this._xi=i,this._yi=a,this},quadraticCurveTo:function(t,e,n,r){return this.addData(l.Q,t,e,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},arc:function(t,e,n,r,i,a){return this.addData(l.A,t,e,n,n,r,i-r,0,a?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,a),this._xi=g(i)*n+t,this._yi=v(i)*n+e,this},arcTo:function(t,e,n,r,i){return this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},rect:function(t,e,n,r){return this._ctx&&this._ctx.rect(t,e,n,r),this.addData(l.R,t,e,n,r),this},closePath:function(){this.addData(l.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!x||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();x&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<e;i++)for(var a=t[i].data,o=0;o<a.length;o++)this.data[r++]=a[o];this._len=r},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,r,i=this._dashSum,a=this._dashOffset,o=this._lineDash,s=this._ctx,u=this._xi,l=this._yi,c=t-u,h=e-l,f=_(c*c+h*h),d=u,g=l,v=o.length;c/=f,h/=f,a<0&&(a=i+a),a%=i,d-=a*c,g-=a*h;while(c>0&&d<=t||c<0&&d>=t||0===c&&(h>0&&g<=e||h<0&&g>=e))r=this._dashIdx,n=o[r],d+=c*n,g+=h*n,this._dashIdx=(r+1)%v,c>0&&d<u||c<0&&d>u||h>0&&g<l||h<0&&g>l||s[r%2?"moveTo":"lineTo"](c>=0?p(d,t):m(d,t),h>=0?p(g,e):m(g,e));c=d-t,h=g-e,this._dashOffset=-_(c*c+h*h)},_dashedBezierTo:function(t,e,n,i,a,o){var s,u,l,c,h,f=this._dashSum,d=this._dashOffset,p=this._lineDash,m=this._ctx,g=this._xi,v=this._yi,y=r.cubicAt,x=0,b=this._dashIdx,w=p.length,T=0;for(d<0&&(d=f+d),d%=f,s=0;s<1;s+=.1)u=y(g,t,n,a,s+.1)-y(g,t,n,a,s),l=y(v,e,i,o,s+.1)-y(v,e,i,o,s),x+=_(u*u+l*l);for(;b<w;b++)if(T+=p[b],T>d)break;s=(T-d)/x;while(s<=1)c=y(g,t,n,a,s),h=y(v,e,i,o,s),b%2?m.moveTo(c,h):m.lineTo(c,h),s+=p[b]/x,b=(b+1)%w;b%2!==0&&m.lineTo(a,o),u=a-c,l=o-h,this._dashOffset=-_(u*u+l*l)},_dashedQuadraticTo:function(t,e,n,r){var i=n,a=r;n=(n+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,r,i,a)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,x&&(this.data=new Float32Array(t)))},getBoundingRect:function(){c[0]=c[1]=f[0]=f[1]=Number.MAX_VALUE,h[0]=h[1]=d[0]=d[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,r=0,s=0,u=0;u<t.length;){var p=t[u++];switch(1===u&&(e=t[u],n=t[u+1],r=e,s=n),p){case l.M:r=t[u++],s=t[u++],e=r,n=s,f[0]=r,f[1]=s,d[0]=r,d[1]=s;break;case l.L:a.fromLine(e,n,t[u],t[u+1],f,d),e=t[u++],n=t[u++];break;case l.C:a.fromCubic(e,n,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],f,d),e=t[u++],n=t[u++];break;case l.Q:a.fromQuadratic(e,n,t[u++],t[u++],t[u],t[u+1],f,d),e=t[u++],n=t[u++];break;case l.A:var m=t[u++],_=t[u++],y=t[u++],x=t[u++],b=t[u++],w=t[u++]+b;u+=1;var T=1-t[u++];1===u&&(r=g(b)*y+m,s=v(b)*x+_),a.fromArc(m,_,y,x,b,w,T,f,d),e=g(w)*y+m,n=v(w)*x+_;break;case l.R:r=e=t[u++],s=n=t[u++];var S=t[u++],E=t[u++];a.fromLine(r,s,r+S,s+E,f,d);break;case l.Z:e=r,n=s;break}i.min(c,c,f),i.max(h,h,d)}return 0===u&&(c[0]=c[1]=h[0]=h[1]=0),new o(c[0],c[1],h[0]-c[0],h[1]-c[1])},rebuildPath:function(t){for(var e,n,r,i,a,o,s=this.data,u=this._ux,c=this._uy,h=this._len,f=0;f<h;){var d=s[f++];switch(1===f&&(r=s[f],i=s[f+1],e=r,n=i),d){case l.M:e=r=s[f++],n=i=s[f++],t.moveTo(r,i);break;case l.L:a=s[f++],o=s[f++],(y(a-r)>u||y(o-i)>c||f===h-1)&&(t.lineTo(a,o),r=a,i=o);break;case l.C:t.bezierCurveTo(s[f++],s[f++],s[f++],s[f++],s[f++],s[f++]),r=s[f-2],i=s[f-1];break;case l.Q:t.quadraticCurveTo(s[f++],s[f++],s[f++],s[f++]),r=s[f-2],i=s[f-1];break;case l.A:var p=s[f++],m=s[f++],_=s[f++],x=s[f++],b=s[f++],w=s[f++],T=s[f++],S=s[f++],E=_>x?_:x,M=_>x?1:_/x,A=_>x?x/_:1,C=Math.abs(_-x)>.001,O=b+w;C?(t.translate(p,m),t.rotate(T),t.scale(M,A),t.arc(0,0,E,b,O,1-S),t.scale(1/M,1/A),t.rotate(-T),t.translate(-p,-m)):t.arc(p,m,E,b,O,1-S),1===f&&(e=g(b)*_+p,n=v(b)*x+m),r=g(O)*_+p,i=v(O)*x+m;break;case l.R:e=r=s[f],n=i=s[f+1],t.rect(s[f++],s[f++],s[f++],s[f++]);break;case l.Z:t.closePath(),r=e,i=n}}}},b.CMD=l;var w=b;t.exports=w},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),i=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},2114:function(t,e,n){var r=n("164e"),i=r.extendComponentView({type:"bmap",render:function(t,e,n){var r=!0,i=t.getBMap(),a=n.getZr().painter.getViewportRoot(),o=t.coordinateSystem,s=function(e,i){if(!r){var s=a.parentNode.parentNode.parentNode,u=[-parseInt(s.style.left,10)||0,-parseInt(s.style.top,10)||0];a.style.left=u[0]+"px",a.style.top=u[1]+"px",o.setMapOffset(u),t.__mapOffset=u,n.dispatchAction({type:"bmapRoam"})}};function u(){r||n.dispatchAction({type:"bmapRoam"})}i.removeEventListener("moving",this._oldMoveHandler),i.removeEventListener("zoomend",this._oldZoomEndHandler),i.addEventListener("moving",s),i.addEventListener("zoomend",u),this._oldMoveHandler=s,this._oldZoomEndHandler=u;var l=t.get("roam");l&&"scale"!==l?i.enableDragging():i.disableDragging(),l&&"move"!==l?(i.enableScrollWheelZoom(),i.enableDoubleClickZoom(),i.enablePinchToZoom()):(i.disableScrollWheelZoom(),i.disableDoubleClickZoom(),i.disablePinchToZoom());var c=t.__mapStyle,h=t.get("mapStyle")||{},f=JSON.stringify(h);JSON.stringify(c)!==f&&(Object.keys(h).length&&i.setMapStyle(h),t.__mapStyle=JSON.parse(f)),r=!1}});t.exports=i},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),a=n("79e5"),o=n("be13"),s=n("2b4c"),u=n("520a"),l=s("species"),c=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=s(t),d=!a(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),p=d?!a(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!e}):void 0;if(!d||!p||"replace"===t&&!c||"split"===t&&!h){var m=/./[f],g=n(o,f,""[t],function(t,e,n,r,i){return e.exec===u?d&&!i?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),v=g[0],_=g[1];r(String.prototype,t,v),i(RegExp.prototype,f,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}}},"216a":function(t,e,n){var r=n("6d8b"),i=n("3842"),a=n("eda2"),o=n("944e"),s=n("89e3"),u=s.prototype,l=Math.ceil,c=Math.floor,h=1e3,f=60*h,d=60*f,p=24*d,m=function(t,e,n,r){while(n<r){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n},g=s.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return a.formatTime(e[0],n,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=p,e[1]+=p),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-p}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=i.round(c(e[0]/r)*r)),t.fixMax||(e[1]=i.round(l(e[1]/r)*r))},niceTicks:function(t,e,n){t=t||10;var r=this._extent,a=r[1]-r[0],s=a/t;null!=e&&s<e&&(s=e),null!=n&&s>n&&(s=n);var u=v.length,h=m(v,s,0,u),f=v[Math.min(h,u-1)],d=f[1];if("year"===f[0]){var p=a/d,g=i.nice(p/t,!0);d*=g}var _=this.getSetting("useUTC")?0:60*new Date(+r[0]||+r[1]).getTimezoneOffset()*1e3,y=[Math.round(l((r[0]-_)/d)*d+_),Math.round(c((r[1]-_)/d)*d+_)];o.fixExtent(y,r),this._stepLvl=f,this._interval=d,this._niceExtent=y},parse:function(t){return+i.parseDate(t)}});r.each(["contain","normalize"],function(t){g.prototype[t]=function(e){return u[t].call(this,this.parse(e))}});var v=[["hh:mm:ss",h],["hh:mm:ss",5*h],["hh:mm:ss",10*h],["hh:mm:ss",15*h],["hh:mm:ss",30*h],["hh:mm\nMM-dd",f],["hh:mm\nMM-dd",5*f],["hh:mm\nMM-dd",10*f],["hh:mm\nMM-dd",15*f],["hh:mm\nMM-dd",30*f],["hh:mm\nMM-dd",d],["hh:mm\nMM-dd",2*d],["hh:mm\nMM-dd",6*d],["hh:mm\nMM-dd",12*d],["MM-dd\nyyyy",p],["MM-dd\nyyyy",2*p],["MM-dd\nyyyy",3*p],["MM-dd\nyyyy",4*p],["MM-dd\nyyyy",5*p],["MM-dd\nyyyy",6*p],["week",7*p],["MM-dd\nyyyy",10*p],["week",14*p],["week",21*p],["month",31*p],["week",42*p],["month",62*p],["week",70*p],["quarter",95*p],["month",31*p*4],["month",31*p*5],["half-year",380*p/2],["month",31*p*8],["month",31*p*10],["year",380*p]];g.create=function(t){return new g({useUTC:t.ecModel.get("useUTC")})};var _=g;t.exports=_},"22d1":function(t,e){var n={};n="object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"===typeof document&&"undefined"!==typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"===typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:i(navigator.userAgent);var r=n;function i(t){var e={},n={},r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);return r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),a&&(n.edge=!0,n.version=a[1]),o&&(n.weChat=!0),{browser:n,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!==typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11),domSupported:"undefined"!==typeof document}}t.exports=r},2306:function(t,e,n){var r=n("6d8b"),i=n("342d"),a=n("41ef"),o=n("1687"),s=n("401b"),u=n("cbe5"),l=n("0cde"),c=n("0da8");e.Image=c;var h=n("e1fc");e.Group=h;var f=n("76a5");e.Text=f;var d=n("d9fc");e.Circle=d;var p=n("4aa2");e.Sector=p;var m=n("4573");e.Ring=m;var g=n("87b1");e.Polygon=g;var v=n("d498");e.Polyline=v;var _=n("c7a2");e.Rect=_;var y=n("cb11");e.Line=y;var x=n("ac0f");e.BezierCurve=x;var b=n("8d32");e.Arc=b;var w=n("d4c6");e.CompoundPath=w;var T=n("48a9");e.LinearGradient=T;var S=n("dded");e.RadialGradient=S;var E=n("9850");e.BoundingRect=E;var M=n("392f");e.IncrementalDisplayable=M;var A=Math.round,C=Math.max,O=Math.min,D={},L=1;function I(t){return u.extend(t)}function P(t,e){return i.extendFromString(t,e)}function R(t,e,n,r){var a=i.createFromString(t,e);return n&&("center"===r&&(n=k(n,a.getBoundingRect())),B(a,n)),a}function N(t,e,n){var r=new c({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var i={width:t.width,height:t.height};r.setStyle(k(e,i))}}});return r}function k(t,e){var n,r=e.width/e.height,i=t.height*r;i<=t.width?n=t.height:(i=t.width,n=i/r);var a=t.x+t.width/2,o=t.y+t.height/2;return{x:a-i/2,y:o-n/2,width:i,height:n}}var F=i.mergePath;function B(t,e){if(t.applyTransform){var n=t.getBoundingRect(),r=n.calculateTransform(e);t.applyTransform(r)}}function z(t){var e=t.shape,n=t.style.lineWidth;return A(2*e.x1)===A(2*e.x2)&&(e.x1=e.x2=G(e.x1,n,!0)),A(2*e.y1)===A(2*e.y2)&&(e.y1=e.y2=G(e.y1,n,!0)),t}function U(t){var e=t.shape,n=t.style.lineWidth,r=e.x,i=e.y,a=e.width,o=e.height;return e.x=G(e.x,n,!0),e.y=G(e.y,n,!0),e.width=Math.max(G(r+a,n,!1)-e.x,0===a?0:1),e.height=Math.max(G(i+o,n,!1)-e.y,0===o?0:1),t}function G(t,e,n){var r=A(2*t);return(r+A(e))%2===0?r/2:(r+(n?1:-1))/2}function j(t){return null!=t&&"none"!==t}var H=r.createHashMap(),V=0;function W(t){if("string"!==typeof t)return t;var e=H.get(t);return e||(e=a.lift(t,-.1),V<1e4&&(H.set(t,e),V++)),e}function X(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var n=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var r=t.style;for(var i in e)null!=e[i]&&(n[i]=r[i]);n.fill=r.fill,n.stroke=r.stroke}else t.__cachedNormalStl=t.__cachedNormalZ2=null}}function q(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var n=t.useHoverLayer;t.__highlighted=n?"layer":"plain";var r=t.__zr;if(r||!n){var i=t,a=t.style;n&&(i=r.addHover(t),a=i.style),dt(a),n||X(i),a.extendFrom(e),Y(a,e,"fill"),Y(a,e,"stroke"),ft(a),n||(t.dirty(!1),t.z2+=L)}}}function Y(t,e,n){!j(e[n])&&j(t[n])&&(t[n]=W(t[n]))}function Z(t){var e=t.__highlighted;if(e)if(t.__highlighted=!1,"layer"===e)t.__zr&&t.__zr.removeHover(t);else if(e){var n=t.style,r=t.__cachedNormalStl;r&&(dt(n),t.setStyle(r),ft(n));var i=t.__cachedNormalZ2;null!=i&&t.z2-i===L&&(t.z2=i)}}function K(t,e){t.isGroup?t.traverse(function(t){!t.isGroup&&e(t)}):e(t)}function $(t,e){e=t.__hoverStl=!1!==e&&(e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,Z(t),q(t))}function J(t){return t&&t.__isEmphasisEntered}function Q(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasisEntered&&K(this,q)}function tt(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasisEntered&&K(this,Z)}function et(){this.__isEmphasisEntered=!0,K(this,q)}function nt(){this.__isEmphasisEntered=!1,K(this,Z)}function rt(t,e,n){t.isGroup?t.traverse(function(t){!t.isGroup&&$(t,t.hoverStyle||e)}):$(t,t.hoverStyle||e),it(t,n)}function it(t,e){var n=!1===e;if(t.__hoverSilentOnTouch=null!=e&&e.hoverSilentOnTouch,!n||t.__hoverStyleTrigger){var r=n?"off":"on";t[r]("mouseover",Q)[r]("mouseout",tt),t[r]("emphasis",et)[r]("normal",nt),t.__hoverStyleTrigger=!n}}function at(t,e,n,i,a,o,s){a=a||D;var u,l=a.labelFetcher,c=a.labelDataIndex,h=a.labelDimIndex,f=n.getShallow("show"),d=i.getShallow("show");(f||d)&&(l&&(u=l.getFormattedLabel(c,"normal",null,h)),null==u&&(u=r.isFunction(a.defaultText)?a.defaultText(c,a):a.defaultText));var p=f?u:null,m=d?r.retrieve2(l?l.getFormattedLabel(c,"emphasis",null,h):null,u):null;null==p&&null==m||(ot(t,n,o,a),ot(e,i,s,a,!0)),t.text=p,e.text=m}function ot(t,e,n,i,a){return ut(t,e,i,a),n&&r.extend(t,n),t}function st(t,e,n){var r,i={isRectText:!0};!1===n?r=!0:i.autoColor=n,ut(t,e,i,r)}function ut(t,e,n,i){if(n=n||D,n.isRectText){var a=e.getShallow("position")||(i?null:"inside");"outside"===a&&(a="top"),t.textPosition=a,t.textOffset=e.getShallow("offset");var o=e.getShallow("rotate");null!=o&&(o*=Math.PI/180),t.textRotation=o,t.textDistance=r.retrieve2(e.getShallow("distance"),i?null:5)}var s,u=e.ecModel,l=u&&u.option.textStyle,c=lt(e);if(c)for(var h in s={},c)if(c.hasOwnProperty(h)){var f=e.getModel(["rich",h]);ct(s[h]={},f,l,n,i)}return t.rich=s,ct(t,e,l,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function lt(t){var e;while(t&&t!==t.ecModel){var n=(t.option||D).rich;if(n)for(var r in e=e||{},n)n.hasOwnProperty(r)&&(e[r]=1);t=t.parentModel}return e}function ct(t,e,n,i,a,o){n=!a&&n||D,t.textFill=ht(e.getShallow("color"),i)||n.color,t.textStroke=ht(e.getShallow("textBorderColor"),i)||n.textBorderColor,t.textStrokeWidth=r.retrieve2(e.getShallow("textBorderWidth"),n.textBorderWidth),t.insideRawTextPosition=t.textPosition,a||(o&&(t.insideRollbackOpt=i,ft(t)),null==t.textFill&&(t.textFill=i.autoColor)),t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),o&&i.disableBox||(t.textBackgroundColor=ht(e.getShallow("backgroundColor"),i),t.textPadding=e.getShallow("padding"),t.textBorderColor=ht(e.getShallow("borderColor"),i),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function ht(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function ft(t){var e=t.insideRollbackOpt;if(e&&null==t.textFill){var n,r=e.useInsideStyle,i=t.insideRawTextPosition,a=e.autoColor;!1!==r&&(!0===r||e.isRectText&&i&&"string"===typeof i&&i.indexOf("inside")>=0)?(n={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=a,null==t.textStrokeWidth&&(t.textStrokeWidth=2))):null!=a&&(n={textFill:null},t.textFill=a),n&&(t.insideRollback=n)}}function dt(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function pt(t,e){var n=e||e.getModel("textStyle");return r.trim([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function mt(t,e,n,r,i,a){"function"===typeof i&&(a=i,i=null);var o=r&&r.isAnimationEnabled();if(o){var s=t?"Update":"",u=r.getShallow("animationDuration"+s),l=r.getShallow("animationEasing"+s),c=r.getShallow("animationDelay"+s);"function"===typeof c&&(c=c(i,r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null)),"function"===typeof u&&(u=u(i)),u>0?e.animateTo(n,u,c||0,l,a,!!a):(e.stopAnimation(),e.attr(n),a&&a())}else e.stopAnimation(),e.attr(n),a&&a()}function gt(t,e,n,r,i){mt(!0,t,e,n,r,i)}function vt(t,e,n,r,i){mt(!1,t,e,n,r,i)}function _t(t,e){var n=o.identity([]);while(t&&t!==e)o.mul(n,t.getLocalTransform(),n),t=t.parent;return n}function yt(t,e,n){return e&&!r.isArrayLike(e)&&(e=l.getLocalTransform(e)),n&&(e=o.invert([],e)),s.applyTransform([],t,e)}function xt(t,e,n){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=["left"===t?-r:"right"===t?r:0,"top"===t?-i:"bottom"===t?i:0];return a=yt(a,e,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function bt(t,e,n,i){if(t&&e){var a=o(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=a[t.anid];if(e){var r=u(t);t.attr(u(e)),gt(t,r,n,t.dataIndex)}}})}function o(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)}),e}function u(t){var e={position:s.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=r.extend({},t.shape)),e}}function wt(t,e){return r.map(t,function(t){var n=t[0];n=C(n,e.x),n=O(n,e.x+e.width);var r=t[1];return r=C(r,e.y),r=O(r,e.y+e.height),[n,r]})}function Tt(t,e){var n=C(t.x,e.x),r=O(t.x+t.width,e.x+e.width),i=C(t.y,e.y),a=O(t.y+t.height,e.y+e.height);if(r>=n&&a>=i)return{x:n,y:i,width:r-n,height:a-i}}function St(t,e,n){e=r.extend({rectHover:!0},e);var i=e.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(i.image=t.slice(8),r.defaults(i,n),new c(e)):R(t.replace("path://",""),e,n,"center")}e.Z2_EMPHASIS_LIFT=L,e.extendShape=I,e.extendPath=P,e.makePath=R,e.makeImage=N,e.mergePath=F,e.resizePath=B,e.subPixelOptimizeLine=z,e.subPixelOptimizeRect=U,e.subPixelOptimize=G,e.setElementHoverStyle=$,e.isInEmphasis=J,e.setHoverStyle=rt,e.setAsHoverStyleTrigger=it,e.setLabelStyle=at,e.setTextStyle=ot,e.setText=st,e.getFont=pt,e.updateProps=gt,e.initProps=vt,e.getTransform=_t,e.applyTransform=yt,e.transformDirection=xt,e.groupTransition=bt,e.clipPointsByRect=wt,e.clipRectByRect=Tt,e.createIcon=St},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},"23c6":function(t,e,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),i))?n:a?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},"241e":function(t,e,n){var r=n("25eb");t.exports=function(t){return Object(r(t))}},"25b0":function(t,e,n){n("1df8"),t.exports=n("584a").Object.setPrototypeOf},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},2628:function(t,e,n){"use strict";n.r(e),e["default"]=[[120,132,101,124,90,230],[80,65,190,56,14,38],[87,78,50,83,67,104],[34,35,23,26,87,76],[99,49,44,90,49,50]]},"26e1":function(t,e,n){var r=n("6d8b"),i=n("e0d3"),a=r.each,o=r.isObject,s=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function u(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=s.length;n<i;n++){var a=s[n],o=e.normal,u=e.emphasis;o&&o[a]&&(t[a]=t[a]||{},t[a].normal?r.merge(t[a].normal,o[a]):t[a].normal=o[a],o[a]=null),u&&u[a]&&(t[a]=t[a]||{},t[a].emphasis?r.merge(t[a].emphasis,u[a]):t[a].emphasis=u[a],u[a]=null)}}function l(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,a=t[e].emphasis;i&&(n?(t[e].normal=t[e].emphasis=null,r.defaults(t[e],i)):t[e]=i),a&&(t.emphasis=t.emphasis||{},t.emphasis[e]=a)}}function c(t){l(t,"itemStyle"),l(t,"lineStyle"),l(t,"areaStyle"),l(t,"label"),l(t,"labelLine"),l(t,"upperLabel"),l(t,"edgeLabel")}function h(t,e){var n=o(t)&&t[e],r=o(n)&&n.textStyle;if(r)for(var a=0,s=i.TEXT_STYLE_OPTIONS.length;a<s;a++){e=i.TEXT_STYLE_OPTIONS[a];r.hasOwnProperty(e)&&(n[e]=r[e])}}function f(t){t&&(c(t),h(t,"label"),t.emphasis&&h(t.emphasis,"label"))}function d(t){if(o(t)){u(t),c(t),h(t,"label"),h(t,"upperLabel"),h(t,"edgeLabel"),t.emphasis&&(h(t.emphasis,"label"),h(t.emphasis,"upperLabel"),h(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(u(e),f(e));var n=t.markLine;n&&(u(n),f(n));var i=t.markArea;i&&f(i);var a=t.data;if("graph"===t.type){a=a||t.nodes;var s=t.links||t.edges;if(s&&!r.isTypedArray(s))for(var d=0;d<s.length;d++)f(s[d]);r.each(t.categories,function(t){c(t)})}if(a&&!r.isTypedArray(a))for(d=0;d<a.length;d++)f(a[d]);e=t.markPoint;if(e&&e.data){var p=e.data;for(d=0;d<p.length;d++)f(p[d])}n=t.markLine;if(n&&n.data){var m=n.data;for(d=0;d<m.length;d++)r.isArray(m[d])?(f(m[d][0]),f(m[d][1])):f(m[d])}"gauge"===t.type?(h(t,"axisLabel"),h(t,"title"),h(t,"detail")):"treemap"===t.type?(l(t.breadcrumb,"itemStyle"),r.each(t.levels,function(t){c(t)})):"tree"===t.type&&c(t.leaves)}}function p(t){return r.isArray(t)?t:t?[t]:[]}function m(t){return(r.isArray(t)?t[0]:t)||{}}function g(t,e){a(p(t.series),function(t){o(t)&&d(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),a(n,function(e){a(p(t[e]),function(t){t&&(h(t,"axisLabel"),h(t.axisPointer,"label"))})}),a(p(t.parallel),function(t){var e=t&&t.parallelAxisDefault;h(e,"axisLabel"),h(e&&e.axisPointer,"label")}),a(p(t.calendar),function(t){l(t,"itemStyle"),h(t,"dayLabel"),h(t,"monthLabel"),h(t,"yearLabel")}),a(p(t.radar),function(t){h(t,"name")}),a(p(t.geo),function(t){o(t)&&(f(t),a(p(t.regions),function(t){f(t)}))}),a(p(t.timeline),function(t){f(t),l(t,"label"),l(t,"itemStyle"),l(t,"controlStyle",!0);var e=t.data;r.isArray(e)&&r.each(e,function(t){r.isObject(t)&&(l(t,"label"),l(t,"itemStyle"))})}),a(p(t.toolbox),function(t){l(t,"iconStyle"),a(t.feature,function(t){l(t,"iconStyle")})}),h(m(t.axisPointer),"label"),h(m(t.tooltip).axisPointer,"label")}t.exports=g},"272d":function(t,e,n){"use strict";n.r(e),e["default"]=function(t){var e=t.colors;return{color:e}}},"27ee":function(t,e,n){var r=n("23c6"),i=n("2b4c")("iterator"),a=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[r(t)]}},"282b":function(t,e,n){var r=n("6d8b");function i(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,n,i){for(var a={},o=0;o<t.length;o++){var s=t[o][1];if(!(n&&r.indexOf(n,s)>=0||i&&r.indexOf(i,s)<0)){var u=e.getShallow(s);null!=u&&(a[t[o][0]]=u)}}return a}}t.exports=i},"28a5":function(t,e,n){"use strict";var r=n("aae3"),i=n("cb7c"),a=n("ebd6"),o=n("0390"),s=n("9def"),u=n("5f1b"),l=n("520a"),c=n("79e5"),h=Math.min,f=[].push,d="split",p="length",m="lastIndex",g=4294967295,v=!c(function(){RegExp(g,"y")});n("214f")("split",2,function(t,e,n,c){var _;return _="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[p]||2!="ab"[d](/(?:ab)*/)[p]||4!="."[d](/(.?)(.?)/)[p]||"."[d](/()()/)[p]>1||""[d](/.?/)[p]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);var a,o,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,d=void 0===e?g:e>>>0,v=new RegExp(t.source,c+"g");while(a=l.call(v,i)){if(o=v[m],o>h&&(u.push(i.slice(h,a.index)),a[p]>1&&a.index<i[p]&&f.apply(u,a.slice(1)),s=a[0][p],h=o,u[p]>=d))break;v[m]===a.index&&v[m]++}return h===i[p]?!s&&v.test("")||u.push(""):u.push(i.slice(h)),u[p]>d?u.slice(0,d):u}:"0"[d](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,r):_.call(String(i),n,r)},function(t,e){var r=c(_,t,this,e,_!==n);if(r.done)return r.value;var l=i(t),f=String(this),d=a(l,RegExp),p=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),y=new d(v?l:"^(?:"+l.source+")",m),x=void 0===e?g:e>>>0;if(0===x)return[];if(0===f.length)return null===u(y,f)?[f]:[];var b=0,w=0,T=[];while(w<f.length){y.lastIndex=v?w:0;var S,E=u(y,v?f:f.slice(w));if(null===E||(S=h(s(y.lastIndex+(v?0:w)),f.length))===b)w=o(f,w,p);else{if(T.push(f.slice(b,w)),T.length===x)return T;for(var M=1;M<=E.length-1;M++)if(T.push(E[M]),T.length===x)return T;w=b=S}}return T.push(f.slice(b)),T}]})},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"29a8":function(t,e){var n={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};t.exports=n},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),a=n("69a8"),o=n("ca5a")("src"),s=n("fa5b"),u="toString",l=(""+s).split(u);n("8378").inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(a(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(a(n,o)||i(n,o,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[o]||s.call(this)})},"2add":function(t,e,n){"use strict";n.r(e),e["default"]=[{name:"default",value:[[10,8.04],[8,6.95],[13,7.58],[9,8.81],[11,8.33],[14,9.96],[6,7.24],[4,4.26],[12,10.84],[7,4.82],[5,5.68]]}]},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),a=n("e11e"),o=n("613b")("IE_PROTO"),s=function(){},u="prototype",l=function(){var t,e=n("230e")("iframe"),r=a.length,i="<",o=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+o+"document.F=Object"+i+"/script"+o),t.close(),l=t.F;while(r--)delete l[u][a[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[o]=t):n=l(),void 0===e?n:i(n,e)}},"2b17":function(t,e,n){var r=n("4e08"),i=(r.__DEV__,n("6d8b")),a=(i.isTypedArray,i.extend),o=(i.assert,i.each),s=i.isObject,u=n("e0d3"),l=u.getDataItemValue,c=u.isDataItemOption,h=n("3842"),f=h.parseDate,d=n("ec6f"),p=n("93d0"),m=p.SOURCE_FORMAT_TYPED_ARRAY,g=p.SOURCE_FORMAT_ARRAY_ROWS,v=p.SOURCE_FORMAT_ORIGINAL,_=p.SOURCE_FORMAT_OBJECT_ROWS;function y(t,e){d.isInstance(t)||(t=d.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,r=t.sourceFormat;r===m&&(this._offset=0,this._dimSize=e,this._data=n);var i=b[r===g?r+"_"+t.seriesLayoutBy:r];a(this,i)}var x=y.prototype;x.pure=!1,x.persistent=!0,x.getSource=function(){return this._source};var b={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:S},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],n=this._data,r=0;r<n.length;r++){var i=n[r];e.push(i?i[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:w,getItem:T,appendData:S},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,r=0;r<n.length;r++){var i=this._data[n[r].name];e.push(i?i[t]:null)}return e},appendData:function(t){var e=this._data;o(t,function(t,n){for(var r=e[n]||(e[n]=[]),i=0;i<(t||[]).length;i++)r.push(t[i])})}},original:{count:w,getItem:T,appendData:S},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,r=0;r<this._dimSize;r++)e[r]=this._data[n+r];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}};function w(){return this._data.length}function T(t){return this._data[t]}function S(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}var E={arrayRows:M,objectRows:function(t,e,n,r){return null!=n?t[r]:t},keyedColumns:M,original:function(t,e,n,r){var i=l(t);return null!=n&&i instanceof Array?i[n]:i},typedArray:M};function M(t,e,n,r){return null!=n?t[n]:t}var A={arrayRows:C,objectRows:function(t,e,n,r){return O(t[e],this._dimensionInfos[e])},keyedColumns:C,original:function(t,e,n,r){var i=t&&(null==t.value?t:t.value);return!this._rawData.pure&&c(t)&&(this.hasItemOption=!0),O(i instanceof Array?i[r]:i,this._dimensionInfos[e])},typedArray:function(t,e,n,r){return t[r]}};function C(t,e,n,r){return O(t[r],this._dimensionInfos[e])}function O(t,e){var n=e&&e.type;if("ordinal"===n){var r=e&&e.ordinalMeta;return r?r.parseAndCollect(t):t}return"time"===n&&"number"!==typeof t&&null!=t&&"-"!==t&&(t=+f(t)),null==t||""===t?NaN:+t}function D(t,e,n){if(t){var r=t.getRawDataItem(e);if(null!=r){var i,a,o=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(n);return s&&(i=s.name,a=s.index),E[o](r,e,a,i)}}}function L(t,e,n){if(t){var r=t.getProvider().getSource().sourceFormat;if(r===v||r===_){var i=t.getRawDataItem(e);return r!==v||s(i)||(i=null),i?i[n]:void 0}}}e.DefaultDataProvider=y,e.defaultDimValueGetters=A,e.retrieveRawValue=D,e.retrieveRawAttr=L},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),a=n("7726").Symbol,o="function"==typeof a,s=t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))};s.store=r},"2b61":function(t,e,n){var r=n("7d6d"),i=n("82eb"),a=i.ContextCachedBy,o=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],s=function(t){this.extendFrom(t,!1)};function u(t,e,n){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,a=null==e.y?0:e.y,o=null==e.y2?0:e.y2;e.global||(r=r*n.width+n.x,i=i*n.width+n.x,a=a*n.height+n.y,o=o*n.height+n.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,a=isNaN(a)?0:a,o=isNaN(o)?0:o;var s=t.createLinearGradient(r,a,i,o);return s}function l(t,e,n){var r=n.width,i=n.height,a=Math.min(r,i),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,u=null==e.r?.5:e.r;e.global||(o=o*r+n.x,s=s*i+n.y,u*=a);var l=t.createRadialGradient(o,s,0,o,s,u);return l}s.prototype={constructor:s,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){var i=this,s=n&&n.style,u=!s||t.__attrCachedBy!==a.STYLE_BIND;t.__attrCachedBy=a.STYLE_BIND;for(var l=0;l<o.length;l++){var c=o[l],h=c[0];(u||i[h]!==s[h])&&(t[h]=r(t,h,i[h]||c[1]))}if((u||i.fill!==s.fill)&&(t.fillStyle=i.fill),(u||i.stroke!==s.stroke)&&(t.strokeStyle=i.stroke),(u||i.opacity!==s.opacity)&&(t.globalAlpha=null==i.opacity?1:i.opacity),(u||i.blend!==s.blend)&&(t.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()){var f=i.lineWidth;t.lineWidth=f/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"===typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var r="radial"===e.type?l:u,i=r(t,e,n),a=e.colorStops,o=0;o<a.length;o++)i.addColorStop(a[o].offset,a[o].color);return i}};for(var c=s.prototype,h=0;h<o.length;h++){var f=o[h];f[0]in c||(c[f[0]]=f[1])}s.getGradient=c.getGradient;var d=s;t.exports=d},"2cf4":function(t,e){var n=1;"undefined"!==typeof window&&(n=Math.max(window.devicePixelRatio||1,1));var r=0,i=n;e.debugMode=r,e.devicePixelRatio=i},"2d00":function(t,e){t.exports=!1},"2d07":function(t,e,n){"use strict";n.r(e),e["default"]=[[3574.5612,1976.2459,540.2693,3978.4758,3071.2452,1884.582,742.0341,3470.4725,530.7729,311.0454],[3820.5692,2161.6969,585.9975,4617.7993,3453.1796,2139.4243,852.2589,3871.1358,607.9395,331.2546]]},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2ef0":function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var a,o="4.17.11",s=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",d=1,p=2,m=4,g=1,v=2,_=1,y=2,x=4,b=8,w=16,T=32,S=64,E=128,M=256,A=512,C=30,O="...",D=800,L=16,I=1,P=2,R=3,N=1/0,k=9007199254740991,F=1.7976931348623157e308,B=NaN,z=4294967295,U=z-1,G=z>>>1,j=[["ary",E],["bind",_],["bindKey",y],["curry",b],["curryRight",w],["flip",A],["partial",T],["partialRight",S],["rearg",M]],H="[object Arguments]",V="[object Array]",W="[object AsyncFunction]",X="[object Boolean]",q="[object Date]",Y="[object DOMException]",Z="[object Error]",K="[object Function]",$="[object GeneratorFunction]",J="[object Map]",Q="[object Number]",tt="[object Null]",et="[object Object]",nt="[object Promise]",rt="[object Proxy]",it="[object RegExp]",at="[object Set]",ot="[object String]",st="[object Symbol]",ut="[object Undefined]",lt="[object WeakMap]",ct="[object WeakSet]",ht="[object ArrayBuffer]",ft="[object DataView]",dt="[object Float32Array]",pt="[object Float64Array]",mt="[object Int8Array]",gt="[object Int16Array]",vt="[object Int32Array]",_t="[object Uint8Array]",yt="[object Uint8ClampedArray]",xt="[object Uint16Array]",bt="[object Uint32Array]",wt=/\b__p \+= '';/g,Tt=/\b(__p \+=) '' \+/g,St=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Et=/&(?:amp|lt|gt|quot|#39);/g,Mt=/[&<>"']/g,At=RegExp(Et.source),Ct=RegExp(Mt.source),Ot=/<%-([\s\S]+?)%>/g,Dt=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pt=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nt=/[\\^$.*+?()[\]{}|]/g,kt=RegExp(Nt.source),Ft=/^\s+|\s+$/g,Bt=/^\s+/,zt=/\s+$/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gt=/\{\n\/\* \[wrapped with (.+)\] \*/,jt=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vt=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xt=/\w*$/,qt=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,Zt=/^\[object .+?Constructor\]$/,Kt=/^0o[0-7]+$/i,$t=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,te=/['\n\r\u2028\u2029\\]/g,ee="\\ud800-\\udfff",ne="\\u0300-\\u036f",re="\\ufe20-\\ufe2f",ie="\\u20d0-\\u20ff",ae=ne+re+ie,oe="\\u2700-\\u27bf",se="a-z\\xdf-\\xf6\\xf8-\\xff",ue="\\xac\\xb1\\xd7\\xf7",le="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ce="\\u2000-\\u206f",he=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="A-Z\\xc0-\\xd6\\xd8-\\xde",de="\\ufe0e\\ufe0f",pe=ue+le+ce+he,me="['’]",ge="["+ee+"]",ve="["+pe+"]",_e="["+ae+"]",ye="\\d+",xe="["+oe+"]",be="["+se+"]",we="[^"+ee+pe+ye+oe+se+fe+"]",Te="\\ud83c[\\udffb-\\udfff]",Se="(?:"+_e+"|"+Te+")",Ee="[^"+ee+"]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",Ae="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="["+fe+"]",Oe="\\u200d",De="(?:"+be+"|"+we+")",Le="(?:"+Ce+"|"+we+")",Ie="(?:"+me+"(?:d|ll|m|re|s|t|ve))?",Pe="(?:"+me+"(?:D|LL|M|RE|S|T|VE))?",Re=Se+"?",Ne="["+de+"]?",ke="(?:"+Oe+"(?:"+[Ee,Me,Ae].join("|")+")"+Ne+Re+")*",Fe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Be="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ze=Ne+Re+ke,Ue="(?:"+[xe,Me,Ae].join("|")+")"+ze,Ge="(?:"+[Ee+_e+"?",_e,Me,Ae,ge].join("|")+")",je=RegExp(me,"g"),He=RegExp(_e,"g"),Ve=RegExp(Te+"(?="+Te+")|"+Ge+ze,"g"),We=RegExp([Ce+"?"+be+"+"+Ie+"(?="+[ve,Ce,"$"].join("|")+")",Le+"+"+Pe+"(?="+[ve,Ce+De,"$"].join("|")+")",Ce+"?"+De+"+"+Ie,Ce+"+"+Pe,Be,Fe,ye,Ue].join("|"),"g"),Xe=RegExp("["+Oe+ee+ae+de+"]"),qe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ze=-1,Ke={};Ke[dt]=Ke[pt]=Ke[mt]=Ke[gt]=Ke[vt]=Ke[_t]=Ke[yt]=Ke[xt]=Ke[bt]=!0,Ke[H]=Ke[V]=Ke[ht]=Ke[X]=Ke[ft]=Ke[q]=Ke[Z]=Ke[K]=Ke[J]=Ke[Q]=Ke[et]=Ke[it]=Ke[at]=Ke[ot]=Ke[lt]=!1;var $e={};$e[H]=$e[V]=$e[ht]=$e[ft]=$e[X]=$e[q]=$e[dt]=$e[pt]=$e[mt]=$e[gt]=$e[vt]=$e[J]=$e[Q]=$e[et]=$e[it]=$e[at]=$e[ot]=$e[st]=$e[_t]=$e[yt]=$e[xt]=$e[bt]=!0,$e[Z]=$e[K]=$e[lt]=!1;var Je={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},en={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nn=parseFloat,rn=parseInt,an="object"==typeof t&&t&&t.Object===Object&&t,on="object"==typeof self&&self&&self.Object===Object&&self,sn=an||on||Function("return this")(),un=e&&!e.nodeType&&e,ln=un&&"object"==typeof r&&r&&!r.nodeType&&r,cn=ln&&ln.exports===un,hn=cn&&an.process,fn=function(){try{var t=ln&&ln.require&&ln.require("util").types;return t||hn&&hn.binding&&hn.binding("util")}catch(e){}}(),dn=fn&&fn.isArrayBuffer,pn=fn&&fn.isDate,mn=fn&&fn.isMap,gn=fn&&fn.isRegExp,vn=fn&&fn.isSet,_n=fn&&fn.isTypedArray;function yn(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function xn(t,e,n,r){var i=-1,a=null==t?0:t.length;while(++i<a){var o=t[i];e(r,o,n(o),t)}return r}function bn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}function wn(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}function Tn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!e(t[n],n,t))return!1;return!0}function Sn(t,e){var n=-1,r=null==t?0:t.length,i=0,a=[];while(++n<r){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}function En(t,e){var n=null==t?0:t.length;return!!n&&Fn(t,e,0)>-1}function Mn(t,e,n){var r=-1,i=null==t?0:t.length;while(++r<i)if(n(e,t[r]))return!0;return!1}function An(t,e){var n=-1,r=null==t?0:t.length,i=Array(r);while(++n<r)i[n]=e(t[n],n,t);return i}function Cn(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}function On(t,e,n,r){var i=-1,a=null==t?0:t.length;r&&a&&(n=t[++i]);while(++i<a)n=e(n,t[i],i,t);return n}function Dn(t,e,n,r){var i=null==t?0:t.length;r&&i&&(n=t[--i]);while(i--)n=e(n,t[i],i,t);return n}function Ln(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}var In=Gn("length");function Pn(t){return t.split("")}function Rn(t){return t.match(Ht)||[]}function Nn(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function kn(t,e,n,r){var i=t.length,a=n+(r?1:-1);while(r?a--:++a<i)if(e(t[a],a,t))return a;return-1}function Fn(t,e,n){return e===e?fr(t,e,n):kn(t,zn,n)}function Bn(t,e,n,r){var i=n-1,a=t.length;while(++i<a)if(r(t[i],e))return i;return-1}function zn(t){return t!==t}function Un(t,e){var n=null==t?0:t.length;return n?Wn(t,e)/n:B}function Gn(t){return function(e){return null==e?a:e[t]}}function jn(t){return function(e){return null==t?a:t[e]}}function Hn(t,e,n,r,i){return i(t,function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)}),n}function Vn(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function Wn(t,e){var n,r=-1,i=t.length;while(++r<i){var o=e(t[r]);o!==a&&(n=n===a?o:n+o)}return n}function Xn(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}function qn(t,e){return An(e,function(e){return[e,t[e]]})}function Yn(t){return function(e){return t(e)}}function Zn(t,e){return An(e,function(e){return t[e]})}function Kn(t,e){return t.has(e)}function $n(t,e){var n=-1,r=t.length;while(++n<r&&Fn(e,t[n],0)>-1);return n}function Jn(t,e){var n=t.length;while(n--&&Fn(e,t[n],0)>-1);return n}function Qn(t,e){var n=t.length,r=0;while(n--)t[n]===e&&++r;return r}var tr=jn(Je),er=jn(Qe);function nr(t){return"\\"+en[t]}function rr(t,e){return null==t?a:t[e]}function ir(t){return Xe.test(t)}function ar(t){return qe.test(t)}function or(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}function sr(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function ur(t,e){return function(n){return t(e(n))}}function lr(t,e){var n=-1,r=t.length,i=0,a=[];while(++n<r){var o=t[n];o!==e&&o!==f||(t[n]=f,a[i++]=n)}return a}function cr(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function hr(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function fr(t,e,n){var r=n-1,i=t.length;while(++r<i)if(t[r]===e)return r;return-1}function dr(t,e,n){var r=n+1;while(r--)if(t[r]===e)return r;return r}function pr(t){return ir(t)?vr(t):In(t)}function mr(t){return ir(t)?_r(t):Pn(t)}var gr=jn(tn);function vr(t){var e=Ve.lastIndex=0;while(Ve.test(t))++e;return e}function _r(t){return t.match(Ve)||[]}function yr(t){return t.match(We)||[]}var xr=function t(e){e=null==e?sn:br.defaults(sn.Object(),e,br.pick(sn,Ye));var n=e.Array,r=e.Date,i=e.Error,Ht=e.Function,ee=e.Math,ne=e.Object,re=e.RegExp,ie=e.String,ae=e.TypeError,oe=n.prototype,se=Ht.prototype,ue=ne.prototype,le=e["__core-js_shared__"],ce=se.toString,he=ue.hasOwnProperty,fe=0,de=function(){var t=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=ue.toString,me=ce.call(ne),ge=sn._,ve=re("^"+ce.call(he).replace(Nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=cn?e.Buffer:a,ye=e.Symbol,xe=e.Uint8Array,be=_e?_e.allocUnsafe:a,we=ur(ne.getPrototypeOf,ne),Te=ne.create,Se=ue.propertyIsEnumerable,Ee=oe.splice,Me=ye?ye.isConcatSpreadable:a,Ae=ye?ye.iterator:a,Ce=ye?ye.toStringTag:a,Oe=function(){try{var t=Wo(ne,"defineProperty");return t({},"",{}),t}catch(e){}}(),De=e.clearTimeout!==sn.clearTimeout&&e.clearTimeout,Le=r&&r.now!==sn.Date.now&&r.now,Ie=e.setTimeout!==sn.setTimeout&&e.setTimeout,Pe=ee.ceil,Re=ee.floor,Ne=ne.getOwnPropertySymbols,ke=_e?_e.isBuffer:a,Fe=e.isFinite,Be=oe.join,ze=ur(ne.keys,ne),Ue=ee.max,Ge=ee.min,Ve=r.now,We=e.parseInt,Xe=ee.random,qe=oe.reverse,Je=Wo(e,"DataView"),Qe=Wo(e,"Map"),tn=Wo(e,"Promise"),en=Wo(e,"Set"),an=Wo(e,"WeakMap"),on=Wo(ne,"create"),un=an&&new an,ln={},hn=Ds(Je),fn=Ds(Qe),In=Ds(tn),Pn=Ds(en),jn=Ds(an),fr=ye?ye.prototype:a,vr=fr?fr.valueOf:a,_r=fr?fr.toString:a;function xr(t){if(Tc(t)&&!oc(t)&&!(t instanceof Er)){if(t instanceof Sr)return t;if(he.call(t,"__wrapped__"))return Is(t)}return new Sr(t)}var wr=function(){function t(){}return function(e){if(!wc(e))return{};if(Te)return Te(e);t.prototype=e;var n=new t;return t.prototype=a,n}}();function Tr(){}function Sr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=a}function Er(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function Mr(){var t=new Er(this.__wrapped__);return t.__actions__=eo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=eo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=eo(this.__views__),t}function Ar(){if(this.__filtered__){var t=new Er(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Cr(){var t=this.__wrapped__.value(),e=this.__dir__,n=oc(t),r=e<0,i=n?t.length:0,a=Ko(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=r?s:o-1,c=this.__iteratees__,h=c.length,f=0,d=Ge(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ka(t,this.__actions__);var p=[];t:while(u--&&f<d){l+=e;var m=-1,g=t[l];while(++m<h){var v=c[m],_=v.iteratee,y=v.type,x=_(g);if(y==P)g=x;else if(!x){if(y==I)continue t;break t}}p[f++]=g}return p}function Or(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Dr(){this.__data__=on?on(null):{},this.size=0}function Lr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ir(t){var e=this.__data__;if(on){var n=e[t];return n===c?a:n}return he.call(e,t)?e[t]:a}function Pr(t){var e=this.__data__;return on?e[t]!==a:he.call(e,t)}function Rr(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=on&&e===a?c:e,this}function Nr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function kr(){this.__data__=[],this.size=0}function Fr(t){var e=this.__data__,n=ui(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ee.call(e,n,1),--this.size,!0}function Br(t){var e=this.__data__,n=ui(e,t);return n<0?a:e[n][1]}function zr(t){return ui(this.__data__,t)>-1}function Ur(t,e){var n=this.__data__,r=ui(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Gr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function jr(){this.size=0,this.__data__={hash:new Or,map:new(Qe||Nr),string:new Or}}function Hr(t){var e=Ho(this,t)["delete"](t);return this.size-=e?1:0,e}function Vr(t){return Ho(this,t).get(t)}function Wr(t){return Ho(this,t).has(t)}function Xr(t,e){var n=Ho(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function qr(t){var e=-1,n=null==t?0:t.length;this.__data__=new Gr;while(++e<n)this.add(t[e])}function Yr(t){return this.__data__.set(t,c),this}function Zr(t){return this.__data__.has(t)}function Kr(t){var e=this.__data__=new Nr(t);this.size=e.size}function $r(){this.__data__=new Nr,this.size=0}function Jr(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function Qr(t){return this.__data__.get(t)}function ti(t){return this.__data__.has(t)}function ei(t,e){var n=this.__data__;if(n instanceof Nr){var r=n.__data__;if(!Qe||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gr(r)}return n.set(t,e),this.size=n.size,this}function ni(t,e){var n=oc(t),r=!n&&ac(t),i=!n&&!r&&hc(t),a=!n&&!r&&!i&&Bc(t),o=n||r||i||a,s=o?Xn(t.length,ie):[],u=s.length;for(var l in t)!e&&!he.call(t,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||is(l,u))||s.push(l);return s}function ri(t){var e=t.length;return e?t[ma(0,e-1)]:a}function ii(t,e){return As(eo(t),pi(e,0,t.length))}function ai(t){return As(eo(t))}function oi(t,e,n){(n===a||nc(t[e],n))&&(n!==a||e in t)||fi(t,e,n)}function si(t,e,n){var r=t[e];he.call(t,e)&&nc(r,n)&&(n!==a||e in t)||fi(t,e,n)}function ui(t,e){var n=t.length;while(n--)if(nc(t[n][0],e))return n;return-1}function li(t,e,n,r){return xi(t,function(t,i,a){e(r,t,n(t),a)}),r}function ci(t,e){return t&&no(e,xh(e),t)}function hi(t,e){return t&&no(e,bh(e),t)}function fi(t,e,n){"__proto__"==e&&Oe?Oe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function di(t,e){var r=-1,i=e.length,o=n(i),s=null==t;while(++r<i)o[r]=s?a:ph(t,e[r]);return o}function pi(t,e,n){return t===t&&(n!==a&&(t=t<=n?t:n),e!==a&&(t=t>=e?t:e)),t}function mi(t,e,n,r,i,o){var s,u=e&d,l=e&p,c=e&m;if(n&&(s=i?n(t,r,i,o):n(t)),s!==a)return s;if(!wc(t))return t;var h=oc(t);if(h){if(s=Qo(t),!u)return eo(t,s)}else{var f=Zo(t),g=f==K||f==$;if(hc(t))return Wa(t,u);if(f==et||f==H||g&&!i){if(s=l||g?{}:ts(t),!u)return l?io(t,hi(s,t)):ro(t,ci(s,t))}else{if(!$e[f])return i?t:{};s=es(t,f,u)}}o||(o=new Kr);var v=o.get(t);if(v)return v;if(o.set(t,s),Nc(t))return t.forEach(function(r){s.add(mi(r,e,n,r,t,o))}),s;if(Sc(t))return t.forEach(function(r,i){s.set(i,mi(r,e,n,i,t,o))}),s;var _=c?l?Bo:Fo:l?bh:xh,y=h?a:_(t);return bn(y||t,function(r,i){y&&(i=r,r=t[i]),si(s,i,mi(r,e,n,i,t,o))}),s}function gi(t){var e=xh(t);return function(n){return vi(n,t,e)}}function vi(t,e,n){var r=n.length;if(null==t)return!r;t=ne(t);while(r--){var i=n[r],o=e[i],s=t[i];if(s===a&&!(i in t)||!o(s))return!1}return!0}function _i(t,e,n){if("function"!=typeof t)throw new ae(l);return Ts(function(){t.apply(a,n)},e)}function yi(t,e,n,r){var i=-1,a=En,o=!0,u=t.length,l=[],c=e.length;if(!u)return l;n&&(e=An(e,Yn(n))),r?(a=Mn,o=!1):e.length>=s&&(a=Kn,o=!1,e=new qr(e));t:while(++i<u){var h=t[i],f=null==n?h:n(h);if(h=r||0!==h?h:0,o&&f===f){var d=c;while(d--)if(e[d]===f)continue t;l.push(h)}else a(e,f,r)||l.push(h)}return l}xr.templateSettings={escape:Ot,evaluate:Dt,interpolate:Lt,variable:"",imports:{_:xr}},xr.prototype=Tr.prototype,xr.prototype.constructor=xr,Sr.prototype=wr(Tr.prototype),Sr.prototype.constructor=Sr,Er.prototype=wr(Tr.prototype),Er.prototype.constructor=Er,Or.prototype.clear=Dr,Or.prototype["delete"]=Lr,Or.prototype.get=Ir,Or.prototype.has=Pr,Or.prototype.set=Rr,Nr.prototype.clear=kr,Nr.prototype["delete"]=Fr,Nr.prototype.get=Br,Nr.prototype.has=zr,Nr.prototype.set=Ur,Gr.prototype.clear=jr,Gr.prototype["delete"]=Hr,Gr.prototype.get=Vr,Gr.prototype.has=Wr,Gr.prototype.set=Xr,qr.prototype.add=qr.prototype.push=Yr,qr.prototype.has=Zr,Kr.prototype.clear=$r,Kr.prototype["delete"]=Jr,Kr.prototype.get=Qr,Kr.prototype.has=ti,Kr.prototype.set=ei;var xi=so(Oi),bi=so(Di,!0);function wi(t,e){var n=!0;return xi(t,function(t,r,i){return n=!!e(t,r,i),n}),n}function Ti(t,e,n){var r=-1,i=t.length;while(++r<i){var o=t[r],s=e(o);if(null!=s&&(u===a?s===s&&!Fc(s):n(s,u)))var u=s,l=o}return l}function Si(t,e,n,r){var i=t.length;n=Xc(n),n<0&&(n=-n>i?0:i+n),r=r===a||r>i?i:Xc(r),r<0&&(r+=i),r=n>r?0:qc(r);while(n<r)t[n++]=e;return t}function Ei(t,e){var n=[];return xi(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Mi(t,e,n,r,i){var a=-1,o=t.length;n||(n=rs),i||(i=[]);while(++a<o){var s=t[a];e>0&&n(s)?e>1?Mi(s,e-1,n,r,i):Cn(i,s):r||(i[i.length]=s)}return i}var Ai=uo(),Ci=uo(!0);function Oi(t,e){return t&&Ai(t,e,xh)}function Di(t,e){return t&&Ci(t,e,xh)}function Li(t,e){return Sn(e,function(e){return yc(t[e])})}function Ii(t,e){e=Ga(e,t);var n=0,r=e.length;while(null!=t&&n<r)t=t[Os(e[n++])];return n&&n==r?t:a}function Pi(t,e,n){var r=e(t);return oc(t)?r:Cn(r,n(t))}function Ri(t){return null==t?t===a?ut:tt:Ce&&Ce in ne(t)?Xo(t):vs(t)}function Ni(t,e){return t>e}function ki(t,e){return null!=t&&he.call(t,e)}function Fi(t,e){return null!=t&&e in ne(t)}function Bi(t,e,n){return t>=Ge(e,n)&&t<Ue(e,n)}function zi(t,e,r){var i=r?Mn:En,o=t[0].length,s=t.length,u=s,l=n(s),c=1/0,h=[];while(u--){var f=t[u];u&&e&&(f=An(f,Yn(e))),c=Ge(f.length,c),l[u]=!r&&(e||o>=120&&f.length>=120)?new qr(u&&f):a}f=t[0];var d=-1,p=l[0];t:while(++d<o&&h.length<c){var m=f[d],g=e?e(m):m;if(m=r||0!==m?m:0,!(p?Kn(p,g):i(h,g,r))){u=s;while(--u){var v=l[u];if(!(v?Kn(v,g):i(t[u],g,r)))continue t}p&&p.push(g),h.push(m)}}return h}function Ui(t,e,n,r){return Oi(t,function(t,i,a){e(r,n(t),i,a)}),r}function Gi(t,e,n){e=Ga(e,t),t=ys(t,e);var r=null==t?t:t[Os(ru(e))];return null==r?a:yn(r,t,n)}function ji(t){return Tc(t)&&Ri(t)==H}function Hi(t){return Tc(t)&&Ri(t)==ht}function Vi(t){return Tc(t)&&Ri(t)==q}function Wi(t,e,n,r,i){return t===e||(null==t||null==e||!Tc(t)&&!Tc(e)?t!==t&&e!==e:Xi(t,e,n,r,Wi,i))}function Xi(t,e,n,r,i,a){var o=oc(t),s=oc(e),u=o?V:Zo(t),l=s?V:Zo(e);u=u==H?et:u,l=l==H?et:l;var c=u==et,h=l==et,f=u==l;if(f&&hc(t)){if(!hc(e))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new Kr),o||Bc(t)?Po(t,e,n,r,i,a):Ro(t,e,u,n,r,i,a);if(!(n&g)){var d=c&&he.call(t,"__wrapped__"),p=h&&he.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,v=p?e.value():e;return a||(a=new Kr),i(m,v,n,r,a)}}return!!f&&(a||(a=new Kr),No(t,e,n,r,i,a))}function qi(t){return Tc(t)&&Zo(t)==J}function Yi(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;t=ne(t);while(i--){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}while(++i<o){u=n[i];var l=u[0],c=t[l],h=u[1];if(s&&u[2]){if(c===a&&!(l in t))return!1}else{var f=new Kr;if(r)var d=r(c,h,l,t,e,f);if(!(d===a?Wi(h,c,g|v,r,f):d))return!1}}return!0}function Zi(t){if(!wc(t)||ls(t))return!1;var e=yc(t)?ve:Zt;return e.test(Ds(t))}function Ki(t){return Tc(t)&&Ri(t)==it}function $i(t){return Tc(t)&&Zo(t)==at}function Ji(t){return Tc(t)&&bc(t.length)&&!!Ke[Ri(t)]}function Qi(t){return"function"==typeof t?t:null==t?Of:"object"==typeof t?oc(t)?aa(t[0],t[1]):ia(t):jf(t)}function ta(t){if(!hs(t))return ze(t);var e=[];for(var n in ne(t))he.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ea(t){if(!wc(t))return gs(t);var e=hs(t),n=[];for(var r in t)("constructor"!=r||!e&&he.call(t,r))&&n.push(r);return n}function na(t,e){return t<e}function ra(t,e){var r=-1,i=uc(t)?n(t.length):[];return xi(t,function(t,n,a){i[++r]=e(t,n,a)}),i}function ia(t){var e=Vo(t);return 1==e.length&&e[0][2]?ds(e[0][0],e[0][1]):function(n){return n===t||Yi(n,t,e)}}function aa(t,e){return os(t)&&fs(e)?ds(Os(t),e):function(n){var r=ph(n,t);return r===a&&r===e?gh(n,t):Wi(e,r,g|v)}}function oa(t,e,n,r,i){t!==e&&Ai(e,function(o,s){if(wc(o))i||(i=new Kr),sa(t,e,s,n,oa,r,i);else{var u=r?r(bs(t,s),o,s+"",t,e,i):a;u===a&&(u=o),oi(t,s,u)}},bh)}function sa(t,e,n,r,i,o,s){var u=bs(t,n),l=bs(e,n),c=s.get(l);if(c)oi(t,n,c);else{var h=o?o(u,l,n+"",t,e,s):a,f=h===a;if(f){var d=oc(l),p=!d&&hc(l),m=!d&&!p&&Bc(l);h=l,d||p||m?oc(u)?h=u:lc(u)?h=eo(u):p?(f=!1,h=Wa(l,!0)):m?(f=!1,h=Ka(l,!0)):h=[]:Ic(l)||ac(l)?(h=u,ac(u)?h=Zc(u):wc(u)&&!yc(u)||(h=ts(l))):f=!1}f&&(s.set(l,h),i(h,l,r,o,s),s["delete"](l)),oi(t,n,h)}}function ua(t,e){var n=t.length;if(n)return e+=e<0?n:0,is(e,n)?t[e]:a}function la(t,e,n){var r=-1;e=An(e.length?e:[Of],Yn(jo()));var i=ra(t,function(t,n,i){var a=An(e,function(e){return e(t)});return{criteria:a,index:++r,value:t}});return Vn(i,function(t,e){return Ja(t,e,n)})}function ca(t,e){return ha(t,e,function(e,n){return gh(t,n)})}function ha(t,e,n){var r=-1,i=e.length,a={};while(++r<i){var o=e[r],s=Ii(t,o);n(s,o)&&ba(a,Ga(o,t),s)}return a}function fa(t){return function(e){return Ii(e,t)}}function da(t,e,n,r){var i=r?Bn:Fn,a=-1,o=e.length,s=t;t===e&&(e=eo(e)),n&&(s=An(t,Yn(n)));while(++a<o){var u=0,l=e[a],c=n?n(l):l;while((u=i(s,c,u,r))>-1)s!==t&&Ee.call(s,u,1),Ee.call(t,u,1)}return t}function pa(t,e){var n=t?e.length:0,r=n-1;while(n--){var i=e[n];if(n==r||i!==a){var a=i;is(i)?Ee.call(t,i,1):Pa(t,i)}}return t}function ma(t,e){return t+Re(Xe()*(e-t+1))}function ga(t,e,r,i){var a=-1,o=Ue(Pe((e-t)/(r||1)),0),s=n(o);while(o--)s[i?o:++a]=t,t+=r;return s}function va(t,e){var n="";if(!t||e<1||e>k)return n;do{e%2&&(n+=t),e=Re(e/2),e&&(t+=t)}while(e);return n}function _a(t,e){return Ss(_s(t,e,Of),t+"")}function ya(t){return ri(zh(t))}function xa(t,e){var n=zh(t);return As(n,pi(e,0,n.length))}function ba(t,e,n,r){if(!wc(t))return t;e=Ga(e,t);var i=-1,o=e.length,s=o-1,u=t;while(null!=u&&++i<o){var l=Os(e[i]),c=n;if(i!=s){var h=u[l];c=r?r(h,l,u):a,c===a&&(c=wc(h)?h:is(e[i+1])?[]:{})}si(u,l,c),u=u[l]}return t}var wa=un?function(t,e){return un.set(t,e),t}:Of,Ta=Oe?function(t,e){return Oe(t,"toString",{configurable:!0,enumerable:!1,value:Ef(e),writable:!0})}:Of;function Sa(t){return As(zh(t))}function Ea(t,e,r){var i=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;var o=n(a);while(++i<a)o[i]=t[i+e];return o}function Ma(t,e){var n;return xi(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Aa(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=G){while(r<i){var a=r+i>>>1,o=t[a];null!==o&&!Fc(o)&&(n?o<=e:o<e)?r=a+1:i=a}return i}return Ca(t,e,Of,n)}function Ca(t,e,n,r){e=n(e);var i=0,o=null==t?0:t.length,s=e!==e,u=null===e,l=Fc(e),c=e===a;while(i<o){var h=Re((i+o)/2),f=n(t[h]),d=f!==a,p=null===f,m=f===f,g=Fc(f);if(s)var v=r||m;else v=c?m&&(r||d):u?m&&d&&(r||!p):l?m&&d&&!p&&(r||!g):!p&&!g&&(r?f<=e:f<e);v?i=h+1:o=h}return Ge(o,U)}function Oa(t,e){var n=-1,r=t.length,i=0,a=[];while(++n<r){var o=t[n],s=e?e(o):o;if(!n||!nc(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function Da(t){return"number"==typeof t?t:Fc(t)?B:+t}function La(t){if("string"==typeof t)return t;if(oc(t))return An(t,La)+"";if(Fc(t))return _r?_r.call(t):"";var e=t+"";return"0"==e&&1/t==-N?"-0":e}function Ia(t,e,n){var r=-1,i=En,a=t.length,o=!0,u=[],l=u;if(n)o=!1,i=Mn;else if(a>=s){var c=e?null:Ao(t);if(c)return cr(c);o=!1,i=Kn,l=new qr}else l=e?[]:u;t:while(++r<a){var h=t[r],f=e?e(h):h;if(h=n||0!==h?h:0,o&&f===f){var d=l.length;while(d--)if(l[d]===f)continue t;e&&l.push(f),u.push(h)}else i(l,f,n)||(l!==u&&l.push(f),u.push(h))}return u}function Pa(t,e){return e=Ga(e,t),t=ys(t,e),null==t||delete t[Os(ru(e))]}function Ra(t,e,n,r){return ba(t,e,n(Ii(t,e)),r)}function Na(t,e,n,r){var i=t.length,a=r?i:-1;while((r?a--:++a<i)&&e(t[a],a,t));return n?Ea(t,r?0:a,r?a+1:i):Ea(t,r?a+1:0,r?i:a)}function ka(t,e){var n=t;return n instanceof Er&&(n=n.value()),On(e,function(t,e){return e.func.apply(e.thisArg,Cn([t],e.args))},n)}function Fa(t,e,r){var i=t.length;if(i<2)return i?Ia(t[0]):[];var a=-1,o=n(i);while(++a<i){var s=t[a],u=-1;while(++u<i)u!=a&&(o[a]=yi(o[a]||s,t[u],e,r))}return Ia(Mi(o,1),e,r)}function Ba(t,e,n){var r=-1,i=t.length,o=e.length,s={};while(++r<i){var u=r<o?e[r]:a;n(s,t[r],u)}return s}function za(t){return lc(t)?t:[]}function Ua(t){return"function"==typeof t?t:Of}function Ga(t,e){return oc(t)?t:os(t,e)?[t]:Cs($c(t))}var ja=_a;function Ha(t,e,n){var r=t.length;return n=n===a?r:n,!e&&n>=r?t:Ea(t,e,n)}var Va=De||function(t){return sn.clearTimeout(t)};function Wa(t,e){if(e)return t.slice();var n=t.length,r=be?be(n):new t.constructor(n);return t.copy(r),r}function Xa(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function qa(t,e){var n=e?Xa(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ya(t){var e=new t.constructor(t.source,Xt.exec(t));return e.lastIndex=t.lastIndex,e}function Za(t){return vr?ne(vr.call(t)):{}}function Ka(t,e){var n=e?Xa(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function $a(t,e){if(t!==e){var n=t!==a,r=null===t,i=t===t,o=Fc(t),s=e!==a,u=null===e,l=e===e,c=Fc(e);if(!u&&!c&&!o&&t>e||o&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||u&&n&&i||!s&&i||!l)return-1}return 0}function Ja(t,e,n){var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;while(++r<o){var u=$a(i[r],a[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}function Qa(t,e,r,i){var a=-1,o=t.length,s=r.length,u=-1,l=e.length,c=Ue(o-s,0),h=n(l+c),f=!i;while(++u<l)h[u]=e[u];while(++a<s)(f||a<o)&&(h[r[a]]=t[a]);while(c--)h[u++]=t[a++];return h}function to(t,e,r,i){var a=-1,o=t.length,s=-1,u=r.length,l=-1,c=e.length,h=Ue(o-u,0),f=n(h+c),d=!i;while(++a<h)f[a]=t[a];var p=a;while(++l<c)f[p+l]=e[l];while(++s<u)(d||a<o)&&(f[p+r[s]]=t[a++]);return f}function eo(t,e){var r=-1,i=t.length;e||(e=n(i));while(++r<i)e[r]=t[r];return e}function no(t,e,n,r){var i=!n;n||(n={});var o=-1,s=e.length;while(++o<s){var u=e[o],l=r?r(n[u],t[u],u,n,t):a;l===a&&(l=t[u]),i?fi(n,u,l):si(n,u,l)}return n}function ro(t,e){return no(t,qo(t),e)}function io(t,e){return no(t,Yo(t),e)}function ao(t,e){return function(n,r){var i=oc(n)?xn:li,a=e?e():{};return i(n,t,jo(r,2),a)}}function oo(t){return _a(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:a,s=i>2?n[2]:a;o=t.length>3&&"function"==typeof o?(i--,o):a,s&&as(n[0],n[1],s)&&(o=i<3?a:o,i=1),e=ne(e);while(++r<i){var u=n[r];u&&t(e,u,r,o)}return e})}function so(t,e){return function(n,r){if(null==n)return n;if(!uc(n))return t(n,r);var i=n.length,a=e?i:-1,o=ne(n);while(e?a--:++a<i)if(!1===r(o[a],a,o))break;return n}}function uo(t){return function(e,n,r){var i=-1,a=ne(e),o=r(e),s=o.length;while(s--){var u=o[t?s:++i];if(!1===n(a[u],u,a))break}return e}}function lo(t,e,n){var r=e&_,i=fo(t);function a(){var e=this&&this!==sn&&this instanceof a?i:t;return e.apply(r?n:this,arguments)}return a}function co(t){return function(e){e=$c(e);var n=ir(e)?mr(e):a,r=n?n[0]:e.charAt(0),i=n?Ha(n,1).join(""):e.slice(1);return r[t]()+i}}function ho(t){return function(e){return On(xf(Xh(e).replace(je,"")),t,"")}}function fo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=wr(t.prototype),r=t.apply(n,e);return wc(r)?r:n}}function po(t,e,r){var i=fo(t);function o(){var s=arguments.length,u=n(s),l=s,c=Go(o);while(l--)u[l]=arguments[l];var h=s<3&&u[0]!==c&&u[s-1]!==c?[]:lr(u,c);if(s-=h.length,s<r)return Eo(t,e,vo,o.placeholder,a,u,h,a,a,r-s);var f=this&&this!==sn&&this instanceof o?i:t;return yn(f,this,u)}return o}function mo(t){return function(e,n,r){var i=ne(e);if(!uc(e)){var o=jo(n,3);e=xh(e),n=function(t){return o(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:a}}function go(t){return ko(function(e){var n=e.length,r=n,i=Sr.prototype.thru;t&&e.reverse();while(r--){var o=e[r];if("function"!=typeof o)throw new ae(l);if(i&&!s&&"wrapper"==Uo(o))var s=new Sr([],!0)}r=s?r:n;while(++r<n){o=e[r];var u=Uo(o),c="wrapper"==u?zo(o):a;s=c&&us(c[0])&&c[1]==(E|b|T|M)&&!c[4].length&&1==c[9]?s[Uo(c[0])].apply(s,c[3]):1==o.length&&us(o)?s[u]():s.thru(o)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&oc(r))return s.plant(r).value();var i=0,a=n?e[i].apply(this,t):r;while(++i<n)a=e[i].call(this,a);return a}})}function vo(t,e,r,i,o,s,u,l,c,h){var f=e&E,d=e&_,p=e&y,m=e&(b|w),g=e&A,v=p?a:fo(t);function x(){var a=arguments.length,_=n(a),y=a;while(y--)_[y]=arguments[y];if(m)var b=Go(x),w=Qn(_,b);if(i&&(_=Qa(_,i,o,m)),s&&(_=to(_,s,u,m)),a-=w,m&&a<h){var T=lr(_,b);return Eo(t,e,vo,x.placeholder,r,_,T,l,c,h-a)}var S=d?r:this,E=p?S[t]:t;return a=_.length,l?_=xs(_,l):g&&a>1&&_.reverse(),f&&c<a&&(_.length=c),this&&this!==sn&&this instanceof x&&(E=v||fo(E)),E.apply(S,_)}return x}function _o(t,e){return function(n,r){return Ui(n,t,e(r),{})}}function yo(t,e){return function(n,r){var i;if(n===a&&r===a)return e;if(n!==a&&(i=n),r!==a){if(i===a)return r;"string"==typeof n||"string"==typeof r?(n=La(n),r=La(r)):(n=Da(n),r=Da(r)),i=t(n,r)}return i}}function xo(t){return ko(function(e){return e=An(e,Yn(jo())),_a(function(n){var r=this;return t(e,function(t){return yn(t,r,n)})})})}function bo(t,e){e=e===a?" ":La(e);var n=e.length;if(n<2)return n?va(e,t):e;var r=va(e,Pe(t/pr(e)));return ir(e)?Ha(mr(r),0,t).join(""):r.slice(0,t)}function wo(t,e,r,i){var a=e&_,o=fo(t);function s(){var e=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),f=this&&this!==sn&&this instanceof s?o:t;while(++l<c)h[l]=i[l];while(u--)h[l++]=arguments[++e];return yn(f,a?r:this,h)}return s}function To(t){return function(e,n,r){return r&&"number"!=typeof r&&as(e,n,r)&&(n=r=a),e=Wc(e),n===a?(n=e,e=0):n=Wc(n),r=r===a?e<n?1:-1:Wc(r),ga(e,n,r,t)}}function So(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Yc(e),n=Yc(n)),t(e,n)}}function Eo(t,e,n,r,i,o,s,u,l,c){var h=e&b,f=h?s:a,d=h?a:s,p=h?o:a,m=h?a:o;e|=h?T:S,e&=~(h?S:T),e&x||(e&=~(_|y));var g=[t,e,i,p,f,m,d,u,l,c],v=n.apply(a,g);return us(t)&&ws(v,g),v.placeholder=r,Es(v,t,e)}function Mo(t){var e=ee[t];return function(t,n){if(t=Yc(t),n=null==n?0:Ge(Xc(n),292),n){var r=($c(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=($c(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var Ao=en&&1/cr(new en([,-0]))[1]==N?function(t){return new en(t)}:Ff;function Co(t){return function(e){var n=Zo(e);return n==J?sr(e):n==at?hr(e):qn(e,t(e))}}function Oo(t,e,n,r,i,o,s,u){var c=e&y;if(!c&&"function"!=typeof t)throw new ae(l);var h=r?r.length:0;if(h||(e&=~(T|S),r=i=a),s=s===a?s:Ue(Xc(s),0),u=u===a?u:Xc(u),h-=i?i.length:0,e&S){var f=r,d=i;r=i=a}var p=c?a:zo(t),m=[t,e,n,r,i,f,d,o,s,u];if(p&&ms(m,p),t=m[0],e=m[1],n=m[2],r=m[3],i=m[4],u=m[9]=m[9]===a?c?0:t.length:Ue(m[9]-h,0),!u&&e&(b|w)&&(e&=~(b|w)),e&&e!=_)g=e==b||e==w?po(t,e,u):e!=T&&e!=(_|T)||i.length?vo.apply(a,m):wo(t,e,n,r);else var g=lo(t,e,n);var v=p?wa:ws;return Es(v(g,m),t,e)}function Do(t,e,n,r){return t===a||nc(t,ue[n])&&!he.call(r,n)?e:t}function Lo(t,e,n,r,i,o){return wc(t)&&wc(e)&&(o.set(e,t),oa(t,e,a,Lo,o),o["delete"](e)),t}function Io(t){return Ic(t)?a:t}function Po(t,e,n,r,i,o){var s=n&g,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var h=-1,f=!0,d=n&v?new qr:a;o.set(t,e),o.set(e,t);while(++h<u){var p=t[h],m=e[h];if(r)var _=s?r(m,p,h,e,t,o):r(p,m,h,t,e,o);if(_!==a){if(_)continue;f=!1;break}if(d){if(!Ln(e,function(t,e){if(!Kn(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)})){f=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){f=!1;break}}return o["delete"](t),o["delete"](e),f}function Ro(t,e,n,r,i,a,o){switch(n){case ft:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ht:return!(t.byteLength!=e.byteLength||!a(new xe(t),new xe(e)));case X:case q:case Q:return nc(+t,+e);case Z:return t.name==e.name&&t.message==e.message;case it:case ot:return t==e+"";case J:var s=sr;case at:var u=r&g;if(s||(s=cr),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;r|=v,o.set(t,e);var c=Po(s(t),s(e),r,i,a,o);return o["delete"](t),c;case st:if(vr)return vr.call(t)==vr.call(e)}return!1}function No(t,e,n,r,i,o){var s=n&g,u=Fo(t),l=u.length,c=Fo(e),h=c.length;if(l!=h&&!s)return!1;var f=l;while(f--){var d=u[f];if(!(s?d in e:he.call(e,d)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var m=!0;o.set(t,e),o.set(e,t);var v=s;while(++f<l){d=u[f];var _=t[d],y=e[d];if(r)var x=s?r(y,_,d,e,t,o):r(_,y,d,t,e,o);if(!(x===a?_===y||i(_,y,n,r,o):x)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(m=!1)}return o["delete"](t),o["delete"](e),m}function ko(t){return Ss(_s(t,a,Xs),t+"")}function Fo(t){return Pi(t,xh,qo)}function Bo(t){return Pi(t,bh,Yo)}var zo=un?function(t){return un.get(t)}:Ff;function Uo(t){var e=t.name+"",n=ln[e],r=he.call(ln,e)?n.length:0;while(r--){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function Go(t){var e=he.call(xr,"placeholder")?xr:t;return e.placeholder}function jo(){var t=xr.iteratee||Df;return t=t===Df?Qi:t,arguments.length?t(arguments[0],arguments[1]):t}function Ho(t,e){var n=t.__data__;return ss(e)?n["string"==typeof e?"string":"hash"]:n.map}function Vo(t){var e=xh(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,fs(i)]}return e}function Wo(t,e){var n=rr(t,e);return Zi(n)?n:a}function Xo(t){var e=he.call(t,Ce),n=t[Ce];try{t[Ce]=a;var r=!0}catch(o){}var i=pe.call(t);return r&&(e?t[Ce]=n:delete t[Ce]),i}var qo=Ne?function(t){return null==t?[]:(t=ne(t),Sn(Ne(t),function(e){return Se.call(t,e)}))}:Xf,Yo=Ne?function(t){var e=[];while(t)Cn(e,qo(t)),t=we(t);return e}:Xf,Zo=Ri;function Ko(t,e,n){var r=-1,i=n.length;while(++r<i){var a=n[r],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=Ge(e,t+o);break;case"takeRight":t=Ue(t,e-o);break}}return{start:t,end:e}}function $o(t){var e=t.match(Gt);return e?e[1].split(jt):[]}function Jo(t,e,n){e=Ga(e,t);var r=-1,i=e.length,a=!1;while(++r<i){var o=Os(e[r]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=null==t?0:t.length,!!i&&bc(i)&&is(o,i)&&(oc(t)||ac(t)))}function Qo(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&he.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ts(t){return"function"!=typeof t.constructor||hs(t)?{}:wr(we(t))}function es(t,e,n){var r=t.constructor;switch(e){case ht:return Xa(t);case X:case q:return new r(+t);case ft:return qa(t,n);case dt:case pt:case mt:case gt:case vt:case _t:case yt:case xt:case bt:return Ka(t,n);case J:return new r;case Q:case ot:return new r(t);case it:return Ya(t);case at:return new r;case st:return Za(t)}}function ns(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ut,"{\n/* [wrapped with "+e+"] */\n")}function rs(t){return oc(t)||ac(t)||!!(Me&&t&&t[Me])}function is(t,e){var n=typeof t;return e=null==e?k:e,!!e&&("number"==n||"symbol"!=n&&$t.test(t))&&t>-1&&t%1==0&&t<e}function as(t,e,n){if(!wc(n))return!1;var r=typeof e;return!!("number"==r?uc(n)&&is(e,n.length):"string"==r&&e in n)&&nc(n[e],t)}function os(t,e){if(oc(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Fc(t))||(Pt.test(t)||!It.test(t)||null!=e&&t in ne(e))}function ss(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function us(t){var e=Uo(t),n=xr[e];if("function"!=typeof n||!(e in Er.prototype))return!1;if(t===n)return!0;var r=zo(n);return!!r&&t===r[0]}function ls(t){return!!de&&de in t}(Je&&Zo(new Je(new ArrayBuffer(1)))!=ft||Qe&&Zo(new Qe)!=J||tn&&Zo(tn.resolve())!=nt||en&&Zo(new en)!=at||an&&Zo(new an)!=lt)&&(Zo=function(t){var e=Ri(t),n=e==et?t.constructor:a,r=n?Ds(n):"";if(r)switch(r){case hn:return ft;case fn:return J;case In:return nt;case Pn:return at;case jn:return lt}return e});var cs=le?yc:qf;function hs(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||ue;return t===n}function fs(t){return t===t&&!wc(t)}function ds(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==a||t in ne(n)))}}function ps(t){var e=Bl(t,function(t){return n.size===h&&n.clear(),t}),n=e.cache;return e}function ms(t,e){var n=t[1],r=e[1],i=n|r,a=i<(_|y|E),o=r==E&&n==b||r==E&&n==M&&t[7].length<=e[8]||r==(E|M)&&e[7].length<=e[8]&&n==b;if(!a&&!o)return t;r&_&&(t[2]=e[2],i|=n&_?0:x);var s=e[3];if(s){var u=t[3];t[3]=u?Qa(u,s,e[4]):s,t[4]=u?lr(t[3],f):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?to(u,s,e[6]):s,t[6]=u?lr(t[5],f):e[6]),s=e[7],s&&(t[7]=s),r&E&&(t[8]=null==t[8]?e[8]:Ge(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function gs(t){var e=[];if(null!=t)for(var n in ne(t))e.push(n);return e}function vs(t){return pe.call(t)}function _s(t,e,r){return e=Ue(e===a?t.length-1:e,0),function(){var i=arguments,a=-1,o=Ue(i.length-e,0),s=n(o);while(++a<o)s[a]=i[e+a];a=-1;var u=n(e+1);while(++a<e)u[a]=i[a];return u[e]=r(s),yn(t,this,u)}}function ys(t,e){return e.length<2?t:Ii(t,Ea(e,0,-1))}function xs(t,e){var n=t.length,r=Ge(e.length,n),i=eo(t);while(r--){var o=e[r];t[r]=is(o,n)?i[o]:a}return t}function bs(t,e){if("__proto__"!=e)return t[e]}var ws=Ms(wa),Ts=Ie||function(t,e){return sn.setTimeout(t,e)},Ss=Ms(Ta);function Es(t,e,n){var r=e+"";return Ss(t,ns(r,Ls($o(r),n)))}function Ms(t){var e=0,n=0;return function(){var r=Ve(),i=L-(r-n);if(n=r,i>0){if(++e>=D)return arguments[0]}else e=0;return t.apply(a,arguments)}}function As(t,e){var n=-1,r=t.length,i=r-1;e=e===a?r:e;while(++n<e){var o=ma(n,i),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var Cs=ps(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Rt,function(t,n,r,i){e.push(r?i.replace(Vt,"$1"):n||t)}),e});function Os(t){if("string"==typeof t||Fc(t))return t;var e=t+"";return"0"==e&&1/t==-N?"-0":e}function Ds(t){if(null!=t){try{return ce.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ls(t,e){return bn(j,function(n){var r="_."+n[0];e&n[1]&&!En(t,r)&&t.push(r)}),t.sort()}function Is(t){if(t instanceof Er)return t.clone();var e=new Sr(t.__wrapped__,t.__chain__);return e.__actions__=eo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Ps(t,e,r){e=(r?as(t,e,r):e===a)?1:Ue(Xc(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];var o=0,s=0,u=n(Pe(i/e));while(o<i)u[s++]=Ea(t,o,o+=e);return u}function Rs(t){var e=-1,n=null==t?0:t.length,r=0,i=[];while(++e<n){var a=t[e];a&&(i[r++]=a)}return i}function Ns(){var t=arguments.length;if(!t)return[];var e=n(t-1),r=arguments[0],i=t;while(i--)e[i-1]=arguments[i];return Cn(oc(r)?eo(r):[r],Mi(e,1))}var ks=_a(function(t,e){return lc(t)?yi(t,Mi(e,1,lc,!0)):[]}),Fs=_a(function(t,e){var n=ru(e);return lc(n)&&(n=a),lc(t)?yi(t,Mi(e,1,lc,!0),jo(n,2)):[]}),Bs=_a(function(t,e){var n=ru(e);return lc(n)&&(n=a),lc(t)?yi(t,Mi(e,1,lc,!0),a,n):[]});function zs(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===a?1:Xc(e),Ea(t,e<0?0:e,r)):[]}function Us(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===a?1:Xc(e),e=r-e,Ea(t,0,e<0?0:e)):[]}function Gs(t,e){return t&&t.length?Na(t,jo(e,3),!0,!0):[]}function js(t,e){return t&&t.length?Na(t,jo(e,3),!0):[]}function Hs(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&as(t,e,n)&&(n=0,r=i),Si(t,e,n,r)):[]}function Vs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Xc(n);return i<0&&(i=Ue(r+i,0)),kn(t,jo(e,3),i)}function Ws(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==a&&(i=Xc(n),i=n<0?Ue(r+i,0):Ge(i,r-1)),kn(t,jo(e,3),i,!0)}function Xs(t){var e=null==t?0:t.length;return e?Mi(t,1):[]}function qs(t){var e=null==t?0:t.length;return e?Mi(t,N):[]}function Ys(t,e){var n=null==t?0:t.length;return n?(e=e===a?1:Xc(e),Mi(t,e)):[]}function Zs(t){var e=-1,n=null==t?0:t.length,r={};while(++e<n){var i=t[e];r[i[0]]=i[1]}return r}function Ks(t){return t&&t.length?t[0]:a}function $s(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Xc(n);return i<0&&(i=Ue(r+i,0)),Fn(t,e,i)}function Js(t){var e=null==t?0:t.length;return e?Ea(t,0,-1):[]}var Qs=_a(function(t){var e=An(t,za);return e.length&&e[0]===t[0]?zi(e):[]}),tu=_a(function(t){var e=ru(t),n=An(t,za);return e===ru(n)?e=a:n.pop(),n.length&&n[0]===t[0]?zi(n,jo(e,2)):[]}),eu=_a(function(t){var e=ru(t),n=An(t,za);return e="function"==typeof e?e:a,e&&n.pop(),n.length&&n[0]===t[0]?zi(n,a,e):[]});function nu(t,e){return null==t?"":Be.call(t,e)}function ru(t){var e=null==t?0:t.length;return e?t[e-1]:a}function iu(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==a&&(i=Xc(n),i=i<0?Ue(r+i,0):Ge(i,r-1)),e===e?dr(t,e,i):kn(t,zn,i,!0)}function au(t,e){return t&&t.length?ua(t,Xc(e)):a}var ou=_a(su);function su(t,e){return t&&t.length&&e&&e.length?da(t,e):t}function uu(t,e,n){return t&&t.length&&e&&e.length?da(t,e,jo(n,2)):t}function lu(t,e,n){return t&&t.length&&e&&e.length?da(t,e,a,n):t}var cu=ko(function(t,e){var n=null==t?0:t.length,r=di(t,e);return pa(t,An(e,function(t){return is(t,n)?+t:t}).sort($a)),r});function hu(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],a=t.length;e=jo(e,3);while(++r<a){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return pa(t,i),n}function fu(t){return null==t?t:qe.call(t)}function du(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&as(t,e,n)?(e=0,n=r):(e=null==e?0:Xc(e),n=n===a?r:Xc(n)),Ea(t,e,n)):[]}function pu(t,e){return Aa(t,e)}function mu(t,e,n){return Ca(t,e,jo(n,2))}function gu(t,e){var n=null==t?0:t.length;if(n){var r=Aa(t,e);if(r<n&&nc(t[r],e))return r}return-1}function vu(t,e){return Aa(t,e,!0)}function _u(t,e,n){return Ca(t,e,jo(n,2),!0)}function yu(t,e){var n=null==t?0:t.length;if(n){var r=Aa(t,e,!0)-1;if(nc(t[r],e))return r}return-1}function xu(t){return t&&t.length?Oa(t):[]}function bu(t,e){return t&&t.length?Oa(t,jo(e,2)):[]}function wu(t){var e=null==t?0:t.length;return e?Ea(t,1,e):[]}function Tu(t,e,n){return t&&t.length?(e=n||e===a?1:Xc(e),Ea(t,0,e<0?0:e)):[]}function Su(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===a?1:Xc(e),e=r-e,Ea(t,e<0?0:e,r)):[]}function Eu(t,e){return t&&t.length?Na(t,jo(e,3),!1,!0):[]}function Mu(t,e){return t&&t.length?Na(t,jo(e,3)):[]}var Au=_a(function(t){return Ia(Mi(t,1,lc,!0))}),Cu=_a(function(t){var e=ru(t);return lc(e)&&(e=a),Ia(Mi(t,1,lc,!0),jo(e,2))}),Ou=_a(function(t){var e=ru(t);return e="function"==typeof e?e:a,Ia(Mi(t,1,lc,!0),a,e)});function Du(t){return t&&t.length?Ia(t):[]}function Lu(t,e){return t&&t.length?Ia(t,jo(e,2)):[]}function Iu(t,e){return e="function"==typeof e?e:a,t&&t.length?Ia(t,a,e):[]}function Pu(t){if(!t||!t.length)return[];var e=0;return t=Sn(t,function(t){if(lc(t))return e=Ue(t.length,e),!0}),Xn(e,function(e){return An(t,Gn(e))})}function Ru(t,e){if(!t||!t.length)return[];var n=Pu(t);return null==e?n:An(n,function(t){return yn(e,a,t)})}var Nu=_a(function(t,e){return lc(t)?yi(t,e):[]}),ku=_a(function(t){return Fa(Sn(t,lc))}),Fu=_a(function(t){var e=ru(t);return lc(e)&&(e=a),Fa(Sn(t,lc),jo(e,2))}),Bu=_a(function(t){var e=ru(t);return e="function"==typeof e?e:a,Fa(Sn(t,lc),a,e)}),zu=_a(Pu);function Uu(t,e){return Ba(t||[],e||[],si)}function Gu(t,e){return Ba(t||[],e||[],ba)}var ju=_a(function(t){var e=t.length,n=e>1?t[e-1]:a;return n="function"==typeof n?(t.pop(),n):a,Ru(t,n)});function Hu(t){var e=xr(t);return e.__chain__=!0,e}function Vu(t,e){return e(t),t}function Wu(t,e){return e(t)}var Xu=ko(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return di(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Er&&is(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Wu,args:[i],thisArg:a}),new Sr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(a),t})):this.thru(i)});function qu(){return Hu(this)}function Yu(){return new Sr(this.value(),this.__chain__)}function Zu(){this.__values__===a&&(this.__values__=Vc(this.value()));var t=this.__index__>=this.__values__.length,e=t?a:this.__values__[this.__index__++];return{done:t,value:e}}function Ku(){return this}function $u(t){var e,n=this;while(n instanceof Tr){var r=Is(n);r.__index__=0,r.__values__=a,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function Ju(){var t=this.__wrapped__;if(t instanceof Er){var e=t;return this.__actions__.length&&(e=new Er(this)),e=e.reverse(),e.__actions__.push({func:Wu,args:[fu],thisArg:a}),new Sr(e,this.__chain__)}return this.thru(fu)}function Qu(){return ka(this.__wrapped__,this.__actions__)}var tl=ao(function(t,e,n){he.call(t,n)?++t[n]:fi(t,n,1)});function el(t,e,n){var r=oc(t)?Tn:wi;return n&&as(t,e,n)&&(e=a),r(t,jo(e,3))}function nl(t,e){var n=oc(t)?Sn:Ei;return n(t,jo(e,3))}var rl=mo(Vs),il=mo(Ws);function al(t,e){return Mi(pl(t,e),1)}function ol(t,e){return Mi(pl(t,e),N)}function sl(t,e,n){return n=n===a?1:Xc(n),Mi(pl(t,e),n)}function ul(t,e){var n=oc(t)?bn:xi;return n(t,jo(e,3))}function ll(t,e){var n=oc(t)?wn:bi;return n(t,jo(e,3))}var cl=ao(function(t,e,n){he.call(t,n)?t[n].push(e):fi(t,n,[e])});function hl(t,e,n,r){t=uc(t)?t:zh(t),n=n&&!r?Xc(n):0;var i=t.length;return n<0&&(n=Ue(i+n,0)),kc(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Fn(t,e,n)>-1}var fl=_a(function(t,e,r){var i=-1,a="function"==typeof e,o=uc(t)?n(t.length):[];return xi(t,function(t){o[++i]=a?yn(e,t,r):Gi(t,e,r)}),o}),dl=ao(function(t,e,n){fi(t,n,e)});function pl(t,e){var n=oc(t)?An:ra;return n(t,jo(e,3))}function ml(t,e,n,r){return null==t?[]:(oc(e)||(e=null==e?[]:[e]),n=r?a:n,oc(n)||(n=null==n?[]:[n]),la(t,e,n))}var gl=ao(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});function vl(t,e,n){var r=oc(t)?On:Hn,i=arguments.length<3;return r(t,jo(e,4),n,i,xi)}function _l(t,e,n){var r=oc(t)?Dn:Hn,i=arguments.length<3;return r(t,jo(e,4),n,i,bi)}function yl(t,e){var n=oc(t)?Sn:Ei;return n(t,zl(jo(e,3)))}function xl(t){var e=oc(t)?ri:ya;return e(t)}function bl(t,e,n){e=(n?as(t,e,n):e===a)?1:Xc(e);var r=oc(t)?ii:xa;return r(t,e)}function wl(t){var e=oc(t)?ai:Sa;return e(t)}function Tl(t){if(null==t)return 0;if(uc(t))return kc(t)?pr(t):t.length;var e=Zo(t);return e==J||e==at?t.size:ta(t).length}function Sl(t,e,n){var r=oc(t)?Ln:Ma;return n&&as(t,e,n)&&(e=a),r(t,jo(e,3))}var El=_a(function(t,e){if(null==t)return[];var n=e.length;return n>1&&as(t,e[0],e[1])?e=[]:n>2&&as(e[0],e[1],e[2])&&(e=[e[0]]),la(t,Mi(e,1),[])}),Ml=Le||function(){return sn.Date.now()};function Al(t,e){if("function"!=typeof e)throw new ae(l);return t=Xc(t),function(){if(--t<1)return e.apply(this,arguments)}}function Cl(t,e,n){return e=n?a:e,e=t&&null==e?t.length:e,Oo(t,E,a,a,a,a,e)}function Ol(t,e){var n;if("function"!=typeof e)throw new ae(l);return t=Xc(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=a),n}}var Dl=_a(function(t,e,n){var r=_;if(n.length){var i=lr(n,Go(Dl));r|=T}return Oo(t,r,e,n,i)}),Ll=_a(function(t,e,n){var r=_|y;if(n.length){var i=lr(n,Go(Ll));r|=T}return Oo(e,r,t,n,i)});function Il(t,e,n){e=n?a:e;var r=Oo(t,b,a,a,a,a,a,e);return r.placeholder=Il.placeholder,r}function Pl(t,e,n){e=n?a:e;var r=Oo(t,w,a,a,a,a,a,e);return r.placeholder=Pl.placeholder,r}function Rl(t,e,n){var r,i,o,s,u,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new ae(l);function m(e){var n=r,o=i;return r=i=a,h=e,s=t.apply(o,n),s}function g(t){return h=t,u=Ts(y,e),f?m(t):s}function v(t){var n=t-c,r=t-h,i=e-n;return d?Ge(i,o-r):i}function _(t){var n=t-c,r=t-h;return c===a||n>=e||n<0||d&&r>=o}function y(){var t=Ml();if(_(t))return x(t);u=Ts(y,v(t))}function x(t){return u=a,p&&r?m(t):(r=i=a,s)}function b(){u!==a&&Va(u),h=0,r=c=i=u=a}function w(){return u===a?s:x(Ml())}function T(){var t=Ml(),n=_(t);if(r=arguments,i=this,c=t,n){if(u===a)return g(c);if(d)return u=Ts(y,e),m(c)}return u===a&&(u=Ts(y,e)),s}return e=Yc(e)||0,wc(n)&&(f=!!n.leading,d="maxWait"in n,o=d?Ue(Yc(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),T.cancel=b,T.flush=w,T}var Nl=_a(function(t,e){return _i(t,1,e)}),kl=_a(function(t,e,n){return _i(t,Yc(e)||0,n)});function Fl(t){return Oo(t,A)}function Bl(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ae(l);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Bl.Cache||Gr),n}function zl(t){if("function"!=typeof t)throw new ae(l);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ul(t){return Ol(2,t)}Bl.Cache=Gr;var Gl=ja(function(t,e){e=1==e.length&&oc(e[0])?An(e[0],Yn(jo())):An(Mi(e,1),Yn(jo()));var n=e.length;return _a(function(r){var i=-1,a=Ge(r.length,n);while(++i<a)r[i]=e[i].call(this,r[i]);return yn(t,this,r)})}),jl=_a(function(t,e){var n=lr(e,Go(jl));return Oo(t,T,a,e,n)}),Hl=_a(function(t,e){var n=lr(e,Go(Hl));return Oo(t,S,a,e,n)}),Vl=ko(function(t,e){return Oo(t,M,a,a,a,e)});function Wl(t,e){if("function"!=typeof t)throw new ae(l);return e=e===a?e:Xc(e),_a(t,e)}function Xl(t,e){if("function"!=typeof t)throw new ae(l);return e=null==e?0:Ue(Xc(e),0),_a(function(n){var r=n[e],i=Ha(n,0,e);return r&&Cn(i,r),yn(t,this,i)})}function ql(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ae(l);return wc(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Rl(t,e,{leading:r,maxWait:e,trailing:i})}function Yl(t){return Cl(t,1)}function Zl(t,e){return jl(Ua(e),t)}function Kl(){if(!arguments.length)return[];var t=arguments[0];return oc(t)?t:[t]}function $l(t){return mi(t,m)}function Jl(t,e){return e="function"==typeof e?e:a,mi(t,m,e)}function Ql(t){return mi(t,d|m)}function tc(t,e){return e="function"==typeof e?e:a,mi(t,d|m,e)}function ec(t,e){return null==e||vi(t,e,xh(e))}function nc(t,e){return t===e||t!==t&&e!==e}var rc=So(Ni),ic=So(function(t,e){return t>=e}),ac=ji(function(){return arguments}())?ji:function(t){return Tc(t)&&he.call(t,"callee")&&!Se.call(t,"callee")},oc=n.isArray,sc=dn?Yn(dn):Hi;function uc(t){return null!=t&&bc(t.length)&&!yc(t)}function lc(t){return Tc(t)&&uc(t)}function cc(t){return!0===t||!1===t||Tc(t)&&Ri(t)==X}var hc=ke||qf,fc=pn?Yn(pn):Vi;function dc(t){return Tc(t)&&1===t.nodeType&&!Ic(t)}function pc(t){if(null==t)return!0;if(uc(t)&&(oc(t)||"string"==typeof t||"function"==typeof t.splice||hc(t)||Bc(t)||ac(t)))return!t.length;var e=Zo(t);if(e==J||e==at)return!t.size;if(hs(t))return!ta(t).length;for(var n in t)if(he.call(t,n))return!1;return!0}function mc(t,e){return Wi(t,e)}function gc(t,e,n){n="function"==typeof n?n:a;var r=n?n(t,e):a;return r===a?Wi(t,e,a,n):!!r}function vc(t){if(!Tc(t))return!1;var e=Ri(t);return e==Z||e==Y||"string"==typeof t.message&&"string"==typeof t.name&&!Ic(t)}function _c(t){return"number"==typeof t&&Fe(t)}function yc(t){if(!wc(t))return!1;var e=Ri(t);return e==K||e==$||e==W||e==rt}function xc(t){return"number"==typeof t&&t==Xc(t)}function bc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=k}function wc(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Tc(t){return null!=t&&"object"==typeof t}var Sc=mn?Yn(mn):qi;function Ec(t,e){return t===e||Yi(t,e,Vo(e))}function Mc(t,e,n){return n="function"==typeof n?n:a,Yi(t,e,Vo(e),n)}function Ac(t){return Lc(t)&&t!=+t}function Cc(t){if(cs(t))throw new i(u);return Zi(t)}function Oc(t){return null===t}function Dc(t){return null==t}function Lc(t){return"number"==typeof t||Tc(t)&&Ri(t)==Q}function Ic(t){if(!Tc(t)||Ri(t)!=et)return!1;var e=we(t);if(null===e)return!0;var n=he.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==me}var Pc=gn?Yn(gn):Ki;function Rc(t){return xc(t)&&t>=-k&&t<=k}var Nc=vn?Yn(vn):$i;function kc(t){return"string"==typeof t||!oc(t)&&Tc(t)&&Ri(t)==ot}function Fc(t){return"symbol"==typeof t||Tc(t)&&Ri(t)==st}var Bc=_n?Yn(_n):Ji;function zc(t){return t===a}function Uc(t){return Tc(t)&&Zo(t)==lt}function Gc(t){return Tc(t)&&Ri(t)==ct}var jc=So(na),Hc=So(function(t,e){return t<=e});function Vc(t){if(!t)return[];if(uc(t))return kc(t)?mr(t):eo(t);if(Ae&&t[Ae])return or(t[Ae]());var e=Zo(t),n=e==J?sr:e==at?cr:zh;return n(t)}function Wc(t){if(!t)return 0===t?t:0;if(t=Yc(t),t===N||t===-N){var e=t<0?-1:1;return e*F}return t===t?t:0}function Xc(t){var e=Wc(t),n=e%1;return e===e?n?e-n:e:0}function qc(t){return t?pi(Xc(t),0,z):0}function Yc(t){if("number"==typeof t)return t;if(Fc(t))return B;if(wc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=wc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ft,"");var n=Yt.test(t);return n||Kt.test(t)?rn(t.slice(2),n?2:8):qt.test(t)?B:+t}function Zc(t){return no(t,bh(t))}function Kc(t){return t?pi(Xc(t),-k,k):0===t?t:0}function $c(t){return null==t?"":La(t)}var Jc=oo(function(t,e){if(hs(e)||uc(e))no(e,xh(e),t);else for(var n in e)he.call(e,n)&&si(t,n,e[n])}),Qc=oo(function(t,e){no(e,bh(e),t)}),th=oo(function(t,e,n,r){no(e,bh(e),t,r)}),eh=oo(function(t,e,n,r){no(e,xh(e),t,r)}),nh=ko(di);function rh(t,e){var n=wr(t);return null==e?n:ci(n,e)}var ih=_a(function(t,e){t=ne(t);var n=-1,r=e.length,i=r>2?e[2]:a;i&&as(e[0],e[1],i)&&(r=1);while(++n<r){var o=e[n],s=bh(o),u=-1,l=s.length;while(++u<l){var c=s[u],h=t[c];(h===a||nc(h,ue[c])&&!he.call(t,c))&&(t[c]=o[c])}}return t}),ah=_a(function(t){return t.push(a,Lo),yn(Eh,a,t)});function oh(t,e){return Nn(t,jo(e,3),Oi)}function sh(t,e){return Nn(t,jo(e,3),Di)}function uh(t,e){return null==t?t:Ai(t,jo(e,3),bh)}function lh(t,e){return null==t?t:Ci(t,jo(e,3),bh)}function ch(t,e){return t&&Oi(t,jo(e,3))}function hh(t,e){return t&&Di(t,jo(e,3))}function fh(t){return null==t?[]:Li(t,xh(t))}function dh(t){return null==t?[]:Li(t,bh(t))}function ph(t,e,n){var r=null==t?a:Ii(t,e);return r===a?n:r}function mh(t,e){return null!=t&&Jo(t,e,ki)}function gh(t,e){return null!=t&&Jo(t,e,Fi)}var vh=_o(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=n},Ef(Of)),_h=_o(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),he.call(t,e)?t[e].push(n):t[e]=[n]},jo),yh=_a(Gi);function xh(t){return uc(t)?ni(t):ta(t)}function bh(t){return uc(t)?ni(t,!0):ea(t)}function wh(t,e){var n={};return e=jo(e,3),Oi(t,function(t,r,i){fi(n,e(t,r,i),t)}),n}function Th(t,e){var n={};return e=jo(e,3),Oi(t,function(t,r,i){fi(n,r,e(t,r,i))}),n}var Sh=oo(function(t,e,n){oa(t,e,n)}),Eh=oo(function(t,e,n,r){oa(t,e,n,r)}),Mh=ko(function(t,e){var n={};if(null==t)return n;var r=!1;e=An(e,function(e){return e=Ga(e,t),r||(r=e.length>1),e}),no(t,Bo(t),n),r&&(n=mi(n,d|p|m,Io));var i=e.length;while(i--)Pa(n,e[i]);return n});function Ah(t,e){return Oh(t,zl(jo(e)))}var Ch=ko(function(t,e){return null==t?{}:ca(t,e)});function Oh(t,e){if(null==t)return{};var n=An(Bo(t),function(t){return[t]});return e=jo(e),ha(t,n,function(t,n){return e(t,n[0])})}function Dh(t,e,n){e=Ga(e,t);var r=-1,i=e.length;i||(i=1,t=a);while(++r<i){var o=null==t?a:t[Os(e[r])];o===a&&(r=i,o=n),t=yc(o)?o.call(t):o}return t}function Lh(t,e,n){return null==t?t:ba(t,e,n)}function Ih(t,e,n,r){return r="function"==typeof r?r:a,null==t?t:ba(t,e,n,r)}var Ph=Co(xh),Rh=Co(bh);function Nh(t,e,n){var r=oc(t),i=r||hc(t)||Bc(t);if(e=jo(e,4),null==n){var a=t&&t.constructor;n=i?r?new a:[]:wc(t)&&yc(a)?wr(we(t)):{}}return(i?bn:Oi)(t,function(t,r,i){return e(n,t,r,i)}),n}function kh(t,e){return null==t||Pa(t,e)}function Fh(t,e,n){return null==t?t:Ra(t,e,Ua(n))}function Bh(t,e,n,r){return r="function"==typeof r?r:a,null==t?t:Ra(t,e,Ua(n),r)}function zh(t){return null==t?[]:Zn(t,xh(t))}function Uh(t){return null==t?[]:Zn(t,bh(t))}function Gh(t,e,n){return n===a&&(n=e,e=a),n!==a&&(n=Yc(n),n=n===n?n:0),e!==a&&(e=Yc(e),e=e===e?e:0),pi(Yc(t),e,n)}function jh(t,e,n){return e=Wc(e),n===a?(n=e,e=0):n=Wc(n),t=Yc(t),Bi(t,e,n)}function Hh(t,e,n){if(n&&"boolean"!=typeof n&&as(t,e,n)&&(e=n=a),n===a&&("boolean"==typeof e?(n=e,e=a):"boolean"==typeof t&&(n=t,t=a)),t===a&&e===a?(t=0,e=1):(t=Wc(t),e===a?(e=t,t=0):e=Wc(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Xe();return Ge(t+i*(e-t+nn("1e-"+((i+"").length-1))),e)}return ma(t,e)}var Vh=ho(function(t,e,n){return e=e.toLowerCase(),t+(n?Wh(e):e)});function Wh(t){return yf($c(t).toLowerCase())}function Xh(t){return t=$c(t),t&&t.replace(Jt,tr).replace(He,"")}function qh(t,e,n){t=$c(t),e=La(e);var r=t.length;n=n===a?r:pi(Xc(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function Yh(t){return t=$c(t),t&&Ct.test(t)?t.replace(Mt,er):t}function Zh(t){return t=$c(t),t&&kt.test(t)?t.replace(Nt,"\\$&"):t}var Kh=ho(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),$h=ho(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Jh=co("toLowerCase");function Qh(t,e,n){t=$c(t),e=Xc(e);var r=e?pr(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return bo(Re(i),n)+t+bo(Pe(i),n)}function tf(t,e,n){t=$c(t),e=Xc(e);var r=e?pr(t):0;return e&&r<e?t+bo(e-r,n):t}function ef(t,e,n){t=$c(t),e=Xc(e);var r=e?pr(t):0;return e&&r<e?bo(e-r,n)+t:t}function nf(t,e,n){return n||null==e?e=0:e&&(e=+e),We($c(t).replace(Bt,""),e||0)}function rf(t,e,n){return e=(n?as(t,e,n):e===a)?1:Xc(e),va($c(t),e)}function af(){var t=arguments,e=$c(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var of=ho(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});function sf(t,e,n){return n&&"number"!=typeof n&&as(t,e,n)&&(e=n=a),n=n===a?z:n>>>0,n?(t=$c(t),t&&("string"==typeof e||null!=e&&!Pc(e))&&(e=La(e),!e&&ir(t))?Ha(mr(t),0,n):t.split(e,n)):[]}var uf=ho(function(t,e,n){return t+(n?" ":"")+yf(e)});function lf(t,e,n){return t=$c(t),n=null==n?0:pi(Xc(n),0,t.length),e=La(e),t.slice(n,n+e.length)==e}function cf(t,e,n){var r=xr.templateSettings;n&&as(t,e,n)&&(e=a),t=$c(t),e=th({},e,r,Do);var i,o,s=th({},e.imports,r.imports,Do),u=xh(s),l=Zn(s,u),c=0,h=e.interpolate||Qt,f="__p += '",d=re((e.escape||Qt).source+"|"+h.source+"|"+(h===Lt?Wt:Qt).source+"|"+(e.evaluate||Qt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ze+"]")+"\n";t.replace(d,function(e,n,r,a,s,u){return r||(r=a),f+=t.slice(c,u).replace(te,nr),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var m=e.variable;m||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(wt,""):f).replace(Tt,"$1").replace(St,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=bf(function(){return Ht(u,p+"return "+f).apply(a,l)});if(g.source=f,vc(g))throw g;return g}function hf(t){return $c(t).toLowerCase()}function ff(t){return $c(t).toUpperCase()}function df(t,e,n){if(t=$c(t),t&&(n||e===a))return t.replace(Ft,"");if(!t||!(e=La(e)))return t;var r=mr(t),i=mr(e),o=$n(r,i),s=Jn(r,i)+1;return Ha(r,o,s).join("")}function pf(t,e,n){if(t=$c(t),t&&(n||e===a))return t.replace(zt,"");if(!t||!(e=La(e)))return t;var r=mr(t),i=Jn(r,mr(e))+1;return Ha(r,0,i).join("")}function mf(t,e,n){if(t=$c(t),t&&(n||e===a))return t.replace(Bt,"");if(!t||!(e=La(e)))return t;var r=mr(t),i=$n(r,mr(e));return Ha(r,i).join("")}function gf(t,e){var n=C,r=O;if(wc(e)){var i="separator"in e?e.separator:i;n="length"in e?Xc(e.length):n,r="omission"in e?La(e.omission):r}t=$c(t);var o=t.length;if(ir(t)){var s=mr(t);o=s.length}if(n>=o)return t;var u=n-pr(r);if(u<1)return r;var l=s?Ha(s,0,u).join(""):t.slice(0,u);if(i===a)return l+r;if(s&&(u+=l.length-u),Pc(i)){if(t.slice(u).search(i)){var c,h=l;i.global||(i=re(i.source,$c(Xt.exec(i))+"g")),i.lastIndex=0;while(c=i.exec(h))var f=c.index;l=l.slice(0,f===a?u:f)}}else if(t.indexOf(La(i),u)!=u){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r}function vf(t){return t=$c(t),t&&At.test(t)?t.replace(Et,gr):t}var _f=ho(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),yf=co("toUpperCase");function xf(t,e,n){return t=$c(t),e=n?a:e,e===a?ar(t)?yr(t):Rn(t):t.match(e)||[]}var bf=_a(function(t,e){try{return yn(t,a,e)}catch(n){return vc(n)?n:new i(n)}}),wf=ko(function(t,e){return bn(e,function(e){e=Os(e),fi(t,e,Dl(t[e],t))}),t});function Tf(t){var e=null==t?0:t.length,n=jo();return t=e?An(t,function(t){if("function"!=typeof t[1])throw new ae(l);return[n(t[0]),t[1]]}):[],_a(function(n){var r=-1;while(++r<e){var i=t[r];if(yn(i[0],this,n))return yn(i[1],this,n)}})}function Sf(t){return gi(mi(t,d))}function Ef(t){return function(){return t}}function Mf(t,e){return null==t||t!==t?e:t}var Af=go(),Cf=go(!0);function Of(t){return t}function Df(t){return Qi("function"==typeof t?t:mi(t,d))}function Lf(t){return ia(mi(t,d))}function If(t,e){return aa(t,mi(e,d))}var Pf=_a(function(t,e){return function(n){return Gi(n,t,e)}}),Rf=_a(function(t,e){return function(n){return Gi(t,n,e)}});function Nf(t,e,n){var r=xh(e),i=Li(e,r);null!=n||wc(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Li(e,xh(e)));var a=!(wc(n)&&"chain"in n)||!!n.chain,o=yc(t);return bn(i,function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),i=n.__actions__=eo(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Cn([this.value()],arguments))})}),t}function kf(){return sn._===this&&(sn._=ge),this}function Ff(){}function Bf(t){return t=Xc(t),_a(function(e){return ua(e,t)})}var zf=xo(An),Uf=xo(Tn),Gf=xo(Ln);function jf(t){return os(t)?Gn(Os(t)):fa(t)}function Hf(t){return function(e){return null==t?a:Ii(t,e)}}var Vf=To(),Wf=To(!0);function Xf(){return[]}function qf(){return!1}function Yf(){return{}}function Zf(){return""}function Kf(){return!0}function $f(t,e){if(t=Xc(t),t<1||t>k)return[];var n=z,r=Ge(t,z);e=jo(e),t-=z;var i=Xn(r,e);while(++n<t)e(n);return i}function Jf(t){return oc(t)?An(t,Os):Fc(t)?[t]:eo(Cs($c(t)))}function Qf(t){var e=++fe;return $c(t)+e}var td=yo(function(t,e){return t+e},0),ed=Mo("ceil"),nd=yo(function(t,e){return t/e},1),rd=Mo("floor");function id(t){return t&&t.length?Ti(t,Of,Ni):a}function ad(t,e){return t&&t.length?Ti(t,jo(e,2),Ni):a}function od(t){return Un(t,Of)}function sd(t,e){return Un(t,jo(e,2))}function ud(t){return t&&t.length?Ti(t,Of,na):a}function ld(t,e){return t&&t.length?Ti(t,jo(e,2),na):a}var cd=yo(function(t,e){return t*e},1),hd=Mo("round"),fd=yo(function(t,e){return t-e},0);function dd(t){return t&&t.length?Wn(t,Of):0}function pd(t,e){return t&&t.length?Wn(t,jo(e,2)):0}return xr.after=Al,xr.ary=Cl,xr.assign=Jc,xr.assignIn=Qc,xr.assignInWith=th,xr.assignWith=eh,xr.at=nh,xr.before=Ol,xr.bind=Dl,xr.bindAll=wf,xr.bindKey=Ll,xr.castArray=Kl,xr.chain=Hu,xr.chunk=Ps,xr.compact=Rs,xr.concat=Ns,xr.cond=Tf,xr.conforms=Sf,xr.constant=Ef,xr.countBy=tl,xr.create=rh,xr.curry=Il,xr.curryRight=Pl,xr.debounce=Rl,xr.defaults=ih,xr.defaultsDeep=ah,xr.defer=Nl,xr.delay=kl,xr.difference=ks,xr.differenceBy=Fs,xr.differenceWith=Bs,xr.drop=zs,xr.dropRight=Us,xr.dropRightWhile=Gs,xr.dropWhile=js,xr.fill=Hs,xr.filter=nl,xr.flatMap=al,xr.flatMapDeep=ol,xr.flatMapDepth=sl,xr.flatten=Xs,xr.flattenDeep=qs,xr.flattenDepth=Ys,xr.flip=Fl,xr.flow=Af,xr.flowRight=Cf,xr.fromPairs=Zs,xr.functions=fh,xr.functionsIn=dh,xr.groupBy=cl,xr.initial=Js,xr.intersection=Qs,xr.intersectionBy=tu,xr.intersectionWith=eu,xr.invert=vh,xr.invertBy=_h,xr.invokeMap=fl,xr.iteratee=Df,xr.keyBy=dl,xr.keys=xh,xr.keysIn=bh,xr.map=pl,xr.mapKeys=wh,xr.mapValues=Th,xr.matches=Lf,xr.matchesProperty=If,xr.memoize=Bl,xr.merge=Sh,xr.mergeWith=Eh,xr.method=Pf,xr.methodOf=Rf,xr.mixin=Nf,xr.negate=zl,xr.nthArg=Bf,xr.omit=Mh,xr.omitBy=Ah,xr.once=Ul,xr.orderBy=ml,xr.over=zf,xr.overArgs=Gl,xr.overEvery=Uf,xr.overSome=Gf,xr.partial=jl,xr.partialRight=Hl,xr.partition=gl,xr.pick=Ch,xr.pickBy=Oh,xr.property=jf,xr.propertyOf=Hf,xr.pull=ou,xr.pullAll=su,xr.pullAllBy=uu,xr.pullAllWith=lu,xr.pullAt=cu,xr.range=Vf,xr.rangeRight=Wf,xr.rearg=Vl,xr.reject=yl,xr.remove=hu,xr.rest=Wl,xr.reverse=fu,xr.sampleSize=bl,xr.set=Lh,xr.setWith=Ih,xr.shuffle=wl,xr.slice=du,xr.sortBy=El,xr.sortedUniq=xu,xr.sortedUniqBy=bu,xr.split=sf,xr.spread=Xl,xr.tail=wu,xr.take=Tu,xr.takeRight=Su,xr.takeRightWhile=Eu,xr.takeWhile=Mu,xr.tap=Vu,xr.throttle=ql,xr.thru=Wu,xr.toArray=Vc,xr.toPairs=Ph,xr.toPairsIn=Rh,xr.toPath=Jf,xr.toPlainObject=Zc,xr.transform=Nh,xr.unary=Yl,xr.union=Au,xr.unionBy=Cu,xr.unionWith=Ou,xr.uniq=Du,xr.uniqBy=Lu,xr.uniqWith=Iu,xr.unset=kh,xr.unzip=Pu,xr.unzipWith=Ru,xr.update=Fh,xr.updateWith=Bh,xr.values=zh,xr.valuesIn=Uh,xr.without=Nu,xr.words=xf,xr.wrap=Zl,xr.xor=ku,xr.xorBy=Fu,xr.xorWith=Bu,xr.zip=zu,xr.zipObject=Uu,xr.zipObjectDeep=Gu,xr.zipWith=ju,xr.entries=Ph,xr.entriesIn=Rh,xr.extend=Qc,xr.extendWith=th,Nf(xr,xr),xr.add=td,xr.attempt=bf,xr.camelCase=Vh,xr.capitalize=Wh,xr.ceil=ed,xr.clamp=Gh,xr.clone=$l,xr.cloneDeep=Ql,xr.cloneDeepWith=tc,xr.cloneWith=Jl,xr.conformsTo=ec,xr.deburr=Xh,xr.defaultTo=Mf,xr.divide=nd,xr.endsWith=qh,xr.eq=nc,xr.escape=Yh,xr.escapeRegExp=Zh,xr.every=el,xr.find=rl,xr.findIndex=Vs,xr.findKey=oh,xr.findLast=il,xr.findLastIndex=Ws,xr.findLastKey=sh,xr.floor=rd,xr.forEach=ul,xr.forEachRight=ll,xr.forIn=uh,xr.forInRight=lh,xr.forOwn=ch,xr.forOwnRight=hh,xr.get=ph,xr.gt=rc,xr.gte=ic,xr.has=mh,xr.hasIn=gh,xr.head=Ks,xr.identity=Of,xr.includes=hl,xr.indexOf=$s,xr.inRange=jh,xr.invoke=yh,xr.isArguments=ac,xr.isArray=oc,xr.isArrayBuffer=sc,xr.isArrayLike=uc,xr.isArrayLikeObject=lc,xr.isBoolean=cc,xr.isBuffer=hc,xr.isDate=fc,xr.isElement=dc,xr.isEmpty=pc,xr.isEqual=mc,xr.isEqualWith=gc,xr.isError=vc,xr.isFinite=_c,xr.isFunction=yc,xr.isInteger=xc,xr.isLength=bc,xr.isMap=Sc,xr.isMatch=Ec,xr.isMatchWith=Mc,xr.isNaN=Ac,xr.isNative=Cc,xr.isNil=Dc,xr.isNull=Oc,xr.isNumber=Lc,xr.isObject=wc,xr.isObjectLike=Tc,xr.isPlainObject=Ic,xr.isRegExp=Pc,xr.isSafeInteger=Rc,xr.isSet=Nc,xr.isString=kc,xr.isSymbol=Fc,xr.isTypedArray=Bc,xr.isUndefined=zc,xr.isWeakMap=Uc,xr.isWeakSet=Gc,xr.join=nu,xr.kebabCase=Kh,xr.last=ru,xr.lastIndexOf=iu,xr.lowerCase=$h,xr.lowerFirst=Jh,xr.lt=jc,xr.lte=Hc,xr.max=id,xr.maxBy=ad,xr.mean=od,xr.meanBy=sd,xr.min=ud,xr.minBy=ld,xr.stubArray=Xf,xr.stubFalse=qf,xr.stubObject=Yf,xr.stubString=Zf,xr.stubTrue=Kf,xr.multiply=cd,xr.nth=au,xr.noConflict=kf,xr.noop=Ff,xr.now=Ml,xr.pad=Qh,xr.padEnd=tf,xr.padStart=ef,xr.parseInt=nf,xr.random=Hh,xr.reduce=vl,xr.reduceRight=_l,xr.repeat=rf,xr.replace=af,xr.result=Dh,xr.round=hd,xr.runInContext=t,xr.sample=xl,xr.size=Tl,xr.snakeCase=of,xr.some=Sl,xr.sortedIndex=pu,xr.sortedIndexBy=mu,xr.sortedIndexOf=gu,xr.sortedLastIndex=vu,xr.sortedLastIndexBy=_u,xr.sortedLastIndexOf=yu,xr.startCase=uf,xr.startsWith=lf,xr.subtract=fd,xr.sum=dd,xr.sumBy=pd,xr.template=cf,xr.times=$f,xr.toFinite=Wc,xr.toInteger=Xc,xr.toLength=qc,xr.toLower=hf,xr.toNumber=Yc,xr.toSafeInteger=Kc,xr.toString=$c,xr.toUpper=ff,xr.trim=df,xr.trimEnd=pf,xr.trimStart=mf,xr.truncate=gf,xr.unescape=vf,xr.uniqueId=Qf,xr.upperCase=_f,xr.upperFirst=yf,xr.each=ul,xr.eachRight=ll,xr.first=Ks,Nf(xr,function(){var t={};return Oi(xr,function(e,n){he.call(xr.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),xr.VERSION=o,bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){xr[t].placeholder=xr}),bn(["drop","take"],function(t,e){Er.prototype[t]=function(n){n=n===a?1:Ue(Xc(n),0);var r=this.__filtered__&&!e?new Er(this):this.clone();return r.__filtered__?r.__takeCount__=Ge(n,r.__takeCount__):r.__views__.push({size:Ge(n,z),type:t+(r.__dir__<0?"Right":"")}),r},Er.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),bn(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==I||n==R;Er.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:jo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),bn(["head","last"],function(t,e){var n="take"+(e?"Right":"");Er.prototype[t]=function(){return this[n](1).value()[0]}}),bn(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Er.prototype[t]=function(){return this.__filtered__?new Er(this):this[n](1)}}),Er.prototype.compact=function(){return this.filter(Of)},Er.prototype.find=function(t){return this.filter(t).head()},Er.prototype.findLast=function(t){return this.reverse().find(t)},Er.prototype.invokeMap=_a(function(t,e){return"function"==typeof t?new Er(this):this.map(function(n){return Gi(n,t,e)})}),Er.prototype.reject=function(t){return this.filter(zl(jo(t)))},Er.prototype.slice=function(t,e){t=Xc(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Er(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==a&&(e=Xc(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Er.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Er.prototype.toArray=function(){return this.take(z)},Oi(Er.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=xr[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(xr.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof Er,l=s[0],c=u||oc(e),h=function(t){var e=i.apply(xr,Cn([t],s));return r&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=o&&!f,m=u&&!d;if(!o&&c){e=m?e:new Er(this);var g=t.apply(e,s);return g.__actions__.push({func:Wu,args:[h],thisArg:a}),new Sr(g,f)}return p&&m?t.apply(this,s):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})}),bn(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);xr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(oc(i)?i:[],t)}return this[n](function(n){return e.apply(oc(n)?n:[],t)})}}),Oi(Er.prototype,function(t,e){var n=xr[e];if(n){var r=n.name+"",i=ln[r]||(ln[r]=[]);i.push({name:e,func:n})}}),ln[vo(a,y).name]=[{name:"wrapper",func:a}],Er.prototype.clone=Mr,Er.prototype.reverse=Ar,Er.prototype.value=Cr,xr.prototype.at=Xu,xr.prototype.chain=qu,xr.prototype.commit=Yu,xr.prototype.next=Zu,xr.prototype.plant=$u,xr.prototype.reverse=Ju,xr.prototype.toJSON=xr.prototype.valueOf=xr.prototype.value=Qu,xr.prototype.first=xr.prototype.head,Ae&&(xr.prototype[Ae]=Ku),xr},br=xr();sn._=br,i=function(){return br}.call(e,n,e,r),i===a||(r.exports=i)}).call(this)}).call(this,n("c8ba"),n("62e4")(t))},"2f21":function(t,e,n){"use strict";var r=n("79e5");t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},"2f45":function(t,e,n){var r=n("6d8b"),i=r.each,a=r.createHashMap,o=(r.assert,n("4e08")),s=(o.__DEV__,a(["tooltip","label","itemName","itemId","seriesName"]));function u(t){var e={},n=e.encode={},r=a(),o=[],u=[];i(t.dimensions,function(e){var i=t.getDimensionInfo(e),a=i.coordDim;if(a){var l=n[a];n.hasOwnProperty(a)||(l=n[a]=[]),l[i.coordDimIndex]=e,i.isExtraCoord||(r.set(a,1),c(i.type)&&(o[0]=e)),i.defaultTooltip&&u.push(e)}s.each(function(t,e){var r=n[e];n.hasOwnProperty(e)||(r=n[e]=[]);var a=i.otherDims[e];null!=a&&!1!==a&&(r[a]=i.name)})});var l=[],h={};r.each(function(t,e){var r=n[e];h[e]=r[0],l=l.concat(r)}),e.dataDimsOnCoord=l,e.encodeFirstDimNotExtra=h;var f=n.label;f&&f.length&&(o=f.slice());var d=n.tooltip;return d&&d.length?u=d.slice():u.length||(u=o.slice()),n.defaultedLabel=o,n.defaultedTooltip=u,e}function l(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function c(t){return!("ordinal"===t||"time"===t)}e.OTHER_DIMENSIONS=s,e.summarizeDimensions=u,e.getDimensionTypeByAxis=l},"2f72":function(t,e,n){"use strict";n.r(e);n("f751");var r=n("769b"),i=n("164e"),a=n.n(i),o={make:function(t){var e=t.stops.map(function(e,n){return{offset:1/(t.stops.length-1)*n,color:e}}),n=new a.a.graphic.LinearGradient(0,0,0,1,e);return n}};e["default"]=function(t){var e;if(!0===t.area)e={};else if(t.area){var n=t.area;e={normal:Object.assign({},n.color&&{color:o.make(r["a"].from(n.color))})}}return{areaStyle:e}}},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d2c8"),a="includes";r(r.P+r.F*n("5147")(a),"String",{includes:function(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"301d":function(t,e,n){"use strict";var r={name:{color:"#fff",align:"center",fontSize:12,padding:[2,0]},value:{color:"#ffc72b",fontSize:24,padding:[2,0],align:"center"},total:{color:"#ffc72b",fontSize:40,align:"center"},percent:{color:"#49dff0",fontSize:16,align:"center"},hr:{borderColor:"#0b5263",width:"100%",borderWidth:1,height:0}},i={name:{color:"#fff",align:"right",fontSize:12,padding:[2,0]},value:{color:"#44aff0",fontSize:12,padding:[2,0],align:"right"},percent:{color:"#49dff0",fontSize:10,align:"right",padding:[1,0]}};e["a"]={bignumber:r,nameValuePercent:i}},3041:function(t,e,n){var r=n("e1fc"),i=n("0da8"),a=n("76a5"),o=n("d9fc"),s=n("c7a2"),u=n("ae69"),l=n("cb11"),c=n("cbe5"),h=n("87b1"),f=n("d498"),d=n("48a9"),p=n("2b61"),m=n("1687"),g=n("342d"),v=g.createFromString,_=n("6d8b"),y=_.isString,x=_.extend,b=_.defaults,w=_.trim,T=_.each,S=/[\s,]+/;function E(t){if(y(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}9===t.nodeType&&(t=t.firstChild);while("svg"!==t.nodeName.toLowerCase()||1!==t.nodeType)t=t.nextSibling;return t}function M(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}M.prototype.parse=function(t,e){e=e||{};var n=E(t);if(!n)throw new Error("Illegal svg");var i=new r;this._root=i;var a=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||e.width),u=parseFloat(n.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(u)&&(u=null),P(n,i,null,!0);var l,c,h=n.firstChild;while(h)this._parseNode(h,i),h=h.nextSibling;if(a){var f=w(a).split(S);f.length>=4&&(l={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(l&&null!=o&&null!=u&&(c=U(l,o,u),!e.ignoreViewBox)){var d=i;i=new r,i.add(d),d.scale=c.scale.slice(),d.position=c.position.slice()}return e.ignoreRootClip||null==o||null==u||i.setClipPath(new s({shape:{x:0,y:0,width:o,height:u}})),{root:i,width:o,height:u,viewBoxRect:l,viewBoxTransform:c}},M.prototype._parseNode=function(t,e){var n,r=t.nodeName.toLowerCase();if("defs"===r?this._isDefine=!0:"text"===r&&(this._isText=!0),this._isDefine){var i=C[r];if(i){var a=i.call(this,t),o=t.getAttribute("id");o&&(this._defs[o]=a)}}else{i=A[r];i&&(n=i.call(this,t,e),e.add(n))}var s=t.firstChild;while(s)1===s.nodeType&&this._parseNode(s,n),3===s.nodeType&&this._isText&&this._parseText(s,n),s=s.nextSibling;"defs"===r?this._isDefine=!1:"text"===r&&(this._isText=!1)},M.prototype._parseText=function(t,e){if(1===t.nodeType){var n=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(r)}var i=new a({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});D(e,i),P(t,i,this._defs);var o=i.style.fontSize;o&&o<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=o/9,i.scale[1]*=o/9);var s=i.getBoundingRect();return this._textX+=s.width,e.add(i),i};var A={g:function(t,e){var n=new r;return D(e,n),P(t,n,this._defs),n},rect:function(t,e){var n=new s;return D(e,n),P(t,n,this._defs),n.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),n},circle:function(t,e){var n=new o;return D(e,n),P(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),n},line:function(t,e){var n=new l;return D(e,n),P(t,n,this._defs),n.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),n},ellipse:function(t,e){var n=new u;return D(e,n),P(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),n},polygon:function(t,e){var n=t.getAttribute("points");n&&(n=L(n));var r=new h({shape:{points:n||[]}});return D(e,r),P(t,r,this._defs),r},polyline:function(t,e){var n=new c;D(e,n),P(t,n,this._defs);var r=t.getAttribute("points");r&&(r=L(r));var i=new f({shape:{points:r||[]}});return i},image:function(t,e){var n=new i;return D(e,n),P(t,n,this._defs),n.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),n},text:function(t,e){var n=t.getAttribute("x")||0,i=t.getAttribute("y")||0,a=t.getAttribute("dx")||0,o=t.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(o);var s=new r;return D(e,s),P(t,s,this._defs),s},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||0,o=t.getAttribute("dy")||0,s=new r;return D(e,s),P(t,s,this._defs),this._textX+=a,this._textY+=o,s},path:function(t,e){var n=t.getAttribute("d")||"",r=v(n);return D(e,r),P(t,r,this._defs),r}},C={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),n=parseInt(t.getAttribute("y1")||0,10),r=parseInt(t.getAttribute("x2")||10,10),i=parseInt(t.getAttribute("y2")||0,10),a=new d(e,n,r,i);return O(t,a),a},radialgradient:function(t){}};function O(t,e){var n=t.firstChild;while(n){if(1===n.nodeType){var r=n.getAttribute("offset");r=r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var i=n.getAttribute("stop-color")||"#000000";e.addColorStop(r,i)}n=n.nextSibling}}function D(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),b(e.__inheritedStyle,t.__inheritedStyle))}function L(t){for(var e=w(t).split(S),n=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),a=parseFloat(e[r+1]);n.push([i,a])}return n}var I={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function P(t,e,n,r){var i=e.__inheritedStyle||{},a="text"===e.type;if(1===t.nodeType&&(F(t,e),x(i,z(t)),!r))for(var o in I)if(I.hasOwnProperty(o)){var s=t.getAttribute(o);null!=s&&(i[I[o]]=s)}var u=a?"textFill":"fill",l=a?"textStroke":"stroke";e.style=e.style||new p;var c=e.style;null!=i.fill&&c.set(u,N(i.fill,n)),null!=i.stroke&&c.set(l,N(i.stroke,n)),T(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){var e="lineWidth"===t&&a?"textStrokeWidth":t;null!=i[t]&&c.set(e,parseFloat(i[t]))}),i.textBaseline&&"auto"!==i.textBaseline||(i.textBaseline="alphabetic"),"alphabetic"===i.textBaseline&&(i.textBaseline="bottom"),"start"===i.textAlign&&(i.textAlign="left"),"end"===i.textAlign&&(i.textAlign="right"),T(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=i[t]&&c.set(t,i[t])}),i.lineDash&&(e.style.lineDash=w(i.lineDash).split(S)),c[l]&&"none"!==c[l]&&(e[l]=!0),e.__inheritedStyle=i}var R=/url\(\s*#(.*?)\)/;function N(t,e){var n=e&&t&&t.match(R);if(n){var r=w(n[1]),i=e[r];return i}return t}var k=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function F(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=null,i=[];n.replace(k,function(t,e,n){i.push(e,n)});for(var a=i.length-1;a>0;a-=2){var o=i[a],s=i[a-1];switch(r=r||m.create(),s){case"translate":o=w(o).split(S),m.translate(r,r,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=w(o).split(S),m.scale(r,r,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=w(o).split(S),m.rotate(r,r,parseFloat(o[0]));break;case"skew":o=w(o).split(S),console.warn("Skew transform is not supported yet");break;case"matrix":o=w(o).split(S);r[0]=parseFloat(o[0]),r[1]=parseFloat(o[1]),r[2]=parseFloat(o[2]),r[3]=parseFloat(o[3]),r[4]=parseFloat(o[4]),r[5]=parseFloat(o[5]);break}}e.setLocalTransform(r)}}var B=/([^\s:;]+)\s*:\s*([^:;]+)/g;function z(t){var e=t.getAttribute("style"),n={};if(!e)return n;var r,i={};B.lastIndex=0;while(null!=(r=B.exec(e)))i[r[1]]=r[2];for(var a in I)I.hasOwnProperty(a)&&null!=i[a]&&(n[I[a]]=i[a]);return n}function U(t,e,n){var r=e/t.width,i=n/t.height,a=Math.min(r,i),o=[a,a],s=[-(t.x+t.width/2)*a+e/2,-(t.y+t.height/2)*a+n/2];return{scale:o,position:s}}function G(t,e){var n=new M;return n.parse(t,e)}e.parseXML=E,e.makeViewBoxTransform=U,e.parseSVG=G},"308d":function(t,e,n){"use strict";var r=n("7618");function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){return!e||"object"!==Object(r["a"])(e)&&"function"!==typeof e?i(t):e}n.d(e,"a",function(){return a})},"30a3":function(t,e,n){var r=n("6d8b"),i=n("607d"),a=i.Dispatcher,o=n("98b7"),s=n("06ad"),u=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,a.call(this)};u.prototype={constructor:u,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=r.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,r=n.length,i=[],a=[],o=0;o<r;o++){var s=n[o],u=s.step(t,e);u&&(i.push(u),a.push(s))}for(o=0;o<r;)n[o]._needsRemove?(n[o]=n[r-1],n.pop(),r--):o++;r=i.length;for(o=0;o<r;o++)a[o].fire(i[o]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;function e(){t._running&&(o(e),!t._paused&&t._update())}this._running=!0,o(e)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){e=e||{};var n=new s(t,e.loop,e.getter,e.setter);return this.addAnimator(n),n}},r.mixin(u,a);var l=u;t.exports=l},"30f1":function(t,e,n){"use strict";var r=n("b8e3"),i=n("63b6"),a=n("9138"),o=n("35e8"),s=n("481b"),u=n("8f60"),l=n("45f2"),c=n("53e2"),h=n("5168")("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",m="values",g=function(){return this};t.exports=function(t,e,n,v,_,y,x){u(n,e,v);var b,w,T,S=function(t){if(!f&&t in C)return C[t];switch(t){case p:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",M=_==m,A=!1,C=t.prototype,O=C[h]||C[d]||_&&C[_],D=O||S(_),L=_?M?S("entries"):D:void 0,I="Array"==e&&C.entries||O;if(I&&(T=c(I.call(new t)),T!==Object.prototype&&T.next&&(l(T,E,!0),r||"function"==typeof T[h]||o(T,h,g))),M&&O&&O.name!==m&&(A=!0,D=function(){return O.call(this)}),r&&!x||!f&&!A&&C[h]||o(C,h,D),s[e]=D,s[E]=g,_)if(b={values:M?D:S(m),keys:y?D:S(p),entries:L},x)for(w in b)w in C||a(C,w,b[w]);else i(i.P+i.F*(f||A),e,b);return b}},"31f4":function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"326b":function(t,e,n){"use strict";n.r(e);var r={xAxis:!1,yAxis:!1};e["default"]=r},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"32f8":function(t,e,n){var r=n("862d"),i=n("3eba");i.extendSeriesModel({type:"series.liquidFill",visualColorAccessPath:"textStyle.normal.color",optionUpdated:function(){var t=this.option;t.gridSize=Math.max(Math.floor(t.gridSize),4)},getInitialData:function(t,e){var n=r(["value"],t.data),a=new i.List(n,this);return a.initData(t.data),a},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}})},"32fc":function(t,e,n){var r=n("e53d").document;t.exports=r&&r.documentElement},3301:function(t,e,n){var r=n("6d8b"),i=n("6179"),a=n("b1d4"),o=n("93d0"),s=o.SOURCE_FORMAT_ORIGINAL,u=n("2f45"),l=u.getDimensionTypeByAxis,c=n("e0d3"),h=c.getDataItemValue,f=n("2039"),d=n("8b7f"),p=d.getCoordSysDefineBySeries,m=n("ec6f"),g=n("ee1a"),v=g.enableDataStack;function _(t,e,n){n=n||{},m.isInstance(t)||(t=m.seriesDataToSource(t));var o,s=e.get("coordinateSystem"),u=f.get(s),c=p(e);c&&(o=r.map(c.coordSysDims,function(t){var e={name:t},n=c.axisMap.get(t);if(n){var r=n.get("type");e.type=l(r)}return e})),o||(o=u&&(u.getDimensionsInfo?u.getDimensionsInfo():u.dimensions.slice())||["x","y"]);var h,d,g=a(t,{coordDimensions:o,generateCoord:n.generateCoord});c&&r.each(g,function(t,e){var n=t.coordDim,r=c.categoryAxisMap.get(n);r&&(null==h&&(h=e),t.ordinalMeta=r.getOrdinalMeta()),null!=t.otherDims.itemName&&(d=!0)}),d||null==h||(g[h].otherDims.itemName=0);var _=v(e,g),x=new i(g,e);x.setCalculationInfo(_);var b=null!=h&&y(t)?function(t,e,n,r){return r===h?n:this.defaultDimValueGetter(t,e,n,r)}:null;return x.hasItemOption=!1,x.initData(t,null,b),x}function y(t){if(t.sourceFormat===s){var e=x(t.data||[]);return null!=e&&!r.isArray(h(e))}}function x(t){var e=0;while(e<t.length&&null==t[e])e++;return t[e]}var b=_;t.exports=b},"335c":function(t,e,n){var r=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"33a4":function(t,e,n){var r=n("84f2"),i=n("2b4c")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},"342d":function(t,e,n){var r=n("cbe5"),i=n("20c8"),a=n("ee84"),o=Math.sqrt,s=Math.sin,u=Math.cos,l=Math.PI,c=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},h=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(c(t)*c(e))},f=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(h(t,e))};function d(t,e,n,r,i,a,c,d,p,m,g){var v=p*(l/180),_=u(v)*(t-n)/2+s(v)*(e-r)/2,y=-1*s(v)*(t-n)/2+u(v)*(e-r)/2,x=_*_/(c*c)+y*y/(d*d);x>1&&(c*=o(x),d*=o(x));var b=(i===a?-1:1)*o((c*c*(d*d)-c*c*(y*y)-d*d*(_*_))/(c*c*(y*y)+d*d*(_*_)))||0,w=b*c*y/d,T=b*-d*_/c,S=(t+n)/2+u(v)*w-s(v)*T,E=(e+r)/2+s(v)*w+u(v)*T,M=f([1,0],[(_-w)/c,(y-T)/d]),A=[(_-w)/c,(y-T)/d],C=[(-1*_-w)/c,(-1*y-T)/d],O=f(A,C);h(A,C)<=-1&&(O=l),h(A,C)>=1&&(O=0),0===a&&O>0&&(O-=2*l),1===a&&O<0&&(O+=2*l),g.addData(m,S,E,c,d,M,O,v,a)}var p=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,m=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function g(t){if(!t)return new i;for(var e,n=0,r=0,a=n,o=r,s=new i,u=i.CMD,l=t.match(p),c=0;c<l.length;c++){for(var h,f=l[c],g=f.charAt(0),v=f.match(m)||[],_=v.length,y=0;y<_;y++)v[y]=parseFloat(v[y]);var x=0;while(x<_){var b,w,T,S,E,M,A,C=n,O=r;switch(g){case"l":n+=v[x++],r+=v[x++],h=u.L,s.addData(h,n,r);break;case"L":n=v[x++],r=v[x++],h=u.L,s.addData(h,n,r);break;case"m":n+=v[x++],r+=v[x++],h=u.M,s.addData(h,n,r),a=n,o=r,g="l";break;case"M":n=v[x++],r=v[x++],h=u.M,s.addData(h,n,r),a=n,o=r,g="L";break;case"h":n+=v[x++],h=u.L,s.addData(h,n,r);break;case"H":n=v[x++],h=u.L,s.addData(h,n,r);break;case"v":r+=v[x++],h=u.L,s.addData(h,n,r);break;case"V":r=v[x++],h=u.L,s.addData(h,n,r);break;case"C":h=u.C,s.addData(h,v[x++],v[x++],v[x++],v[x++],v[x++],v[x++]),n=v[x-2],r=v[x-1];break;case"c":h=u.C,s.addData(h,v[x++]+n,v[x++]+r,v[x++]+n,v[x++]+r,v[x++]+n,v[x++]+r),n+=v[x-2],r+=v[x-1];break;case"S":b=n,w=r;var D=s.len(),L=s.data;e===u.C&&(b+=n-L[D-4],w+=r-L[D-3]),h=u.C,C=v[x++],O=v[x++],n=v[x++],r=v[x++],s.addData(h,b,w,C,O,n,r);break;case"s":b=n,w=r;D=s.len(),L=s.data;e===u.C&&(b+=n-L[D-4],w+=r-L[D-3]),h=u.C,C=n+v[x++],O=r+v[x++],n+=v[x++],r+=v[x++],s.addData(h,b,w,C,O,n,r);break;case"Q":C=v[x++],O=v[x++],n=v[x++],r=v[x++],h=u.Q,s.addData(h,C,O,n,r);break;case"q":C=v[x++]+n,O=v[x++]+r,n+=v[x++],r+=v[x++],h=u.Q,s.addData(h,C,O,n,r);break;case"T":b=n,w=r;D=s.len(),L=s.data;e===u.Q&&(b+=n-L[D-4],w+=r-L[D-3]),n=v[x++],r=v[x++],h=u.Q,s.addData(h,b,w,n,r);break;case"t":b=n,w=r;D=s.len(),L=s.data;e===u.Q&&(b+=n-L[D-4],w+=r-L[D-3]),n+=v[x++],r+=v[x++],h=u.Q,s.addData(h,b,w,n,r);break;case"A":T=v[x++],S=v[x++],E=v[x++],M=v[x++],A=v[x++],C=n,O=r,n=v[x++],r=v[x++],h=u.A,d(C,O,n,r,M,A,T,S,E,h,s);break;case"a":T=v[x++],S=v[x++],E=v[x++],M=v[x++],A=v[x++],C=n,O=r,n+=v[x++],r+=v[x++],h=u.A,d(C,O,n,r,M,A,T,S,E,h,s);break}}"z"!==g&&"Z"!==g||(h=u.Z,s.addData(h),n=a,r=o),e=h}return s.toStatic(),s}function v(t,e){var n=g(t);return e=e||{},e.buildPath=function(t){if(t.setData){t.setData(n.data);var e=t.getContext();e&&t.rebuildPath(e)}else{e=t;n.rebuildPath(e)}},e.applyTransform=function(t){a(n,t),this.dirty(!0)},e}function _(t,e){return new r(v(t,e))}function y(t,e){return r.extend(v(t,e))}function x(t,e){for(var n=[],i=t.length,a=0;a<i;a++){var o=t[a];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var s=new r(e);return s.createPathProxy(),s.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},s}e.createFromString=_,e.extendFromString=y,e.mergePath=x},3456:function(t,e){},"347e":function(t,e,n){"use strict";n.r(e);var r=n("301d");e["default"]={name:"rich-label-percent",props:{styles:{label:{formats:r["a"].nameValuePercent,percent:!0}}}}},"355d":function(t,e){e.f={}.propertyIsEnumerable},"357b":function(t,e,n){var r={"./3d-bar.ts":"89cf","./baidu-map.ts":"7c5c","./bar.ts":"1881","./liquid.ts":"326b","./pie.ts":"7c81","./radar.ts":"f074","./ring.ts":"8866","./scatter.ts":"a5b2","./tree.ts":"d4d1","./treemap.ts":"3938"};function i(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="357b"},"35e8":function(t,e,n){var r=n("d9f6"),i=n("aebd");t.exports=n("8e60")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"36bd":function(t,e,n){"use strict";var r=n("4bf8"),i=n("77f1"),a=n("9def");t.exports=function(t){var e=r(this),n=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);while(l>s)e[s++]=t;return e}},"36c3":function(t,e,n){var r=n("335c"),i=n("25eb");t.exports=function(t){return r(i(t))}},3702:function(t,e,n){var r=n("481b"),i=n("5168")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},3842:function(t,e,n){var r=n("6d8b"),i=1e-4;function a(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}function o(t,e,n,r){var i=e[1]-e[0],a=n[1]-n[0];if(0===i)return 0===a?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/i*a+n[0]}function s(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return"string"===typeof t?a(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function u(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function l(t){return t.sort(function(t,e){return t-e}),t}function c(t){if(t=+t,isNaN(t))return 0;var e=1,n=0;while(Math.round(t*e)/e!==t)e*=10,n++;return n}function h(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var r=+e.slice(n+1);return r<0?-r:0}var i=e.indexOf(".");return i<0?0:e.length-1-i}function f(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),a=Math.round(n(Math.abs(e[1]-e[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function d(t,e,n){if(!t[e])return 0;var i=r.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===i)return 0;var a=Math.pow(10,n),o=r.map(t,function(t){return(isNaN(t)?0:t)/i*a*100}),s=100*a,u=r.map(o,function(t){return Math.floor(t)}),l=r.reduce(u,function(t,e){return t+e},0),c=r.map(o,function(t,e){return t-u[e]});while(l<s){for(var h=Number.NEGATIVE_INFINITY,f=null,d=0,p=c.length;d<p;++d)c[d]>h&&(h=c[d],f=d);++u[f],c[f]=0,++l}return u[e]/a}var p=9007199254740991;function m(t){var e=2*Math.PI;return(t%e+e)%e}function g(t){return t>-i&&t<i}var v=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function _(t){if(t instanceof Date)return t;if("string"===typeof t){var e=v.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function y(t){return Math.pow(10,x(t))}function x(t){return Math.floor(Math.log(t)/Math.LN10)}function b(t,e){var n,r=x(t),i=Math.pow(10,r),a=t/i;return n=e?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,t=n*i,r>=-20?+t.toFixed(r<0?-r:0):t}function w(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i}function T(t){t.sort(function(t,e){return s(t,e,0)?-1:1});for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,a=t[r].close,o=0;o<2;o++)i[o]<=e&&(i[o]=e,a[o]=o?1:1-n),e=i[o],n=a[o];i[0]===i[1]&&a[0]*a[1]!==1?t.splice(r,1):r++}return t;function s(t,e,n){return t.interval[n]<e.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]===(n?-1:1)||!n&&s(t,e,1))}}function S(t){return t-parseFloat(t)>=0}e.linearMap=o,e.parsePercent=s,e.round=u,e.asc=l,e.getPrecision=c,e.getPrecisionSafe=h,e.getPixelPrecision=f,e.getPercentWithPrecision=d,e.MAX_SAFE_INTEGER=p,e.remRadian=m,e.isRadianAroundZero=g,e.parseDate=_,e.quantity=y,e.nice=b,e.quantile=w,e.reformIntervals=T,e.isNumeric=S},"38a2":function(t,e,n){var r=n("2b17"),i=r.retrieveRawValue,a=n("eda2"),o=a.getTooltipMarker,s=a.formatTpl,u=n("e0d3"),l=u.getTooltipRenderMode,c=/\{@(.+?)\}/g,h={getDataParams:function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),i=n.getRawIndex(t),a=n.getName(t),s=n.getRawDataItem(t),u=n.getItemVisual(t,"color"),c=this.ecModel.getComponent("tooltip"),h=c&&c.get("renderMode"),f=l(h),d=this.mainType,p="series"===d;return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:a,dataIndex:i,data:s,dataType:e,value:r,color:u,marker:o({color:u,renderMode:f}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,r,a){e=e||"normal";var o=this.getData(n),u=o.getItemModel(t),l=this.getDataParams(t,n);null!=r&&l.value instanceof Array&&(l.value=l.value[r]);var h=u.get("normal"===e?[a||"label","formatter"]:[e,a||"label","formatter"]);if("function"===typeof h)return l.status=e,h(l);if("string"===typeof h){var f=s(h,l);return f.replace(c,function(e,n){var r=n.length;return"["===n.charAt(0)&&"]"===n.charAt(r-1)&&(n=+n.slice(1,r-1)),i(o,t,n)})}},getRawValue:function(t,e){return i(this.getData(e),t)},formatTooltip:function(){}};t.exports=h},"38fd":function(t,e,n){var r=n("69a8"),i=n("4bf8"),a=n("613b")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},3901:function(t,e,n){var r=n("282b"),i=r([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),a={getLineStyle:function(t){var e=i(this,t),n=this.getLineDash(e.lineWidth);return n&&(e.lineDash=n),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),r=4*t;return"solid"===e||null==e?null:"dashed"===e?[r,r]:[n,n]}};t.exports=a},"392f":function(t,e,n){var r=n("6d8b"),i=r.inherits,a=n("19eb"),o=n("9850");function s(t){a.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}s.prototype.incremental=!0,s.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},s.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},s.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},s.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},s.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},s.prototype.brush=function(t,e){for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.beforeBrush&&r.beforeBrush(t),r.brush(t,n===this._cursor?null:this._displayables[n-1]),r.afterBrush&&r.afterBrush(t)}this._cursor=n;for(n=0;n<this._temporaryDisplayables.length;n++){r=this._temporaryDisplayables[n];r.beforeBrush&&r.beforeBrush(t),r.brush(t,0===n?null:this._temporaryDisplayables[n-1]),r.afterBrush&&r.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var u=[];s.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new o(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(u)),t.union(r)}this._rect=t}return this._rect},s.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();if(r.contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){var a=this._displayables[i];if(a.contain(t,e))return!0}return!1},i(s,a);var l=s;t.exports=l},3938:function(t,e,n){"use strict";n.r(e);var r={xAxis:!1,yAxis:!1};e["default"]=r},"3a38":function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"3cbf":function(t,e,n){"use strict";n.r(e);n("f6b3"),n("28a5"),n("ac6a");e["default"]=function(t){var e={},n=t.y;if(!1===n)return e={show:!1},{yAxis:[e]};if("name,show,data,min".split(",").forEach(function(t){Reflect.has(n,t)&&(e[t]=n[t])}),n.unit&&(e.axisLabel={formatter:"100%"===n.unit?function(t,e){return 100*t+"%"}:"{value}"+n.unit}),Reflect.has(n,"line")){var r=n.line;!1===r&&(e.axisLine={show:!1})}if(Reflect.has(n,"ticks")){var i=n.ticks;!1===i&&(e.axisTick={show:!1})}return{yAxis:[e]}}},"3eba":function(t,e,n){var r=n("4e08"),i=(r.__DEV__,n("697e")),a=n("6d8b"),o=n("41ef"),s=n("22d1"),u=n("04f6"),l=n("1fab"),c=n("7e63"),h=n("843e"),f=n("2039"),d=n("ca98"),p=n("fb05"),m=n("d15d"),g=n("6cb7"),v=n("4f85"),_=n("b12f"),y=n("e887"),x=n("2306"),b=n("e0d3"),w=n("88b3"),T=w.throttle,S=n("fd63"),E=n("b809"),M=n("998c"),A=n("69ff"),C=n("c533"),O=n("f219");n("0352");var D=n("ec34"),L=a.assert,I=a.each,P=a.isFunction,R=a.isObject,N=g.parseClassType,k="4.2.1",F={zrender:"4.0.6"},B=1,z=1e3,U=5e3,G=1e3,j=2e3,H=3e3,V=4e3,W=5e3,X={PROCESSOR:{FILTER:z,STATISTIC:U},VISUAL:{LAYOUT:G,GLOBAL:j,CHART:H,COMPONENT:V,BRUSH:W}},q="__flagInMainProcess",Y="__optionUpdated",Z=/^[a-zA-Z0-9_]+$/;function K(t){return function(e,n,r){e=e&&e.toLowerCase(),l.prototype[t].call(this,e,n,r)}}function $(){l.call(this)}function J(t,e,n){n=n||{},"string"===typeof e&&(e=At[e]),this.id,this.group,this._dom=t;var r="canvas",o=this._zr=i.init(t,{renderer:n.renderer||r,devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=T(a.bind(o.flush,o),17);e=a.clone(e);e&&p(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new f;var s=this._api=yt(this);function c(t,e){return t.__prio-e.__prio}u(Mt,c),u(Tt,c),this._scheduler=new A(this,s,Tt,Mt),l.call(this,this._ecEventProcessor=new xt),this._messageCenter=new $,this._initEvents(),this.resize=a.bind(this.resize,this),this._pendingActions=[],o.animation.on("frame",this._onframe,this),ut(o,this),a.setAsPrimitive(this)}$.prototype.on=K("on"),$.prototype.off=K("off"),$.prototype.one=K("one"),a.mixin($,l);var Q=J.prototype;function tt(t,e,n){var r,i=this._model,a=this._coordSysMgr.getCoordinateSystems();e=b.parseFinder(i,e);for(var o=0;o<a.length;o++){var s=a[o];if(s[t]&&null!=(r=s[t](i,e,n)))return r}}Q._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[Y]){var e=this[Y].silent;this[q]=!0,nt(this),et.update.call(this),this[q]=!1,this[Y]=!1,ot.call(this,e),st.call(this,e)}else if(t.unfinished){var n=B,r=this._model,i=this._api;t.unfinished=!1;do{var a=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),it(this,r),t.performVisualTasks(r),dt(this,this._model,i,"remain"),n-=+new Date-a}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},Q.getDom=function(){return this._dom},Q.getZr=function(){return this._zr},Q.setOption=function(t,e,n){var r;if(R(e)&&(n=e.lazyUpdate,r=e.silent,e=e.notMerge),this[q]=!0,!this._model||e){var i=new d(this._api),a=this._theme,o=this._model=new c(null,null,a,i);o.scheduler=this._scheduler,o.init(null,null,a,i)}this._model.setOption(t,St),n?(this[Y]={silent:r},this[q]=!1):(nt(this),et.update.call(this),this._zr.flush(),this[Y]=!1,this[q]=!1,ot.call(this,r),st.call(this,r))},Q.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Q.getModel=function(){return this._model},Q.getOption=function(){return this._model&&this._model.getOption()},Q.getWidth=function(){return this._zr.getWidth()},Q.getHeight=function(){return this._zr.getHeight()},Q.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},Q.getRenderedCanvas=function(t){if(s.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr;return e.painter.getRenderedCanvas(t)}},Q.getSvgDataUrl=function(){if(s.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return a.each(e,function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},Q.getDataURL=function(t){t=t||{};var e=t.excludeComponents,n=this._model,r=[],i=this;I(e,function(t){n.eachComponent({mainType:t},function(t){var e=i._componentsMap[t.__viewId];e.group.ignore||(r.push(e),e.group.ignore=!0)})});var a="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return I(r,function(t){t.group.ignore=!1}),a},Q.getConnectedDataURL=function(t){if(s.canvasSupported){var e=this.group,n=Math.min,r=Math.max,o=1/0;if(Dt[e]){var u=o,l=o,c=-o,h=-o,f=[],d=t&&t.pixelRatio||1;a.each(Ot,function(i,o){if(i.group===e){var s=i.getRenderedCanvas(a.clone(t)),d=i.getDom().getBoundingClientRect();u=n(d.left,u),l=n(d.top,l),c=r(d.right,c),h=r(d.bottom,h),f.push({dom:s,left:d.left,top:d.top})}}),u*=d,l*=d,c*=d,h*=d;var p=c-u,m=h-l,g=a.createCanvas();g.width=p,g.height=m;var v=i.init(g);return I(f,function(t){var e=new x.Image({style:{x:t.left*d-u,y:t.top*d-l,image:t.dom}});v.add(e)}),v.refreshImmediately(),g.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},Q.convertToPixel=a.curry(tt,"convertToPixel"),Q.convertFromPixel=a.curry(tt,"convertFromPixel"),Q.containPixel=function(t,e){var n,r=this._model;return t=b.parseFinder(r,t),a.each(t,function(t,r){r.indexOf("Models")>=0&&a.each(t,function(t){var i=t.coordinateSystem;if(i&&i.containPoint)n|=!!i.containPoint(e);else if("seriesModels"===r){var a=this._chartsMap[t.__viewId];a&&a.containPoint&&(n|=a.containPoint(e,t))}},this)},this),!!n},Q.getVisual=function(t,e){var n=this._model;t=b.parseFinder(n,t,{defaultMainType:"series"});var r=t.seriesModel,i=r.getData(),a=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?i.indexOfRawIndex(t.dataIndex):null;return null!=a?i.getItemVisual(a,e):i.getVisual(e)},Q.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},Q.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var et={prepareAndUpdate:function(t){nt(this),et.update.call(this,t)},update:function(t){var e=this._model,n=this._api,r=this._zr,i=this._coordSysMgr,a=this._scheduler;if(e){a.restoreData(e,t),a.performSeriesTasks(e),i.create(e,n),a.performDataProcessorTasks(e,t),it(this,e),i.update(e,n),ct(e),a.performVisualTasks(e,t),ht(this,e,n,t);var u=e.get("backgroundColor")||"transparent";if(s.canvasSupported)r.setBackgroundColor(u);else{var l=o.parse(u);u=o.stringify(l,"rgb"),0===l[3]&&(u="transparent")}pt(e,n)}},updateTransform:function(t){var e=this._model,n=this,r=this._api;if(e){var i=[];e.eachComponent(function(a,o){var s=n.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var u=s.updateTransform(o,e,r,t);u&&u.update&&i.push(s)}else i.push(s)});var o=a.createHashMap();e.eachSeries(function(i){var a=n._chartsMap[i.__viewId];if(a.updateTransform){var s=a.updateTransform(i,e,r,t);s&&s.update&&o.set(i.uid,1)}else o.set(i.uid,1)}),ct(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:o}),dt(n,e,r,t,o),pt(e,this._api)}},updateView:function(t){var e=this._model;e&&(y.markUpdateMethod(t,"updateView"),ct(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),ht(this,this._model,this._api,t),pt(e,this._api))},updateVisual:function(t){et.update.call(this,t)},updateLayout:function(t){et.update.call(this,t)}};function nt(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),lt(t,"component",e,n),lt(t,"chart",e,n),n.plan()}function rt(t,e,n,r,i){var o=t._model;if(r){var s={};s[r+"Id"]=n[r+"Id"],s[r+"Index"]=n[r+"Index"],s[r+"Name"]=n[r+"Name"];var u={mainType:r,query:s};i&&(u.subType=i);var l=n.excludeSeriesId;null!=l&&(l=a.createHashMap(b.normalizeToArray(l))),o&&o.eachComponent(u,function(e){l&&null!=l.get(e.id)||c(t["series"===r?"_chartsMap":"_componentsMap"][e.__viewId])},t)}else I(t._componentsViews.concat(t._chartsViews),c);function c(r){r&&r.__alive&&r[e]&&r[e](r.__model,o,t._api,n)}}function it(t,e){var n=t._chartsMap,r=t._scheduler;e.eachSeries(function(t){r.updateStreamModes(t,n[t.__viewId])})}function at(t,e){var n=t.type,r=t.escapeConnect,i=bt[n],o=i.actionInfo,s=(o.update||"update").split(":"),u=s.pop();s=null!=s[0]&&N(s[0]),this[q]=!0;var l=[t],c=!1;t.batch&&(c=!0,l=a.map(t.batch,function(e){return e=a.defaults(a.extend({},e),t),e.batch=null,e}));var h,f=[],d="highlight"===n||"downplay"===n;I(l,function(t){h=i.action(t,this._model,this._api),h=h||a.extend({},t),h.type=o.event||h.type,f.push(h),d?rt(this,u,t,"series"):s&&rt(this,u,t,s.main,s.sub)},this),"none"===u||d||s||(this[Y]?(nt(this),et.update.call(this,t),this[Y]=!1):et[u].call(this,t)),h=c?{type:o.event||n,escapeConnect:r,batch:f}:f[0],this[q]=!1,!e&&this._messageCenter.trigger(h.type,h)}function ot(t){var e=this._pendingActions;while(e.length){var n=e.shift();at.call(this,n,t)}}function st(t){!t&&this.trigger("updated")}function ut(t,e){t.on("rendered",function(){e.trigger("rendered"),!t.animation.isFinished()||e[Y]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})}function lt(t,e,n,r){for(var i="component"===e,a=i?t._componentsViews:t._chartsViews,o=i?t._componentsMap:t._chartsMap,s=t._zr,u=t._api,l=0;l<a.length;l++)a[l].__alive=!1;function c(t){var e="_ec_"+t.id+"_"+t.type,l=o[e];if(!l){var c=N(t.type),h=i?_.getClass(c.main,c.sub):y.getClass(c.sub);l=new h,l.init(n,u),o[e]=l,a.push(l),s.add(l.group)}t.__viewId=l.__id=e,l.__alive=!0,l.__model=t,l.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!i&&r.prepareView(l,t,n,u)}i?n.eachComponent(function(t,e){"series"!==t&&c(e)}):n.eachSeries(c);for(l=0;l<a.length;){var h=a[l];h.__alive?l++:(!i&&h.renderTask.dispose(),s.remove(h.group),h.dispose(n,u),a.splice(l,1),delete o[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function ct(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function ht(t,e,n,r){ft(t,e,n,r),I(t._chartsViews,function(t){t.__alive=!1}),dt(t,e,n,r),I(t._chartsViews,function(t){t.__alive||t.remove(e,n)})}function ft(t,e,n,r,i){I(i||t._componentsViews,function(t){var i=t.__model;t.render(i,e,n,r),_t(i,t)})}function dt(t,e,n,r,i){var a,o=t._scheduler;e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var s=n.renderTask;o.updatePayload(s,r),i&&i.get(e.uid)&&s.dirty(),a|=s.perform(o.getPerformArgs(s)),n.group.silent=!!e.get("silent"),_t(e,n),vt(e,n)}),o.unfinished|=a,gt(t._zr,e),E(t._zr.dom,e)}function pt(t,e){I(Et,function(n){n(t,e)})}Q.resize=function(t){this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),r=t&&t.silent;this[q]=!0,n&&nt(this),et.update.call(this),this[q]=!1,ot.call(this,r),st.call(this,r)}},Q.showLoading=function(t,e){if(R(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Ct[t]){var n=Ct[t](this._api,e),r=this._zr;this._loadingFX=n,r.add(n)}},Q.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Q.makeActionFromEvent=function(t){var e=a.extend({},t);return e.type=wt[t.type],e},Q.dispatchAction=function(t,e){R(e)||(e={silent:!!e}),bt[t.type]&&this._model&&(this[q]?this._pendingActions.push(t):(at.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&s.browser.weChat&&this._throttledZrFlush(),ot.call(this,e.silent),st.call(this,e.silent)))},Q.appendData=function(t){var e=t.seriesIndex,n=this.getModel(),r=n.getSeriesByIndex(e);r.appendData(t),this._scheduler.unfinished=!0},Q.on=K("on"),Q.off=K("off"),Q.one=K("one");var mt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function gt(t,e){var n=t.storage,r=0;n.traverse(function(t){t.isGroup||r++}),r>e.get("hoverLayerThreshold")&&!s.node&&n.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}function vt(t,e){var n=t.get("blendMode")||null;e.group.traverse(function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",n)})})}function _t(t,e){var n=t.get("z"),r=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=r&&(t.zlevel=r))})}function yt(t){var e=t._coordSysMgr;return a.extend(new h(t),{getCoordinateSystems:a.bind(e.getCoordinateSystems,e),getComponentByElement:function(e){while(e){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}}})}function xt(){this.eventInfo}Q._initEvents=function(){I(mt,function(t){var e=function(e){var n,r=this.getModel(),i=e.target,o="globalout"===t;if(o)n={};else if(i&&null!=i.dataIndex){var s=i.dataModel||r.getSeriesByIndex(i.seriesIndex);n=s&&s.getDataParams(i.dataIndex,i.dataType,i)||{}}else i&&i.eventData&&(n=a.extend({},i.eventData));if(n){var u=n.componentType,l=n.componentIndex;"markLine"!==u&&"markPoint"!==u&&"markArea"!==u||(u="series",l=n.seriesIndex);var c=u&&null!=l&&r.getComponent(u,l),h=c&&this["series"===c.mainType?"_chartsMap":"_componentsMap"][c.__viewId];n.event=e,n.type=t,this._ecEventProcessor.eventInfo={targetEl:i,packedEvent:n,model:c,view:h},this.trigger(t,n)}};e.zrEventfulCallAtLast=!0,this._zr.on(t,e,this)},this),I(wt,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},Q.isDisposed=function(){return this._disposed},Q.clear=function(){this.setOption({series:[]},!0)},Q.dispose=function(){if(!this._disposed){this._disposed=!0,b.setAttribute(this.getDom(),Pt,"");var t=this._api,e=this._model;I(this._componentsViews,function(n){n.dispose(e,t)}),I(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),delete Ot[this.id]}},a.mixin(J,l),xt.prototype={constructor:xt,normalizeQuery:function(t){var e={},n={},r={};if(a.isString(t)){var i=N(t);e.mainType=i.main||null,e.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};a.each(t,function(t,i){for(var a=!1,u=0;u<o.length;u++){var l=o[u],c=i.lastIndexOf(l);if(c>0&&c===i.length-l.length){var h=i.slice(0,c);"data"!==h&&(e.mainType=h,e[l.toLowerCase()]=t,a=!0)}}s.hasOwnProperty(i)&&(n[i]=t,a=!0),a||(r[i]=t)})}return{cptQuery:e,dataQuery:n,otherQuery:r}},filter:function(t,e,n){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,o=r.model,s=r.view;if(!o||!s)return!0;var u=e.cptQuery,l=e.dataQuery;return c(u,o,"mainType")&&c(u,o,"subType")&&c(u,o,"index","componentIndex")&&c(u,o,"name")&&c(u,o,"id")&&c(l,a,"name")&&c(l,a,"dataIndex")&&c(l,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,i,a));function c(t,e,n,r){return null==t[n]||e[r||n]===t[n]}},afterTrigger:function(){this.eventInfo=null}};var bt={},wt={},Tt=[],St=[],Et=[],Mt=[],At={},Ct={},Ot={},Dt={},Lt=new Date-0,It=new Date-0,Pt="_echarts_instance_";function Rt(t){var e=0,n=1,r=2,i="__connectUpdateStatus";function a(t,e){for(var n=0;n<t.length;n++){var r=t[n];r[i]=e}}I(wt,function(o,s){t._messageCenter.on(s,function(o){if(Dt[t.group]&&t[i]!==e){if(o&&o.escapeConnect)return;var s=t.makeActionFromEvent(o),u=[];I(Ot,function(e){e!==t&&e.group===t.group&&u.push(e)}),a(u,e),I(u,function(t){t[i]!==n&&t.dispatchAction(s)}),a(u,r)}})})}function Nt(t,e,n){var r=Ut(t);if(r)return r;var i=new J(t,e,n);return i.id="ec_"+Lt++,Ot[i.id]=i,b.setAttribute(t,Pt,i.id),Rt(i),i}function kt(t){if(a.isArray(t)){var e=t;t=null,I(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+It++,I(e,function(e){e.group=t})}return Dt[t]=!0,t}function Ft(t){Dt[t]=!1}var Bt=Ft;function zt(t){"string"===typeof t?t=Ot[t]:t instanceof J||(t=Ut(t)),t instanceof J&&!t.isDisposed()&&t.dispose()}function Ut(t){return Ot[b.getAttribute(t,Pt)]}function Gt(t){return Ot[t]}function jt(t,e){At[t]=e}function Ht(t){St.push(t)}function Vt(t,e){$t(Tt,t,e,z)}function Wt(t){Et.push(t)}function Xt(t,e,n){"function"===typeof e&&(n=e,e="");var r=R(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,L(Z.test(r)&&Z.test(e)),bt[r]||(bt[r]={action:n,actionInfo:t}),wt[e]=r}function qt(t,e){f.register(t,e)}function Yt(t){var e=f.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function Zt(t,e){$t(Mt,t,e,G,"layout")}function Kt(t,e){$t(Mt,t,e,H,"visual")}function $t(t,e,n,r,i){(P(e)||R(e))&&(n=e,e=r);var a=A.wrapStageHandler(n,i);return a.__prio=e,a.__raw=n,t.push(a),a}function Jt(t,e){Ct[t]=e}function Qt(t){return g.extend(t)}function te(t){return _.extend(t)}function ee(t){return v.extend(t)}function ne(t){return y.extend(t)}function re(t){a.$override("createCanvas",t)}function ie(t,e,n){D.registerMap(t,e,n)}function ae(t){var e=D.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}}Kt(j,S),Ht(p),Vt(U,m),Jt("default",M),Xt({type:"highlight",event:"highlight",update:"highlight"},a.noop),Xt({type:"downplay",event:"downplay",update:"downplay"},a.noop),jt("light",C),jt("dark",O);var oe={};e.version=k,e.dependencies=F,e.PRIORITY=X,e.init=Nt,e.connect=kt,e.disConnect=Ft,e.disconnect=Bt,e.dispose=zt,e.getInstanceByDom=Ut,e.getInstanceById=Gt,e.registerTheme=jt,e.registerPreprocessor=Ht,e.registerProcessor=Vt,e.registerPostUpdate=Wt,e.registerAction=Xt,e.registerCoordinateSystem=qt,e.getCoordinateSystemDimensions=Yt,e.registerLayout=Zt,e.registerVisual=Kt,e.registerLoading=Jt,e.extendComponentModel=Qt,e.extendComponentView=te,e.extendSeriesModel=ee,e.extendChartView=ne,e.setCanvasCreator=re,e.registerMap=ie,e.getMap=ae,e.dataTool=oe;var se=n("b719");(function(){for(var t in se)se.hasOwnProperty(t)&&(e[t]=se[t])})()},"401b":function(t,e){var n="undefined"===typeof Float32Array?Array:Float32Array;function r(t,e){var r=new n(2);return null==t&&(t=0),null==e&&(e=0),r[0]=t,r[1]=e,r}function i(t,e){return t[0]=e[0],t[1]=e[1],t}function a(t){var e=new n(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e,n){return t[0]=e,t[1]=n,t}function s(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function u(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function c(t){return Math.sqrt(f(t))}var h=c;function f(t){return t[0]*t[0]+t[1]*t[1]}var d=f;function p(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function m(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function g(t,e){return t[0]*e[0]+t[1]*e[1]}function v(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function _(t,e){var n=c(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function y(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var x=y;function b(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var w=b;function T(t,e){return t[0]=-e[0],t[1]=-e[1],t}function S(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function E(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function M(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function A(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}e.create=r,e.copy=i,e.clone=a,e.set=o,e.add=s,e.scaleAndAdd=u,e.sub=l,e.len=c,e.length=h,e.lenSquare=f,e.lengthSquare=d,e.mul=p,e.div=m,e.dot=g,e.scale=v,e.normalize=_,e.distance=y,e.dist=x,e.distanceSquare=b,e.distSquare=w,e.negate=T,e.lerp=S,e.applyTransform=E,e.min=M,e.max=A},"40c3":function(t,e,n){var r=n("6b4c"),i=n("5168")("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),i))?n:a?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),i=n("4630"),a=n("7f20"),o={};n("32e9")(o,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),a(t,e+" Iterator")}},"41ef":function(t,e,n){var r=n("d51b"),i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function a(t){return t=Math.round(t),t<0?0:t>255?255:t}function o(t){return t=Math.round(t),t<0?0:t>360?360:t}function s(t){return t<0?0:t>1?1:t}function u(t){return t.length&&"%"===t.charAt(t.length-1)?a(parseFloat(t)/100*255):a(parseInt(t,10))}function l(t){return t.length&&"%"===t.charAt(t.length-1)?s(parseFloat(t)/100):s(parseFloat(t))}function c(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function h(t,e,n){return t+(e-t)*n}function f(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var p=new r(20),m=null;function g(t,e){m&&d(m,e),m=p.put(t,m||e.slice())}function v(t,e){if(t){e=e||[];var n=p.get(t);if(n)return d(e,n);t+="";var r=t.replace(/ /g,"").toLowerCase();if(r in i)return d(e,i[r]),g(t,e),e;if("#"!==r.charAt(0)){var a=r.indexOf("("),o=r.indexOf(")");if(-1!==a&&o+1===r.length){var s=r.substr(0,a),c=r.substr(a+1,o-(a+1)).split(","),h=1;switch(s){case"rgba":if(4!==c.length)return void f(e,0,0,0,1);h=l(c.pop());case"rgb":return 3!==c.length?void f(e,0,0,0,1):(f(e,u(c[0]),u(c[1]),u(c[2]),h),g(t,e),e);case"hsla":return 4!==c.length?void f(e,0,0,0,1):(c[3]=l(c[3]),_(c,e),g(t,e),e);case"hsl":return 3!==c.length?void f(e,0,0,0,1):(_(c,e),g(t,e),e);default:return}}f(e,0,0,0,1)}else{if(4===r.length){var m=parseInt(r.substr(1),16);return m>=0&&m<=4095?(f(e,(3840&m)>>4|(3840&m)>>8,240&m|(240&m)>>4,15&m|(15&m)<<4,1),g(t,e),e):void f(e,0,0,0,1)}if(7===r.length){m=parseInt(r.substr(1),16);return m>=0&&m<=16777215?(f(e,(16711680&m)>>16,(65280&m)>>8,255&m,1),g(t,e),e):void f(e,0,0,0,1)}}}}function _(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=l(t[1]),i=l(t[2]),o=i<=.5?i*(r+1):i+r-i*r,s=2*i-o;return e=e||[],f(e,a(255*c(s,o,n+1/3)),a(255*c(s,o,n)),a(255*c(s,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function y(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o,l=(s+o)/2;if(0===u)e=0,n=0;else{n=l<.5?u/(s+o):u/(2-s-o);var c=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,f=((s-a)/6+u/2)/u;r===s?e=f-h:i===s?e=1/3+c-f:a===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,l];return null!=t[3]&&d.push(t[3]),d}}function x(t,e){var n=v(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:t[r]<0&&(n[r]=0);return C(n,4===n.length?"rgba":"rgb")}}function b(t){var e=v(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function w(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),u=e[i],l=e[o],c=r-i;return n[0]=a(h(u[0],l[0],c)),n[1]=a(h(u[1],l[1],c)),n[2]=a(h(u[2],l[2],c)),n[3]=s(h(u[3],l[3],c)),n}}var T=w;function S(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),u=v(e[i]),l=v(e[o]),c=r-i,f=C([a(h(u[0],l[0],c)),a(h(u[1],l[1],c)),a(h(u[2],l[2],c)),s(h(u[3],l[3],c))],"rgba");return n?{color:f,leftIndex:i,rightIndex:o,value:r}:f}}var E=S;function M(t,e,n,r){if(t=v(t),t)return t=y(t),null!=e&&(t[0]=o(e)),null!=n&&(t[1]=l(n)),null!=r&&(t[2]=l(r)),C(_(t),"rgba")}function A(t,e){if(t=v(t),t&&null!=e)return t[3]=s(e),C(t,"rgba")}function C(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}e.parse=v,e.lift=x,e.toHex=b,e.fastLerp=w,e.fastMapToColor=T,e.lerp=S,e.mapToColor=E,e.modifyHSL=M,e.modifyAlpha=A,e.stringify=C},"425b":function(t,e,n){"use strict";n.r(e),e["default"]=[[{name:"A",value:100},{name:"B",value:150},{name:"C",value:500},{name:"D",value:250},{name:"E",value:400}]]},"42e5":function(t,e){var n=function(t){this.colorStops=t||[]};n.prototype={constructor:n,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var r=n;t.exports=r},4319:function(t,e,n){var r=n("6d8b"),i=n("22d1"),a=n("e0d3"),o=a.makeInner,s=n("625e"),u=s.enableClassExtend,l=s.enableClassCheck,c=n("3901"),h=n("9bdb"),f=n("fe21"),d=n("551f"),p=r.mixin,m=o();function g(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function v(t,e,n){for(var r=0;r<e.length;r++)if(e[r]&&(t=t&&"object"===typeof t?t[e[r]]:null,null==t))break;return null==t&&n&&(t=n.get(e)),t}function _(t,e){var n=m(t).getParent;return n?n.call(t,e):t.parentModel}g.prototype={constructor:g,init:null,mergeOption:function(t){r.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:v(this.option,this.parsePath(t),!e&&_(this,t))},getShallow:function(t,e){var n=this.option,r=null==n?n:n[t],i=!e&&_(this,t);return null==r&&i&&(r=i.getShallow(t)),r},getModel:function(t,e){var n,r=null==t?this.option:v(this.option,t=this.parsePath(t));return e=e||(n=_(this,t))&&n.getModel(t),new g(r,e,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var t=this.constructor;return new t(r.clone(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"===typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){m(this).getParent=t},isAnimationEnabled:function(){if(!i.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},u(g),l(g),p(g,c),p(g,h),p(g,f),p(g,d);var y=g;t.exports=y},4436:function(t,e,n){var r=n("74cb");function i(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}i.prototype={constructor:i,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,a="string"===typeof i?r[i]:i,o="function"===typeof a?a(n):n;return this.fire("frame",o),1===n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var a=i;t.exports=a},4482:function(t,e,n){"use strict";n.r(e);n("f751"),n("6c7b"),n("7f7f"),n("ac6a");e["default"]=function(t,e){return t.forEach(function(t){var n={radius:e.radius||["0%","50%"],labelLine:{normal:{show:!0,smooth:!1,length:10,length2:10},emphasis:{show:!0}}};if("PaRoseChart"===e.name&&(n.roseType="area",e.half)){var r=Array(t.data.length).fill({value:0,name:"",label:{show:!1},labelLine:{show:!1}});t.data=t.data.concat(r)}Object.assign(t,n)}),t}},"454f":function(t,e,n){n("46a7");var r=n("584a").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},"456d":function(t,e,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",function(){return function(t){return i(r(t))}})},4573:function(t,e,n){var r=n("cbe5"),i=r.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)}});t.exports=i},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"45f2":function(t,e,n){var r=n("d9f6").f,i=n("07e3"),a=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},"46a7":function(t,e,n){var r=n("63b6");r(r.S+r.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"477e":function(t,e,n){"use strict";n.r(e),e["default"]={name:"gdp-by-years",title:"经济指标",parent:"gdp",props:{barWidth:10,barGap:"5%"}}},"47ee":function(t,e,n){var r=n("c3a1"),i=n("9aa9"),a=n("355d");t.exports=function(t){var e=r(t),n=i.f;if(n){var o,s=n(t),u=a.f,l=0;while(s.length>l)u.call(t,o=s[l++])&&e.push(o)}return e}},"481b":function(t,e){t.exports={}},"48a9":function(t,e,n){var r=n("6d8b"),i=n("42e5"),a=function(t,e,n,r,a,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=o||!1,i.call(this,a)};a.prototype={constructor:a},r.inherits(a,i);var o=a;t.exports=o},4917:function(t,e,n){"use strict";var r=n("cb7c"),i=n("9def"),a=n("0390"),o=n("5f1b");n("214f")("match",1,function(t,e,n,s){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=r(t),l=String(this);if(!u.global)return o(u,l);var c=u.unicode;u.lastIndex=0;var h,f=[],d=0;while(null!==(h=o(u,l))){var p=String(h[0]);f[d]=p,""===p&&(u.lastIndex=a(l,i(u.lastIndex),c)),d++}return 0===d?null:f}]})},4942:function(t,e,n){var r=n("2cf4"),i=r.debugMode,a=function(){};1===i?a=function(){for(var t in arguments)throw new Error(arguments[t])}:i>1&&(a=function(){for(var t in arguments)console.log(arguments[t])});var o=a;t.exports=o},"4a3f":function(t,e,n){var r=n("401b"),i=r.create,a=r.distSquare,o=Math.pow,s=Math.sqrt,u=1e-8,l=1e-4,c=s(3),h=1/3,f=i(),d=i(),p=i();function m(t){return t>-u&&t<u}function g(t){return t>u||t<-u}function v(t,e,n,r,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*r+3*a*n)}function _(t,e,n,r,i){var a=1-i;return 3*(((e-t)*a+2*(n-e)*i)*a+(r-n)*i*i)}function y(t,e,n,r,i,a){var u=r+3*(e-n)-t,l=3*(n-2*e+t),f=3*(e-t),d=t-i,p=l*l-3*u*f,g=l*f-9*u*d,v=f*f-3*l*d,_=0;if(m(p)&&m(g))if(m(l))a[0]=0;else{var y=-f/l;y>=0&&y<=1&&(a[_++]=y)}else{var x=g*g-4*p*v;if(m(x)){var b=g/p,w=(y=-l/u+b,-b/2);y>=0&&y<=1&&(a[_++]=y),w>=0&&w<=1&&(a[_++]=w)}else if(x>0){var T=s(x),S=p*l+1.5*u*(-g+T),E=p*l+1.5*u*(-g-T);S=S<0?-o(-S,h):o(S,h),E=E<0?-o(-E,h):o(E,h);y=(-l-(S+E))/(3*u);y>=0&&y<=1&&(a[_++]=y)}else{var M=(2*p*l-3*u*g)/(2*s(p*p*p)),A=Math.acos(M)/3,C=s(p),O=Math.cos(A),D=(y=(-l-2*C*O)/(3*u),w=(-l+C*(O+c*Math.sin(A)))/(3*u),(-l+C*(O-c*Math.sin(A)))/(3*u));y>=0&&y<=1&&(a[_++]=y),w>=0&&w<=1&&(a[_++]=w),D>=0&&D<=1&&(a[_++]=D)}}return _}function x(t,e,n,r,i){var a=6*n-12*e+6*t,o=9*e+3*r-3*t-9*n,u=3*e-3*t,l=0;if(m(o)){if(g(a)){var c=-u/a;c>=0&&c<=1&&(i[l++]=c)}}else{var h=a*a-4*o*u;if(m(h))i[0]=-a/(2*o);else if(h>0){var f=s(h),d=(c=(-a+f)/(2*o),(-a-f)/(2*o));c>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}function b(t,e,n,r,i,a){var o=(e-t)*i+t,s=(n-e)*i+e,u=(r-n)*i+n,l=(s-o)*i+o,c=(u-s)*i+s,h=(c-l)*i+l;a[0]=t,a[1]=o,a[2]=l,a[3]=h,a[4]=h,a[5]=c,a[6]=u,a[7]=r}function w(t,e,n,r,i,o,u,c,h,m,g){var _,y,x,b,w,T=.005,S=1/0;f[0]=h,f[1]=m;for(var E=0;E<1;E+=.05)d[0]=v(t,n,i,u,E),d[1]=v(e,r,o,c,E),b=a(f,d),b<S&&(_=E,S=b);S=1/0;for(var M=0;M<32;M++){if(T<l)break;y=_-T,x=_+T,d[0]=v(t,n,i,u,y),d[1]=v(e,r,o,c,y),b=a(d,f),y>=0&&b<S?(_=y,S=b):(p[0]=v(t,n,i,u,x),p[1]=v(e,r,o,c,x),w=a(p,f),x<=1&&w<S?(_=x,S=w):T*=.5)}return g&&(g[0]=v(t,n,i,u,_),g[1]=v(e,r,o,c,_)),s(S)}function T(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function S(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function E(t,e,n,r,i){var a=t-2*e+n,o=2*(e-t),u=t-r,l=0;if(m(a)){if(g(o)){var c=-u/o;c>=0&&c<=1&&(i[l++]=c)}}else{var h=o*o-4*a*u;if(m(h)){c=-o/(2*a);c>=0&&c<=1&&(i[l++]=c)}else if(h>0){var f=s(h),d=(c=(-o+f)/(2*a),(-o-f)/(2*a));c>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}function M(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function A(t,e,n,r,i){var a=(e-t)*r+t,o=(n-e)*r+e,s=(o-a)*r+a;i[0]=t,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=n}function C(t,e,n,r,i,o,u,c,h){var m,g=.005,v=1/0;f[0]=u,f[1]=c;for(var _=0;_<1;_+=.05){d[0]=T(t,n,i,_),d[1]=T(e,r,o,_);var y=a(f,d);y<v&&(m=_,v=y)}v=1/0;for(var x=0;x<32;x++){if(g<l)break;var b=m-g,w=m+g;d[0]=T(t,n,i,b),d[1]=T(e,r,o,b);y=a(d,f);if(b>=0&&y<v)m=b,v=y;else{p[0]=T(t,n,i,w),p[1]=T(e,r,o,w);var S=a(p,f);w<=1&&S<v?(m=w,v=S):g*=.5}}return h&&(h[0]=T(t,n,i,m),h[1]=T(e,r,o,m)),s(v)}e.cubicAt=v,e.cubicDerivativeAt=_,e.cubicRootAt=y,e.cubicExtrema=x,e.cubicSubdivide=b,e.cubicProjectPoint=w,e.quadraticAt=T,e.quadraticDerivativeAt=S,e.quadraticRootAt=E,e.quadraticExtremum=M,e.quadraticSubdivide=A,e.quadraticProjectPoint=C},"4a59":function(t,e,n){var r=n("9b43"),i=n("1fa8"),a=n("33a4"),o=n("cb7c"),s=n("9def"),u=n("27ee"),l={},c={};e=t.exports=function(t,e,n,h,f){var d,p,m,g,v=f?function(){return t}:u(t),_=r(n,h,e?2:1),y=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(a(v)){for(d=s(t.length);d>y;y++)if(g=e?_(o(p=t[y])[0],p[1]):_(t[y]),g===l||g===c)return g}else for(m=v.call(t);!(p=m.next()).done;)if(g=i(m,_,p.value,e),g===l||g===c)return g};e.BREAK=l,e.RETURN=c},"4aa2":function(t,e,n){var r=n("cbe5"),i=n("897a"),a=r.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:i(r.prototype.brush),buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r0||0,0),a=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,u=e.clockwise,l=Math.cos(o),c=Math.sin(o);t.moveTo(l*i+n,c*i+r),t.lineTo(l*a+n,c*a+r),t.arc(n,r,a,o,s,!u),t.lineTo(Math.cos(s)*i+n,Math.sin(s)*i+r),0!==i&&t.arc(n,r,i,s,o,u),t.closePath()}});t.exports=a},"4aa6":function(t,e,n){t.exports=n("dc62")},"4ae9":function(t,e,n){var r,i=n("164e"),a=i.util,o=i.graphic,s=i.matrix;function u(t,e){this._bmap=t,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=e,this._projection=new BMap.MercatorProjection}function l(t,e){return e=e||[0,0],a.map([0,1],function(n){var r=e[n],i=t[n]/2,a=[],o=[];return a[n]=r-i,o[n]=r+i,a[1-n]=o[1-n]=e[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(o)[n])},this)}function c(){function t(t){this._root=t}return t.prototype=new BMap.Overlay,t.prototype.initialize=function(t){return t.getPanes().labelPane.appendChild(this._root),this._root},t.prototype.draw=function(){},t}u.prototype.dimensions=["lng","lat"],u.prototype.setZoom=function(t){this._zoom=t},u.prototype.setCenter=function(t){this._center=this._projection.lngLatToPoint(new BMap.Point(t[0],t[1]))},u.prototype.setMapOffset=function(t){this._mapOffset=t},u.prototype.getBMap=function(){return this._bmap},u.prototype.dataToPoint=function(t){var e=new BMap.Point(t[0],t[1]),n=this._bmap.pointToOverlayPixel(e),r=this._mapOffset;return[n.x-r[0],n.y-r[1]]},u.prototype.pointToData=function(t){var e=this._mapOffset;t=this._bmap.overlayPixelToPoint({x:t[0]+e[0],y:t[1]+e[1]});return[t.lng,t.lat]},u.prototype.getViewRect=function(){var t=this._api;return new o.BoundingRect(0,0,t.getWidth(),t.getHeight())},u.prototype.getRoamTransform=function(){return s.create()},u.prototype.prepareCustoms=function(t){var e=this.getViewRect();return{coordSys:{type:"bmap",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:a.bind(this.dataToPoint,this),size:a.bind(l,this)}}},u.dimensions=u.prototype.dimensions,u.create=function(t,e){var n,i=e.getDom();t.eachComponent("bmap",function(t){var a=e.getZr().painter,o=a.getViewportRoot();if("undefined"===typeof BMap)throw new Error("BMap api is not loaded");if(r=r||c(),n)throw new Error("Only one bmap component can exist");if(!t.__bmap){var s=i.querySelector(".ec-extension-bmap");s&&(o.style.left="0px",o.style.top="0px",i.removeChild(s)),s=document.createElement("div"),s.style.cssText="width:100%;height:100%",s.classList.add("ec-extension-bmap"),i.appendChild(s);var l=t.__bmap=new BMap.Map(s),h=new r(o);l.addOverlay(h),a.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}l=t.__bmap;var f=t.get("center"),d=t.get("zoom");if(f&&d){var p=new BMap.Point(f[0],f[1]);l.centerAndZoom(p,d)}n=new u(l,e),n.setMapOffset(t.__mapOffset||[0,0]),n.setZoom(d),n.setCenter(f),t.coordinateSystem=n}),t.eachSeries(function(t){"bmap"===t.get("coordinateSystem")&&(t.coordinateSystem=n)})};var h=u;t.exports=h},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},"4c88":function(t,e,n){"use strict";n.r(e),e["default"]=function(t){if(!t.styles)return{};var e=t.styles.main.rules||{},n={};if(e.background&&(n.backgroundColor=e.background),e.x&&(n.xAxis=[{axisLabel:{rotate:e.x.rotate,fontSize:e.x.fontSize}}],!1===e.x.gap&&(n.xAxis[0].boundaryGap=!1)),e.canvas&&e.canvas.grid){var r=e.canvas.grid;n.grid=r}return e.title&&(n.title={text:t.title},"center"===e.title.position&&(n.title.left="center",n.title.top="center",n.title.textStyle={align:"center"}),e.title.left&&(n.title.left=e.title.left)),n}},"4d16":function(t,e,n){t.exports=n("25b0")},"4e08":function(t,e,n){(function(t){var n;"undefined"!==typeof window?n=window.__DEV__:"undefined"!==typeof t&&(n=t.__DEV__),"undefined"===typeof n&&(n=!0);var r=n;e.__DEV__=r}).call(this,n("c8ba"))},"4e2b":function(t,e,n){"use strict";var r=n("4aa6"),i=n.n(r),a=n("4d16"),o=n.n(a);function s(t,e){return s=o.a||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=i()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}n.d(e,"a",function(){return u})},"4ee1":function(t,e,n){var r=n("5168")("iterator"),i=!1;try{var a=[7][r]();a["return"]=function(){i=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a=[7],s=a[r]();s.next=function(){return{done:n=!0}},a[r]=function(){return s},t(a)}catch(o){}return n}},"4f85":function(t,e,n){var r=n("4e08"),i=(r.__DEV__,n("6d8b")),a=n("22d1"),o=n("eda2"),s=o.formatTime,u=o.encodeHTML,l=o.addCommas,c=o.getTooltipMarker,h=n("e0d3"),f=n("6cb7"),d=n("e47b"),p=n("38a2"),m=n("f934"),g=m.getLayoutParams,v=m.mergeLayoutParam,_=n("f47d"),y=_.createTask,x=n("0f99"),b=x.prepareSource,w=x.getSource,T=n("2b17"),S=T.retrieveRawValue,E=h.makeInner(),M=f.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(t,e,n,r){this.seriesIndex=this.componentIndex,this.dataTask=y({count:O,reset:D}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),b(this);var i=this.getInitialData(t,n);I(i,this),this.dataTask.context.data=i,E(this).dataBeforeProcessed=i,A(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,r=n?g(t):{},a=this.subType;f.hasClass(a)&&(a+="Series"),i.merge(t,e.getTheme().get(this.subType)),i.merge(t,this.getDefaultOption()),h.defaultEmphasis(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&v(t,r,n)},mergeOption:function(t,e){t=i.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&v(this.option,t,n),b(this);var r=this.getInitialData(t,e);I(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,E(this).dataBeforeProcessed=r,A(this)},fillDataTextStyle:function(t){if(t&&!i.isTypedArray(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&h.defaultEmphasis(t[n],"label",e)},getInitialData:function(){},appendData:function(t){var e=this.getRawData();e.appendData(t.data)},getData:function(t){var e=R(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return E(this).data},setData:function(t){var e=R(this);if(e){var n=e.context;n.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),n.outputData=t,e!==this.dataTask&&(n.data=t)}E(this).data=t},getSource:function(){return w(this)},getRawData:function(){return E(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,n,r){var a=this;r=r||"html";var o="html"===r?"<br/>":"\n",f="richText"===r,d={},p=0;function m(n){var o=i.reduce(n,function(t,e,n){var r=v.getDimensionInfo(n);return t|(r&&!1!==r.tooltip&&null!=r.displayName)},0),h=[];function m(t,n){var i=v.getDimensionInfo(n);if(i&&!1!==i.otherDims.tooltip){var m=i.type,g="sub"+a.seriesIndex+"at"+p,_=c({color:w,type:"subItem",renderMode:r,markerId:g}),y="string"===typeof _?_:_.content,x=(o?y+u(i.displayName||"-")+": ":"")+u("ordinal"===m?t+"":"time"===m?e?"":s("yyyy/MM/dd hh:mm:ss",t):l(t));x&&h.push(x),f&&(d[g]=w,++p)}}_.length?i.each(_,function(e){m(S(v,t,e),e)}):i.each(n,m);var g=o?f?"\n":"<br/>":"",y=g+h.join(g||", ");return{renderMode:r,content:y,style:d}}function g(t){return{renderMode:r,content:u(l(t)),style:d}}var v=this.getData(),_=v.mapDimension("defaultedTooltip",!0),y=_.length,x=this.getRawValue(t),b=i.isArray(x),w=v.getItemVisual(t,"color");i.isObject(w)&&w.colorStops&&(w=(w.colorStops[0]||{}).color),w=w||"transparent";var T=y>1||b&&!y?m(x):g(y?S(v,t,_[0]):b?x[0]:x),E=T.content,M=a.seriesIndex+"at"+p,A=c({color:w,type:"item",renderMode:r,markerId:M});d[M]=w,++p;var C=v.getName(t),O=this.name;h.isNameSpecified(this)||(O=""),O=O?u(O)+(e?": ":o):"";var D="string"===typeof A?A:A.content,L=e?D+O+E:O+D+(C?u(C)+": "+E:E);return{html:L,markers:d}},isAnimationEnabled:function(){if(a.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var r=this.ecModel,i=d.getColorFromPalette.call(this,t,e,n);return i||(i=r.getColorFromPalette(t,e,n)),i},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function A(t){var e=t.name;h.isNameSpecified(t)||(t.name=C(t)||e)}function C(t){var e=t.getRawData(),n=e.mapDimension("seriesName",!0),r=[];return i.each(n,function(t){var n=e.getDimensionInfo(t);n.displayName&&r.push(n.displayName)}),r.join(" ")}function O(t){return t.model.getRawData().count()}function D(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),L}function L(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function I(t,e){i.each(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,i.curry(P,e))})}function P(t){var e=R(t);e&&e.setOutputEnd(this.count())}function R(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}i.mixin(M,p),i.mixin(M,d);var N=M;t.exports=N},"4fac":function(t,e,n){var r=n("620b"),i=n("9c2c");function a(t,e,n){var a=e.points,o=e.smooth;if(a&&a.length>=2){if(o&&"spline"!==o){var s=i(a,o,n,e.smoothConstraint);t.moveTo(a[0][0],a[0][1]);for(var u=a.length,l=0;l<(n?u:u-1);l++){var c=s[2*l],h=s[2*l+1],f=a[(l+1)%u];t.bezierCurveTo(c[0],c[1],h[0],h[1],f[0],f[1])}}else{"spline"===o&&(a=r(a,n)),t.moveTo(a[0][0],a[0][1]);l=1;for(var d=a.length;l<d;l++)t.lineTo(a[l][0],a[l][1])}n&&t.closePath()}}e.buildPath=a},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},5168:function(t,e,n){var r=n("dbdb")("wks"),i=n("62a0"),a=n("e53d").Symbol,o="function"==typeof a,s=t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))};s.store=r},"520a":function(t,e,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,a=String.prototype.replace,o=i,s="lastIndex",u=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[s]||0!==e[s]}(),l=void 0!==/()??/.exec("")[1],c=u||l;c&&(o=function(t){var e,n,o,c,h=this;return l&&(n=new RegExp("^"+h.source+"$(?!\\s)",r.call(h))),u&&(e=h[s]),o=i.call(h,t),u&&o&&(h[s]=h.global?o.index+o[0].length:e),l&&o&&o.length>1&&a.call(o[0],n,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)}),o}),t.exports=o},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"53e2":function(t,e,n){var r=n("07e3"),i=n("241e"),a=n("5559")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},"549b":function(t,e,n){"use strict";var r=n("d864"),i=n("63b6"),a=n("241e"),o=n("b0dc"),s=n("3702"),u=n("b447"),l=n("20fd"),c=n("7cd6");i(i.S+i.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=a(t),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,_=c(f);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==_||d==Array&&s(_))for(e=u(f.length),n=new d(e);e>v;v++)l(n,v,g?m(f[v],v):f[v]);else for(h=_.call(f),n=new d;!(i=h.next()).done;v++)l(n,v,g?o(h,m,[i.value,v],!0):i.value);return n.length=v,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"551c":function(t,e,n){"use strict";var r,i,a,o,s=n("2d00"),u=n("7726"),l=n("9b43"),c=n("23c6"),h=n("5ca1"),f=n("d3f4"),d=n("d8e8"),p=n("f605"),m=n("4a59"),g=n("ebd6"),v=n("1991").set,_=n("8079")(),y=n("a5b8"),x=n("9c80"),b=n("a25f"),w=n("bcaa"),T="Promise",S=u.TypeError,E=u.process,M=E&&E.versions,A=M&&M.v8||"",C=u[T],O="process"==c(E),D=function(){},L=i=y.f,I=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n("2b4c")("species")]=function(t){t(D,D)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(D)instanceof e&&0!==A.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(r){}}(),P=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;_(function(){var r=t._v,i=1==t._s,a=0,o=function(e){var n,a,o,s=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(i||(2==t._h&&F(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),o=!0)),n===e.promise?l(S("Promise-chain cycle")):(a=P(n))?a.call(n,u,l):u(n)):l(r)}catch(h){c&&!o&&c.exit(),l(h)}};while(n.length>a)o(n[a++]);t._c=[],t._n=!1,e&&!t._h&&N(t)})}},N=function(t){v.call(u,function(){var e,n,r,i=t._v,a=k(t);if(a&&(e=x(function(){O?E.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=O||k(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},k=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){v.call(u,function(){var e;O?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},B=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},z=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=P(t))?_(function(){var r={_w:n,_d:!1};try{e.call(t,l(z,r,1),l(B,r,1))}catch(i){B.call(r,i)}}):(n._v=t,n._s=1,R(n,!1))}catch(r){B.call({_w:n,_d:!1},r)}}};I||(C=function(t){p(this,C,T,"_h"),d(t),r.call(this);try{t(l(z,this,1),l(B,this,1))}catch(e){B.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("dcbc")(C.prototype,{then:function(t,e){var n=L(g(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r;this.promise=t,this.resolve=l(z,t,1),this.reject=l(B,t,1)},y.f=L=function(t){return t===C||t===o?new a(t):i(t)}),h(h.G+h.W+h.F*!I,{Promise:C}),n("7f20")(C,T),n("7a56")(T),o=n("8378")[T],h(h.S+h.F*!I,T,{reject:function(t){var e=L(this),n=e.reject;return n(t),e.promise}}),h(h.S+h.F*(s||!I),T,{resolve:function(t){return w(s&&this===o?C:this,t)}}),h(h.S+h.F*!(I&&n("5cc5")(function(t){C.all(t)["catch"](D)})),T,{all:function(t){var e=this,n=L(e),r=n.resolve,i=n.reject,a=x(function(){var n=[],a=0,o=1;m(t,!1,function(t){var s=a++,u=!1;n.push(void 0),o++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--o||r(n))},i)}),--o||r(n)});return a.e&&i(a.v),n.promise},race:function(t){var e=this,n=L(e),r=n.reject,i=x(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},"551f":function(t,e,n){var r=n("282b"),i=r([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),a={getItemStyle:function(t,e){var n=i(this,t,e),r=this.getBorderLineDash();return r&&(n.lineDash=r),n},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}};t.exports=a},5533:function(t,e,n){"use strict";n.r(e);n("f751"),n("ac6a");e["default"]=function(t,e){return t.forEach(function(t){var e={name:"",type:"scatter",coordinateSystem:"bmap",data:t.data,symbolSize:function(t){return t[2]/10},itemStyle:{normal:{color:"#009688"}}};Object.assign(t,e)}),t}},5537:function(t,e,n){var r=n("8378"),i=n("7726"),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(t,e,n){var r=n("dbdb")("keys"),i=n("62a0");t.exports=function(t){return r[t]||(r[t]=i(t))}},"55dd":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d8e8"),a=n("4bf8"),o=n("79e5"),s=[].sort,u=[1,2,3];r(r.P+r.F*(o(function(){u.sort(void 0)})||!o(function(){u.sort(null)})||!n("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(a(this)):s.call(a(this),i(t))}})},5693:function(t,e){function n(t,e){var n,r,i,a,o,s=e.x,u=e.y,l=e.width,c=e.height,h=e.r;l<0&&(s+=l,l=-l),c<0&&(u+=c,c=-c),"number"===typeof h?n=r=i=a=h:h instanceof Array?1===h.length?n=r=i=a=h[0]:2===h.length?(n=i=h[0],r=a=h[1]):3===h.length?(n=h[0],r=a=h[1],i=h[2]):(n=h[0],r=h[1],i=h[2],a=h[3]):n=r=i=a=0,n+r>l&&(o=n+r,n*=l/o,r*=l/o),i+a>l&&(o=i+a,i*=l/o,a*=l/o),r+i>c&&(o=r+i,r*=c/o,i*=c/o),n+a>c&&(o=n+a,n*=c/o,a*=c/o),t.moveTo(s+n,u),t.lineTo(s+l-r,u),0!==r&&t.arc(s+l-r,u+r,r,-Math.PI/2,0),t.lineTo(s+l,u+c-i),0!==i&&t.arc(s+l-i,u+c-i,i,0,Math.PI/2),t.lineTo(s+a,u+c),0!==a&&t.arc(s+a,u+c-a,a,Math.PI/2,Math.PI),t.lineTo(s,u+n),0!==n&&t.arc(s+n,u+n,n,Math.PI,1.5*Math.PI)}e.buildPath=n},5741:function(t,e,n){var r={"./border.ts":"95c5","./label.ts":"1a46","./line.ts":"0ee1"};function i(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="5741"},"584a":function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"5b4e":function(t,e,n){var r=n("36c3"),i=n("b447"),a=n("0fc9");t.exports=function(t){return function(e,n,o){var s,u=r(e),l=i(u.length),c=a(o,l);if(t&&n!=n){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),a=n("32e9"),o=n("2aba"),s=n("9b43"),u="prototype",l=function(t,e,n){var c,h,f,d,p=t&l.F,m=t&l.G,g=t&l.S,v=t&l.P,_=t&l.B,y=m?r:g?r[e]||(r[e]={}):(r[e]||{})[u],x=m?i:i[e]||(i[e]={}),b=x[u]||(x[u]={});for(c in m&&(n=e),n)h=!p&&y&&void 0!==y[c],f=(h?y:n)[c],d=_&&h?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,y&&o(y,c,f,t&l.U),x[c]!=f&&a(x,c,d),v&&b[c]!=f&&(b[c]=f)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5cc5":function(t,e,n){var r=n("2b4c")("iterator"),i=!1;try{var a=[7][r]();a["return"]=function(){i=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a=[7],s=a[r]();s.next=function(){return{done:n=!0}},a[r]=function(){return s},t(a)}catch(o){}return n}},"5d58":function(t,e,n){t.exports=n("d8d6")},"5d73":function(t,e,n){t.exports=n("469f")},"5d99":function(t,e,n){var r=n("164e");function i(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}var a=r.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(t,e){this.option.center=t,this.option.zoom=e},centerOrZoomChanged:function(t,e){var n=this.option;return!(i(t,n.center)&&e===n.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},roam:!1}});t.exports=a},"5dbc":function(t,e,n){var r=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var a,o=e.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&r(a)&&i&&i(t,a),t}},"5df3":function(t,e,n){"use strict";var r=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},"5e68":function(t,e,n){var r=n("6d8b"),i=n("2cf4"),a=i.devicePixelRatio,o=n("2b61"),s=n("dc2f");function u(){return!1}function l(t,e,n){var i=r.createCanvas(),a=e.getWidth(),o=e.getHeight(),s=i.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=a+"px",s.height=o+"px",i.setAttribute("data-zr-dom-id",t)),i.width=a*n,i.height=o*n,i}var c=function(t,e,n){var i;n=n||a,"string"===typeof t?i=l(t,e,n):r.isObject(t)&&(i=t,t=i.id),this.id=t,this.dom=i;var o=i.style;o&&(i.onselectstart=u,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o["padding"]=0,o["margin"]=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};c.prototype={constructor:c,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=l("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,r=this.dom,i=r.style,a=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),r.width=t*n,r.height=e*n,a&&(a.width=t*n,a.height=e*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,r=this.dom,i=this.ctx,a=r.width,u=r.height,l=(e=e||this.clearColor,this.motionBlur&&!t),c=this.lastFrameAlpha,h=this.dpr;(l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,a/h,u/h)),i.clearRect(0,0,a,u),e&&"transparent"!==e)&&(e.colorStops?(n=e.__canvasGradient||o.getGradient(i,e,{x:0,y:0,width:a,height:u}),e.__canvasGradient=n):e.image&&(n=s.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=n||e,i.fillRect(0,0,a,u),i.restore());if(l){var f=this.domBack;i.save(),i.globalAlpha=c,i.drawImage(f,0,0,a,u),i.restore()}}};var h=c;t.exports=h},"5e76":function(t,e,n){var r=n("d51b"),i=new r(50);function a(t){if("string"===typeof t){var e=i.get(t);return e&&e.image}return t}function o(t,e,n,r,a){if(t){if("string"===typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=i.get(t),l={hostEl:n,cb:r,cbPayload:a};return o?(e=o.image,!u(e)&&o.pending.push(l)):(e=new Image,e.onload=e.onerror=s,i.put(t,e.__cachedImgObj={image:e,pending:[l]}),e.src=e.__zrImageSrc=t),e}return t}return e}function s(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function u(t){return t&&t.width&&t.height}e.findExistImage=a,e.createOrUpdateImage=o,e.isImageReady=u},"5eda":function(t,e,n){var r=n("5ca1"),i=n("8378"),a=n("79e5");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"5f49":function(t,e,n){var r={"./area":"2f72","./area.ts":"2f72","./axis":"f9dd","./axis.ts":"f9dd","./marks":"810d","./marks.ts":"810d","./symbol":"0730","./symbol.ts":"0730"};function i(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="5f49"},"607d":function(t,e,n){var r=n("1fab");e.Dispatcher=r;var i=n("22d1"),a="undefined"!==typeof window&&!!window.addEventListener,o=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function s(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function u(t,e,n,r){return n=n||{},r||!i.canvasSupported?l(t,e,n):i.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):l(t,e,n),n}function l(t,e,n){var r=s(t);n.zrX=e.clientX-r.left,n.zrY=e.clientY-r.top}function c(t,e,n){if(e=e||window.event,null!=e.zrX)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var a="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];a&&u(t,a,e,n)}else u(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var s=e.button;return null==e.which&&void 0!==s&&o.test(e.type)&&(e.which=1&s?1:2&s?3:4&s?2:0),e}function h(t,e,n){a?t.addEventListener(e,n):t.attachEvent("on"+e,n)}function f(t,e,n){a?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}var d=a?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function p(t){return 2===t.which||3===t.which}function m(t){return t.which>1}e.clientToLocal=u,e.normalizeEvent=c,e.addEventListener=h,e.removeEventListener=f,e.stop=d,e.isMiddleOrRightButtonOnMouseUpDown=p,e.notLeftMouse=m},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},6179:function(t,e,n){var r=n("4e08"),i=(r.__DEV__,n("6d8b")),a=n("4319"),o=n("80f0"),s=n("ec6f"),u=n("2b17"),l=u.defaultDimValueGetters,c=u.DefaultDataProvider,h=n("2f45"),f=h.summarizeDimensions,d=i.isObject,p="undefined",m=-1,g="e\0\0",v={float:typeof Float64Array===p?Array:Float64Array,int:typeof Int32Array===p?Array:Int32Array,ordinal:Array,number:Array,time:Array},_=typeof Uint32Array===p?Array:Uint32Array,y=typeof Int32Array===p?Array:Int32Array,x=typeof Uint16Array===p?Array:Uint16Array;function b(t){return t._rawCount>65535?_:x}function w(t){var e=t.constructor;return e===Array?t.slice():new e(t)}var T=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],S=["_extent","_approximateExtent","_rawExtent"];function E(t,e){i.each(T.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,i.each(S,function(n){t[n]=i.clone(e[n])}),t._calculationInfo=i.extend(e._calculationInfo)}var M=function(t,e){t=t||["x","y"];for(var n={},r=[],a={},o=0;o<t.length;o++){var s=t[o];i.isString(s)&&(s={name:s});var u=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=u,s.coordDimIndex=0),s.otherDims=s.otherDims||{},r.push(u),n[u]=s,s.index=o,s.createInvertedIndices&&(a[u]=[])}this.dimensions=r,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=f(this),this._invertedIndicesMap=a,this._calculationInfo={}},A=M.prototype;function C(t,e,n,r,i){var a=v[e.type],o=r-1,s=e.name,u=t[s][o];if(u&&u.length<n){for(var l=new a(Math.min(i-o*n,n)),c=0;c<u.length;c++)l[c]=u[c];t[s][o]=l}for(var h=r*n;h<i;h+=n)t[s].push(new a(Math.min(i-h,n)))}function O(t){var e=t._invertedIndicesMap;i.each(e,function(n,r){var i=t._dimensionInfos[r],a=i.ordinalMeta;if(a){n=e[r]=new y(a.categories.length);for(var o=0;o<n.length;o++)n[o]=m;for(o=0;o<t._count;o++)n[t.get(r,o)]=o}})}function D(t,e,n){var r;if(null!=e){var i=t._chunkSize,a=Math.floor(n/i),o=n%i,s=t.dimensions[e],u=t._storage[s][a];if(u){r=u[o];var l=t._dimensionInfos[s].ordinalMeta;l&&l.categories.length&&(r=l.categories[r])}}return r}function L(t){return t}function I(t){return t<this._count&&t>=0?this._indices[t]:-1}function P(t,e){var n=t._idList[e];return null==n&&(n=D(t,t._idDimIdx,e)),null==n&&(n=g+e),n}function R(t){return i.isArray(t)||(t=[t]),t}function N(t,e){var n=t.dimensions,r=new M(i.map(n,t.getDimensionInfo,t),t.hostModel);E(r,t);for(var a=r._storage={},o=t._storage,s=0;s<n.length;s++){var u=n[s];o[u]&&(i.indexOf(e,u)>=0?(a[u]=k(o[u]),r._rawExtent[u]=F(),r._extent[u]=null):a[u]=o[u])}return r}function k(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=w(t[n]);return e}function F(){return[1/0,-1/0]}A.type="list",A.hasItemOption=!0,A.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},A.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},A.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},A.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return!0===e?(r||[]).slice():r&&r[e]},A.initData=function(t,e,n){var r=s.isInstance(t)||i.isArrayLike(t);r&&(t=new c(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=l[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=l.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},A.getProvider=function(){return this._rawData},A.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var r=e.count();e.persistent||(r+=n),this._initDataFromProvider(n,r)},A.appendValues=function(t,e){for(var n=this._chunkSize,r=this._storage,i=this.dimensions,a=i.length,o=this._rawExtent,s=this.count(),u=s+Math.max(t.length,e?e.length:0),l=this._chunkCount,c=0;c<a;c++){var h=i[c];o[h]||(o[h]=F()),r[h]||(r[h]=[]),C(r,this._dimensionInfos[h],n,l,u),this._chunkCount=r[h].length}for(var f=new Array(a),d=s;d<u;d++){for(var p=d-s,m=Math.floor(d/n),g=d%n,v=0;v<a;v++){h=i[v];var _=this._dimValueGetterArrayRows(t[p]||f,h,p,v);r[h][m][g]=_;var y=o[h];_<y[0]&&(y[0]=_),_>y[1]&&(y[1]=_)}e&&(this._nameList[d]=e[p])}this._rawCount=this._count=u,this._extent={},O(this)},A._initDataFromProvider=function(t,e){if(!(t>=e)){for(var n,r=this._chunkSize,i=this._rawData,a=this._storage,o=this.dimensions,s=o.length,u=this._dimensionInfos,l=this._nameList,c=this._idList,h=this._rawExtent,f=this._nameRepeatCount={},d=this._chunkCount,p=0;p<s;p++){var m=o[p];h[m]||(h[m]=F());var g=u[m];0===g.otherDims.itemName&&(n=this._nameDimIdx=p),0===g.otherDims.itemId&&(this._idDimIdx=p),a[m]||(a[m]=[]),C(a,g,r,d,e),this._chunkCount=a[m].length}for(var v=new Array(s),_=t;_<e;_++){v=i.getItem(_,v);for(var y=Math.floor(_/r),x=_%r,b=0;b<s;b++){m=o[b];var w=a[m][y],T=this._dimValueGetter(v,m,_,b);w[x]=T;var S=h[m];T<S[0]&&(S[0]=T),T>S[1]&&(S[1]=T)}if(!i.pure){var E=l[_];if(v&&null==E)if(null!=v.name)l[_]=E=v.name;else if(null!=n){var M=o[n],A=a[M][y];if(A){E=A[x];var D=u[M].ordinalMeta;D&&D.categories.length&&(E=D.categories[E])}}var L=null==v?null:v.id;null==L&&null!=E&&(f[E]=f[E]||0,L=E,f[E]>0&&(L+="__ec__"+f[E]),f[E]++),null!=L&&(c[_]=L)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent={},O(this)}},A.count=function(){return this._count},A.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array){i=new e(n);for(var r=0;r<n;r++)i[r]=t[r]}else i=new e(t.buffer,0,n)}else{e=b(this);var i=new e(this.count());for(r=0;r<i.length;r++)i[r]=r}return i},A.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var r=Math.floor(e/this._chunkSize),i=e%this._chunkSize,a=n[t][r],o=a[i];return o},A.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;var r=Math.floor(e/this._chunkSize),i=e%this._chunkSize,a=n[r];return a[i]},A._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),r=e%this._chunkSize,i=this._storage[t][n];return i[r]},A.getValues=function(t,e){var n=[];i.isArray(t)||(e=t,t=this.dimensions);for(var r=0,a=t.length;r<a;r++)n.push(this.get(t[r],e));return n},A.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=this._dimensionInfos,r=0,i=e.length;r<i;r++)if("ordinal"!==n[e[r]].type&&isNaN(this.get(e[r],t)))return!1;return!0},A.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],n=F();if(!e)return n;var r,i=this.count(),a=!this._indices;if(a)return this._rawExtent[t].slice();if(r=this._extent[t],r)return r.slice();r=n;for(var o=r[0],s=r[1],u=0;u<i;u++){var l=this._getFast(t,this.getRawIndex(u));l<o&&(o=l),l>s&&(s=l)}return r=[o,s],this._extent[t]=r,r},A.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},A.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},A.getCalculationInfo=function(t){return this._calculationInfo[t]},A.setCalculationInfo=function(t,e){d(t)?i.extend(this._calculationInfo,t):this._calculationInfo[t]=e},A.getSum=function(t){var e=this._storage[t],n=0;if(e)for(var r=0,i=this.count();r<i;r++){var a=this.get(t,r);isNaN(a)||(n+=a)}return n},A.getMedian=function(t){var e=[];this.each(t,function(t,n){isNaN(t)||e.push(t)});var n=[].concat(e).sort(function(t,e){return t-e}),r=this.count();return 0===r?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},A.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t],r=n[e];return null==r||isNaN(r)?m:r},A.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},A.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;var r=0,i=this._count-1;while(r<=i){var a=(r+i)/2|0;if(e[a]<t)r=a+1;else{if(!(e[a]>t))return a;i=a-1}}return-1},A.indicesOfNearest=function(t,e,n){var r=this._storage,i=r[t],a=[];if(!i)return a;null==n&&(n=1/0);for(var o=Number.MAX_VALUE,s=-1,u=0,l=this.count();u<l;u++){var c=e-this.get(t,u),h=Math.abs(c);c<=n&&h<=o&&((h<o||c>=0&&s<0)&&(o=h,s=c,a.length=0),a.push(u))}return a},A.getRawIndex=L,A.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var r=this.dimensions[n];e.push(this.get(r,t))}return e},A.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||D(this,this._nameDimIdx,e)||""},A.getId=function(t){return P(this,this.getRawIndex(t))},A.each=function(t,e,n,r){"use strict";if(this._count){"function"===typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this,t=i.map(R(t),this.getDimension,this);for(var a=t.length,o=0;o<this.count();o++)switch(a){case 0:e.call(n,o);break;case 1:e.call(n,this.get(t[0],o),o);break;case 2:e.call(n,this.get(t[0],o),this.get(t[1],o),o);break;default:for(var s=0,u=[];s<a;s++)u[s]=this.get(t[s],o);u[s]=o,e.apply(n,u)}}},A.filterSelf=function(t,e,n,r){"use strict";if(this._count){"function"===typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this,t=i.map(R(t),this.getDimension,this);for(var a=this.count(),o=b(this),s=new o(a),u=[],l=t.length,c=0,h=t[0],f=0;f<a;f++){var d,p=this.getRawIndex(f);if(0===l)d=e.call(n,f);else if(1===l){var m=this._getFast(h,p);d=e.call(n,m,f)}else{for(var g=0;g<l;g++)u[g]=this._getFast(h,p);u[g]=f,d=e.apply(n,u)}d&&(s[c++]=p)}return c<a&&(this._indices=s),this._count=c,this._extent={},this.getRawIndex=this._indices?I:L,this}},A.selectRange=function(t){"use strict";if(this._count){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var r=e.length;if(r){var i=this.count(),a=b(this),o=new a(i),s=0,u=e[0],l=t[u][0],c=t[u][1],h=!1;if(!this._indices){var f=0;if(1===r){for(var d=this._storage[e[0]],p=0;p<this._chunkCount;p++)for(var m=d[p],g=Math.min(this._count-p*this._chunkSize,this._chunkSize),v=0;v<g;v++){var _=m[v];(_>=l&&_<=c||isNaN(_))&&(o[s++]=f),f++}h=!0}else if(2===r){d=this._storage[u];var y=this._storage[e[1]],x=t[e[1]][0],w=t[e[1]][1];for(p=0;p<this._chunkCount;p++){m=d[p];var T=y[p];for(g=Math.min(this._count-p*this._chunkSize,this._chunkSize),v=0;v<g;v++){_=m[v];var S=T[v];(_>=l&&_<=c||isNaN(_))&&(S>=x&&S<=w||isNaN(S))&&(o[s++]=f),f++}}h=!0}}if(!h)if(1===r)for(v=0;v<i;v++){var E=this.getRawIndex(v);_=this._getFast(u,E);(_>=l&&_<=c||isNaN(_))&&(o[s++]=E)}else for(v=0;v<i;v++){var M=!0;for(E=this.getRawIndex(v),p=0;p<r;p++){var A=e[p];_=this._getFast(n,E);(_<t[A][0]||_>t[A][1])&&(M=!1)}M&&(o[s++]=this.getRawIndex(v))}return s<i&&(this._indices=o),this._count=s,this._extent={},this.getRawIndex=this._indices?I:L,this}}},A.mapArray=function(t,e,n,r){"use strict";"function"===typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this;var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},n),i},A.map=function(t,e,n,r){"use strict";n=n||r||this,t=i.map(R(t),this.getDimension,this);var a=N(this,t);a._indices=this._indices,a.getRawIndex=a._indices?I:L;for(var o=a._storage,s=[],u=this._chunkSize,l=t.length,c=this.count(),h=[],f=a._rawExtent,d=0;d<c;d++){for(var p=0;p<l;p++)h[p]=this.get(t[p],d);h[l]=d;var m=e&&e.apply(n,h);if(null!=m){"object"!==typeof m&&(s[0]=m,m=s);for(var g=this.getRawIndex(d),v=Math.floor(g/u),_=g%u,y=0;y<m.length;y++){var x=t[y],b=m[y],w=f[x],T=o[x];T&&(T[v][_]=b),b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}}}return a},A.downSample=function(t,e,n,r){for(var i=N(this,[t]),a=i._storage,o=[],s=Math.floor(1/e),u=a[t],l=this.count(),c=this._chunkSize,h=i._rawExtent[t],f=new(b(this))(l),d=0,p=0;p<l;p+=s){s>l-p&&(s=l-p,o.length=s);for(var m=0;m<s;m++){var g=this.getRawIndex(p+m),v=Math.floor(g/c),_=g%c;o[m]=u[v][_]}var y=n(o),x=this.getRawIndex(Math.min(p+r(o,y)||0,l-1)),w=Math.floor(x/c),T=x%c;u[w][T]=y,y<h[0]&&(h[0]=y),y>h[1]&&(h[1]=y),f[d++]=x}return i._count=d,i._indices=f,i.getRawIndex=I,i},A.getItemModel=function(t){var e=this.hostModel;return new a(this.getRawDataItem(t),e,e&&e.ecModel)},A.diff=function(t){var e=this;return new o(t?t.getIndices():[],this.getIndices(),function(e){return P(t,e)},function(t){return P(e,t)})},A.getVisual=function(t){var e=this._visual;return e&&e[t]},A.setVisual=function(t,e){if(d(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},A.setLayout=function(t,e){if(d(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},A.getLayout=function(t){return this._layout[t]},A.getItemLayout=function(t){return this._itemLayouts[t]},A.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?i.extend(this._itemLayouts[t]||{},e):e},A.clearItemLayouts=function(){this._itemLayouts.length=0},A.getItemVisual=function(t,e,n){var r=this._itemVisuals[t],i=r&&r[e];return null!=i||n?i:this.getVisual(e)},A.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{},i=this.hasItemVisual;if(this._itemVisuals[t]=r,d(e))for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a],i[a]=!0);else r[e]=n,i[e]=!0},A.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var B=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};A.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(B,e)),this._graphicEls[t]=e},A.getItemGraphicEl=function(t){return this._graphicEls[t]},A.eachItemGraphicEl=function(t,e){i.each(this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},A.cloneShallow=function(t){if(!t){var e=i.map(this.dimensions,this.getDimensionInfo,this);t=new M(e,this.hostModel)}if(t._storage=this._storage,E(t,this),this._indices){var n=this._indices.constructor;t._indices=new n(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?I:L,t},A.wrapMethod=function(t,e){var n=this[t];"function"===typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(i.slice(arguments)))})},A.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],A.CHANGABLE_METHODS=["filterSelf","selectRange"];var z=M;t.exports=z},"620b":function(t,e,n){var r=n("401b"),i=r.distance;function a(t,e,n,r,i,a,o){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*o+(-3*(e-n)-2*s-u)*a+s*i+e}function o(t,e){for(var n=t.length,r=[],o=0,s=1;s<n;s++)o+=i(t[s-1],t[s]);var u=o/2;u=u<n?n:u;for(s=0;s<u;s++){var l,c,h,f=s/(u-1)*(e?n:n-1),d=Math.floor(f),p=f-d,m=t[d%n];e?(l=t[(d-1+n)%n],c=t[(d+1)%n],h=t[(d+2)%n]):(l=t[0===d?d:d-1],c=t[d>n-2?n-1:d+1],h=t[d>n-3?n-1:d+2]);var g=p*p,v=p*g;r.push([a(l[0],m[0],c[0],h[0],p,g,v),a(l[1],m[1],c[1],h[1],p,g,v)])}return r}t.exports=o},"625e":function(t,e,n){var r=n("4e08"),i=(r.__DEV__,n("6d8b")),a=".",o="___EC__COMPONENT__CONTAINER___";function s(t){var e={main:"",sub:""};return t&&(t=t.split(a),e.main=t[0]||"",e.sub=t[1]||""),e}function u(t){i.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function l(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return i.extend(n.prototype,t),n.extend=this.extend,n.superCall=f,n.superApply=d,i.inherits(n,this),n.superClass=e,n}}var c=0;function h(t){var e=["__\0is_clz",c++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function f(t,e){var n=i.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function d(t,e,n){return this.superClass.prototype[e].apply(t,n)}function p(t,e){e=e||{};var n={};function r(t){var e=n[t.main];return e&&e[o]||(e=n[t.main]={},e[o]=!0),e}if(t.registerClass=function(t,e){if(e)if(u(e),e=s(e),e.sub){if(e.sub!==o){var i=r(e);i[e.sub]=t}}else n[e.main]=t;return t},t.getClass=function(t,e,r){var i=n[t];if(i&&i[o]&&(i=e?i[e]:null),r&&!i)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return i},t.getClassesByMainType=function(t){t=s(t);var e=[],r=n[t.main];return r&&r[o]?i.each(r,function(t,n){n!==o&&e.push(t)}):e.push(r),e},t.hasClass=function(t){return t=s(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return i.each(n,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=s(t);var e=n[t.main];return e&&e[o]},t.parseClassType=s,e.registerWhenExtend){var a=t.extend;a&&(t.extend=function(e){var n=a.call(this,e);return t.registerClass(n,e.type)})}return t}function m(t,e){}e.parseClassType=s,e.enableClassExtend=l,e.enableClassCheck=h,e.enableClassManagement=p,e.setReadOnly=m},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"62a0":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"63b6":function(t,e,n){var r=n("e53d"),i=n("584a"),a=n("d864"),o=n("35e8"),s=n("07e3"),u="prototype",l=function(t,e,n){var c,h,f,d=t&l.F,p=t&l.G,m=t&l.S,g=t&l.P,v=t&l.B,_=t&l.W,y=p?i:i[e]||(i[e]={}),x=y[u],b=p?r:m?r[e]:(r[e]||{})[u];for(c in p&&(n=e),n)h=!d&&b&&void 0!==b[c],h&&s(y,c)||(f=h?b[c]:n[c],y[c]=p&&"function"!=typeof b[c]?n[c]:v&&h?a(f,r):_&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(f):g&&"function"==typeof f?a(Function.call,f):f,g&&((y.virtual||(y.virtual={}))[c]=f,t&l.R&&x&&!x[c]&&o(x,c,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},6534:function(t,e,n){var r={"./legend-right-vertical.ts":"cfdf"};function i(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="6534"},6718:function(t,e,n){var r=n("e53d"),i=n("584a"),a=n("b8e3"),o=n("ccb9"),s=n("d9f6").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},6762:function(t,e,n){"use strict";var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"67bb":function(t,e,n){t.exports=n("f921")},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},"68ab":function(t,e,n){var r=n("4a3f"),i=r.quadraticProjectPoint;function a(t,e,n,r,a,o,s,u,l){if(0===s)return!1;var c=s;if(l>e+c&&l>r+c&&l>o+c||l<e-c&&l<r-c&&l<o-c||u>t+c&&u>n+c&&u>a+c||u<t-c&&u<n-c&&u<a-c)return!1;var h=i(t,e,n,r,a,o,u,l,null);return h<=c/2}e.containStroke=a},"697e":function(t,e,n){var r=n("de00"),i=n("22d1"),a=n("6d8b"),o=n("d2cf"),s=n("afa0"),u=n("ed21"),l=n("30a3"),c=n("cdaa"),h=!i.canvasSupported,f={canvas:u},d={},p="4.0.7";function m(t,e){var n=new x(r(),t,e);return d[n.id]=n,n}function g(t){if(t)t.dispose();else{for(var e in d)d.hasOwnProperty(e)&&d[e].dispose();d={}}return this}function v(t){return d[t]}function _(t,e){f[t]=e}function y(t){delete d[t]}var x=function(t,e,n){n=n||{},this.dom=e,this.id=t;var r=this,u=new s,d=n.renderer;if(h){if(!f.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");d="vml"}else d&&f[d]||(d="canvas");var p=new f[d](e,u,n,t);this.storage=u,this.painter=p;var m=i.node||i.worker?null:new c(p.getViewportRoot());this.handler=new o(u,p,m,p.root),this.animation=new l({stage:{update:a.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var g=u.delFromStorage,v=u.addToStorage;u.delFromStorage=function(t){g.call(u,t),t&&t.removeSelfFromZr(r)},u.addToStorage=function(t){v.call(u,t),t.addSelfToZr(r)}};x.prototype={constructor:x,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var n=this.painter.addHover(t,e);return this.refreshHover(),n}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,y(this.id)}},e.version=p,e.init=m,e.dispose=g,e.getInstance=v,e.registerPainter=_},"697ef":function(t,e,n){var r=n("4e08"),i=(r.__DEV__,n("6d8b")),a=n("18c0"),o=n("89e3"),s=n("e0d8"),u=n("3842"),l=n("9d57"),c=l.prepareLayoutBarSeries,h=l.makeColumnLayout,f=l.retrieveColumnLayout,d=n("9850");function p(t,e){var n,r,a,o=t.type,s=e.getMin(),l=e.getMax(),f=null!=s,d=null!=l,p=t.getExtent();"ordinal"===o?n=e.getCategories().length:(r=e.get("boundaryGap"),i.isArray(r)||(r=[r||0,r||0]),"boolean"===typeof r[0]&&(r=[0,0]),r[0]=u.parsePercent(r[0],1),r[1]=u.parsePercent(r[1],1),a=p[1]-p[0]||Math.abs(p[0])),null==s&&(s="ordinal"===o?n?0:NaN:p[0]-r[0]*a),null==l&&(l="ordinal"===o?n?n-1:NaN:p[1]+r[1]*a),"dataMin"===s?s=p[0]:"function"===typeof s&&(s=s({min:p[0],max:p[1]})),"dataMax"===l?l=p[1]:"function"===typeof l&&(l=l({min:p[0],max:p[1]})),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN),t.setBlank(i.eqNaN(s)||i.eqNaN(l)||"ordinal"===o&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(s>0&&l>0&&!f&&(s=0),s<0&&l<0&&!d&&(l=0));var g=e.ecModel;if(g&&"time"===o){var v,_=c("bar",g);if(i.each(_,function(t){v|=t.getBaseAxis()===e.axis}),v){var y=h(_),x=m(s,l,e,y);s=x.min,l=x.max}}return[s,l]}function m(t,e,n,r){var a=n.axis.getExtent(),o=a[1]-a[0],s=f(r,n.axis);if(void 0===s)return{min:t,max:e};var u=1/0;i.each(s,function(t){u=Math.min(t.offset,u)});var l=-1/0;i.each(s,function(t){l=Math.max(t.offset+t.width,l)}),u=Math.abs(u),l=Math.abs(l);var c=u+l,h=e-t,d=1-(u+l)/o,p=h/d-h;return e+=p*(l/c),t-=p*(u/c),{min:t,max:e}}function g(t,e){var n=p(t,e),r=null!=e.getMin(),i=null!=e.getMax(),a=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var o=t.type;t.setExtent(n[0],n[1]),t.niceExtent({splitNumber:a,fixMin:r,fixMax:i,minInterval:"interval"===o||"time"===o?e.get("minInterval"):null,maxInterval:"interval"===o||"time"===o?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)}function v(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new a(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new o;default:return(s.getClass(e)||o).create(t)}}function _(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}function y(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"string"===typeof e?(e=function(e){return function(n){return n=t.scale.getLabel(n),e.replace("{value}",null!=n?n:"")}}(e),e):"function"===typeof e?function(r,i){return null!=n&&(i=r-n),e(x(t,r),i)}:function(e){return t.scale.getLabel(e)}}function x(t,e){return"category"===t.type?t.scale.getLabel(e):e}function b(t){var e=t.model,n=t.scale;if(e.get("axisLabel.show")&&!n.isBlank()){var r,i,a="category"===t.type,o=n.getExtent();a?i=n.count():(r=n.getTicks(),i=r.length);var s,u=t.getLabelModel(),l=y(t),c=1;i>40&&(c=Math.ceil(i/40));for(var h=0;h<i;h+=c){var f=r?r[h]:o[0]+h,d=l(f),p=u.getTextRect(d),m=w(p,u.get("rotate")||0);s?s.union(m):s=m}return s}}function w(t,e){var n=e*Math.PI/180,r=t.plain(),i=r.width,a=r.height,o=i*Math.cos(n)+a*Math.sin(n),s=i*Math.sin(n)+a*Math.cos(n),u=new d(r.x,r.y,o,s);return u}function T(t){var e=t.get("interval");return null==e?"auto":e}function S(t){return"category"===t.type&&0===T(t.getLabelModel())}n("216a"),n("8c2a"),e.getScaleExtent=p,e.niceScaleExtent=g,e.createScaleByModel=v,e.ifAxisCrossZero=_,e.makeLabelFormatter=y,e.getAxisRawValue=x,e.estimateLabelUnionRect=b,e.getOptionCategoryInterval=T,e.shouldShowAllLabels=S},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"69d3":function(t,e,n){n("6718")("asyncIterator")},"69ff":function(t,e,n){var r=n("6d8b"),i=r.each,a=r.map,o=r.isFunction,s=r.createHashMap,u=r.noop,l=n("f47d"),c=l.createTask,h=n("8918"),f=h.getUID,d=n("7e63"),p=n("843e"),m=n("e0d3"),g=m.normalizeToArray;function v(t,e,n,r){this.ecInstance=t,this.api=e,this.unfinished;n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice();this._allHandlers=n.concat(r),this._stageTaskMap=s()}var _=v.prototype;function y(t,e,n,r,a){var o;function s(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}a=a||{},i(e,function(e,i){if(!a.visualType||a.visualType===e.visualType){var u=t._stageTaskMap.get(e.uid),l=u.seriesTaskMap,c=u.overallTask;if(c){var h,f=c.agentStubMap;f.each(function(t){s(a,t)&&(t.dirty(),h=!0)}),h&&c.dirty(),x(c,r);var d=t.getPerformArgs(c,a.block);f.each(function(t){t.perform(d)}),o|=c.perform(d)}else l&&l.each(function(i,u){s(a,i)&&i.dirty();var l=t.getPerformArgs(i,a.block);l.skip=!e.performRawSeries&&n.isSeriesFiltered(i.context.model),x(i,r),o|=i.perform(l)})}}),t.unfinished|=o}_.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},_.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,i=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex,a=i?n.step:null,o=r&&r.modDataCount,s=null!=o?Math.ceil(o/a):null;return{step:a,modBy:s,modDataCount:o}}},_.getPipeline=function(t){return this._pipelineMap.get(t)},_.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData(),i=r.count(),a=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,o=t.get("large")&&i>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=n.context={progressiveRender:a,modDataCount:s,large:o}},_.restorePipelines=function(t){var e=this,n=e._pipelineMap=s();t.eachSeries(function(t){var r=t.getProgressive(),i=t.uid;n.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),I(e,t,t.dataTask)})},_.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),n=this.api;i(this._allHandlers,function(r){var i=t.get(r.uid)||t.set(r.uid,[]);r.reset&&b(this,r,i,e,n),r.overallReset&&w(this,r,i,e,n)},this)},_.prepareView=function(t,e,n,r){var i=t.renderTask,a=i.context;a.model=e,a.ecModel=n,a.api=r,i.__block=!t.incrementalPrepareRender,I(this,e,i)},_.performDataProcessorTasks=function(t,e){y(this,this._dataProcessorHandlers,t,e,{block:!0})},_.performVisualTasks=function(t,e,n){y(this,this._visualHandlers,t,e,n)},_.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},_.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var x=_.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)};function b(t,e,n,r,i){var a=n.seriesTaskMap||(n.seriesTaskMap=s()),o=e.seriesType,u=e.getTargetSeries;function l(n){var o=n.uid,s=a.get(o)||a.set(o,c({plan:A,reset:C,count:L}));s.context={model:n,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},I(t,n,s)}e.createOnAllSeries?r.eachRawSeries(l):o?r.eachRawSeriesByType(o,l):u&&u(r,i).each(l);var h=t._pipelineMap;a.each(function(t,e){h.get(e)||(t.dispose(),a.removeKey(e))})}function w(t,e,n,r,a){var o=n.overallTask=n.overallTask||c({reset:T});o.context={ecModel:r,api:a,overallReset:e.overallReset,scheduler:t};var u=o.agentStubMap=o.agentStubMap||s(),l=e.seriesType,h=e.getTargetSeries,f=!0,d=e.modifyOutputEnd;function p(e){var n=e.uid,r=u.get(n);r||(r=u.set(n,c({reset:S,onDirty:M})),o.dirty()),r.context={model:e,overallProgress:f,modifyOutputEnd:d},r.agent=o,r.__block=f,I(t,e,r)}l?r.eachRawSeriesByType(l,p):h?h(r,a).each(p):(f=!1,i(r.getSeries(),p));var m=t._pipelineMap;u.each(function(t,e){m.get(e)||(t.dispose(),o.dirty(),u.removeKey(e))})}function T(t){t.overallReset(t.ecModel,t.api,t.payload)}function S(t,e){return t.overallProgress&&E}function E(){this.agent.dirty(),this.getDownstream().dirty()}function M(){this.agent&&this.agent.dirty()}function A(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function C(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=g(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?a(e,function(t,e){return D(e)}):O}var O=D(0);function D(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(e,r)}}function L(t){return t.data.count()}function I(t,e,n){var r=e.uid,i=t._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i}function P(t){R=null;try{t(N,k)}catch(e){}return R}v.wrapStageHandler=function(t,e){return o(t)&&(t={overallReset:t,seriesType:P(t)}),t.uid=f("stageHandler"),e&&(t.visualType=e),t};var R,N={},k={};function F(t,e){for(var n in e.prototype)t[n]=u}F(N,d),F(k,p),N.eachSeriesByType=N.eachRawSeriesByType=function(t){R=t},N.eachComponent=function(t){"series"===t.mainType&&t.subType&&(R=t.subType)};var B=v;t.exports=B},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"6abf":function(t,e,n){var r=n("e6f3"),i=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6bb5":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("061b"),i=n.n(r),a=n("4d16"),o=n.n(a);function s(t){return s=o.a?i.a:function(t){return t.__proto__||i()(t)},s(t)}},"6c1c":function(t,e,n){n("c367");for(var r=n("e53d"),i=n("35e8"),a=n("481b"),o=n("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],h=c&&c.prototype;h&&!h[o]&&i(h,o,l),a[l]=a.Array}},"6c7b":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"6cb7":function(t,e,n){var r=n("6d8b"),i=n("4319"),a=n("8918"),o=n("625e"),s=o.enableClassManagement,u=o.parseClassType,l=n("e0d3"),c=l.makeInner,h=n("f934"),f=n("de1c"),d=c(),p=i.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,r){i.call(this,t,e,n,r),this.uid=a.getUID("ec_cpt_model")},init:function(t,e,n,r){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?h.getLayoutParams(t):{},a=e.getTheme();r.merge(t,a.get(this.mainType)),r.merge(t,this.getDefaultOption()),n&&h.mergeLayoutParam(t,i,n)},mergeOption:function(t,e){r.merge(this.option,t,!0);var n=this.layoutMode;n&&h.mergeLayoutParam(this.option,t,n)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=d(this);if(!t.defaultOption){var e=[],n=this.constructor;while(n){var i=n.prototype.defaultOption;i&&e.push(i),n=n.superClass}for(var a={},o=e.length-1;o>=0;o--)a=r.merge(a,e[o],!0);t.defaultOption=a}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});function m(t){var e=[];return r.each(p.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=r.map(e,function(t){return u(t).main}),"dataset"!==t&&r.indexOf(e,"dataset")<=0&&e.unshift("dataset"),e}s(p,{registerWhenExtend:!0}),a.enableSubTypeDefaulter(p),a.enableTopologicalTravel(p,m),r.mixin(p,f);var g=p;t.exports=g},"6d8b":function(t,e){var n={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},r={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},i=Object.prototype.toString,a=Array.prototype,o=a.forEach,s=a.filter,u=a.slice,l=a.map,c=a.reduce,h={};function f(t,e){"createCanvas"===t&&(_=null),h[t]=e}function d(t){if(null==t||"object"!==typeof t)return t;var e=t,a=i.call(t);if("[object Array]"===a){if(!Z(t)){e=[];for(var o=0,s=t.length;o<s;o++)e[o]=d(t[o])}}else if(r[a]){if(!Z(t)){var u=t.constructor;if(t.constructor.from)e=u.from(t);else{e=new u(t.length);for(o=0,s=t.length;o<s;o++)e[o]=d(t[o])}}}else if(!n[a]&&!Z(t)&&!B(t))for(var l in e={},t)t.hasOwnProperty(l)&&(e[l]=d(t[l]));return e}function p(t,e,n){if(!N(e)||!N(t))return n?d(e):t;for(var r in e)if(e.hasOwnProperty(r)){var i=t[r],a=e[r];!N(a)||!N(i)||I(a)||I(i)||B(a)||B(i)||k(a)||k(i)||Z(a)||Z(i)?!n&&r in t||(t[r]=d(e[r],!0)):p(i,a,n)}return t}function m(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=p(n,t[r],e);return n}function g(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function v(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}var _,y=function(){return h.createCanvas()};function x(){return _||(_=y().getContext("2d")),_}function b(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function w(t,e){var n=t.prototype;function r(){}for(var i in r.prototype=e.prototype,t.prototype=new r,n)t.prototype[i]=n[i];t.prototype.constructor=t,t.superClass=e}function T(t,e,n){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,v(t,e,n)}function S(t){if(t)return"string"!==typeof t&&"number"===typeof t.length}function E(t,e,n){if(t&&e)if(t.forEach&&t.forEach===o)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function M(t,e,n){if(t&&e){if(t.map&&t.map===l)return t.map(e,n);for(var r=[],i=0,a=t.length;i<a;i++)r.push(e.call(n,t[i],i,t));return r}}function A(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===c)return t.reduce(e,n,r);for(var i=0,a=t.length;i<a;i++)n=e.call(r,n,t[i],i,t);return n}}function C(t,e,n){if(t&&e){if(t.filter&&t.filter===s)return t.filter(e,n);for(var r=[],i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}}function O(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}function D(t,e){var n=u.call(arguments,2);return function(){return t.apply(e,n.concat(u.call(arguments)))}}function L(t){var e=u.call(arguments,1);return function(){return t.apply(this,e.concat(u.call(arguments)))}}function I(t){return"[object Array]"===i.call(t)}function P(t){return"function"===typeof t}function R(t){return"[object String]"===i.call(t)}function N(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function k(t){return!!n[i.call(t)]}function F(t){return!!r[i.call(t)]}function B(t){return"object"===typeof t&&"number"===typeof t.nodeType&&"object"===typeof t.ownerDocument}function z(t){return t!==t}function U(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]}function G(t,e){return null!=t?t:e}function j(t,e,n){return null!=t?t:null!=e?e:n}function H(){return Function.call.apply(u,arguments)}function V(t){if("number"===typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function W(t,e){if(!t)throw new Error(e)}function X(t){return null==t?null:"function"===typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}h.createCanvas=function(){return document.createElement("canvas")};var q="__ec_primitive__";function Y(t){t[q]=!0}function Z(t){return t[q]}function K(t){var e=I(t);this.data={};var n=this;function r(t,r){e?n.set(t,r):n.set(r,t)}t instanceof K?t.each(r):t&&E(t,r)}function $(t){return new K(t)}function J(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n}function Q(){}K.prototype={constructor:K,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=D(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}},e.$override=f,e.clone=d,e.merge=p,e.mergeAll=m,e.extend=g,e.defaults=v,e.createCanvas=y,e.getContext=x,e.indexOf=b,e.inherits=w,e.mixin=T,e.isArrayLike=S,e.each=E,e.map=M,e.reduce=A,e.filter=C,e.find=O,e.bind=D,e.curry=L,e.isArray=I,e.isFunction=P,e.isString=R,e.isObject=N,e.isBuiltInObject=k,e.isTypedArray=F,e.isDom=B,e.eqNaN=z,e.retrieve=U,e.retrieve2=G,e.retrieve3=j,e.slice=H,e.normalizeCssArray=V,e.assert=W,e.trim=X,e.setAsPrimitive=Y,e.isPrimitive=Z,e.createHashMap=$,e.concatArray=J,e.noop=Q},"70c0":function(t,e,n){"use strict";n.r(e);n("f751"),n("f6b3"),n("28a5"),n("ac6a");e["default"]=function(t,e){var n=t.accessories.legend;if(!1===n)return{legend:{show:!1}};var r={};"top,right,bottom".split(",").forEach(function(t){Reflect.has(n,t)&&(r[t]=n[t])});var i={right:{right:"10%"},left:{left:"10%"}};return r=Object.assign({},r,i[n.align]),n.data&&(r.data=n.data),n.direction&&(r.orient=n.direction),{legend:r}}},"71c1":function(t,e,n){var r=n("3a38"),i=n("25eb");t.exports=function(t){return function(e,n){var a,o,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}}},7333:function(t,e,n){"use strict";var r=n("0d58"),i=n("2621"),a=n("52a7"),o=n("4bf8"),s=n("626a"),u=Object.assign;t.exports=!u||n("79e5")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){var n=o(t),u=arguments.length,l=1,c=i.f,h=a.f;while(u>l){var f,d=s(arguments[l++]),p=c?r(d).concat(c(d)):r(d),m=p.length,g=0;while(m>g)h.call(d,f=p[g++])&&(n[f]=d[f])}return n}:u},"74cb":function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r))},elasticOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}},r=n;t.exports=r},7514:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(a)},"75fc":function(t,e,n){"use strict";var r=n("a745"),i=n.n(r);function a(t){if(i()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var o=n("774e"),s=n.n(o),u=n("c8bb"),l=n.n(u);function c(t){if(l()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return s()(t)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return a(t)||c(t)||h()}n.d(e,"a",function(){return f})},7618:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("5d58"),i=n.n(r),a=n("67bb"),o=n.n(a);function s(t){return s="function"===typeof o.a&&"symbol"===typeof i.a?function(t){return typeof t}:function(t){return t&&"function"===typeof o.a&&t.constructor===o.a&&t!==o.a.prototype?"symbol":typeof t},s(t)}function u(t){return u="function"===typeof o.a&&"symbol"===s(i.a)?function(t){return s(t)}:function(t){return t&&"function"===typeof o.a&&t.constructor===o.a&&t!==o.a.prototype?"symbol":s(t)},u(t)}},"765d":function(t,e,n){n("6718")("observable")},"768b":function(t,e,n){"use strict";var r=n("a745"),i=n.n(r);function a(t){if(i()(t))return t}var o=n("5d73"),s=n.n(o);function u(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=s()(t);!(r=(o=u.next()).done);r=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){i=!0,a=l}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw a}}return n}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(t,e){return a(t)||u(t,e)||l()}n.d(e,"a",function(){return c})},"769b":function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});n("28a5"),n("a481");var r=n("308d"),i=n("6bb5"),a=n("4e2b"),o=(n("f559"),n("d225")),s=n("b0b4"),u=function(){function t(){Object(o["a"])(this,t),this.value=""}return Object(s["a"])(t,null,[{key:"from",value:function(e){if(e.startsWith("gradient:"))return l.from(e);var n=new t;return n.value=e,n}}]),t}(),l=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(r["a"])(this,Object(i["a"])(e).apply(this,arguments)),t.stops=[],t}return Object(a["a"])(e,t),Object(s["a"])(e,null,[{key:"from",value:function(t){var n=new e;return t=t.replace(/^gradient\:/,""),n.stops=t.split(";"),n}}]),e}(u)},"76a5":function(t,e,n){var r=n("19eb"),i=n("6d8b"),a=n("e86a"),o=n("a73c"),s=n("82eb"),u=s.ContextCachedBy,l=function(t){r.call(this,t)};l.prototype={constructor:l,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&o.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var r=n.text;null!=r&&(r+=""),o.needDrawText(r,n)?(this.setTransform(t),o.renderText(this,t,r,n,null,e),this.restoreTransform(t)):t.__attrCachedBy=u.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&o.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var n=a.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,o.getStroke(t.textStroke,t.textStrokeWidth)){var r=t.textStrokeWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect}},i.inherits(l,r);var c=l;t.exports=c},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"774e":function(t,e,n){t.exports=n("d2d5")},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,a=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):a(t,e)}},"78bb":function(t,e,n){"use strict";n.r(e);n("f6b3"),n("28a5"),n("ac6a");e["default"]=function(t){var e=t.x;e=e||[];var n={};if("name,show,data,min".split(",").forEach(function(t){Reflect.has(e,t)&&(n[t]=e[t])}),e.type&&"value"!==e.type&&(n={type:"category"},e.data&&(n.data=e.data)),e.label&&(n.axisLabel={formatter:e.label}),Reflect.has(e,"line")){var r=e.line;!1===r&&(n.axisLine={show:!1})}if(Reflect.has(e,"ticks")){var i=e.ticks;!1===i&&(n.axisTick={show:!1})}return{xAxis:[n]}}},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,n){"use strict";var r=n("7726"),i=n("86cc"),a=n("9e1e"),o=n("2b4c")("species");t.exports=function(t){var e=r[t];a&&e&&!e[o]&&i.f(e,o,{configurable:!0,get:function(){return this}})}},"7ac5":function(t,e,n){},"7c5c":function(t,e,n){"use strict";n.r(e);n("a00a");var r={xAxis:!1,yAxis:!1,grid:!1,tooltip:{trigger:"item"},bmap:{center:[104.114129,37.550339],zoom:6,roam:!0,tooltip:{trigger:"item"},mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#044161"}},{featureType:"land",elementType:"all",stylers:{color:"#004981"}},{featureType:"boundary",elementType:"geometry",stylers:{color:"#064f85"}},{featureType:"railway",elementType:"all",stylers:{visibility:"off"}},{featureType:"highway",elementType:"geometry",stylers:{color:"#004981"}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#005b96",lightness:1}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry",stylers:{color:"#004981"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#00508b"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"green",elementType:"all",stylers:{color:"#056197",visibility:"off"}},{featureType:"subway",elementType:"all",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"all",stylers:{visibility:"off"}},{featureType:"local",elementType:"all",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off"}},{featureType:"boundary",elementType:"geometry.fill",stylers:{color:"#029fd4"}},{featureType:"building",elementType:"all",stylers:{color:"#1a5787"}},{featureType:"label",elementType:"all",stylers:{visibility:"off"}}]}}};e["default"]=r},"7c7c":function(t,e,n){},"7c81":function(t,e,n){"use strict";n.r(e);var r={xAxis:!1,yAxis:!1};e["default"]=r},"7cb2":function(t,e,n){(function(e,r){t.exports=r(n("164e"))})(0,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=106)}([function(e,n){e.exports=t},function(t,e,n){"use strict";var r=n(40),i=n(52),a=n(5),o=n(4),s=n(8),u=n(19),l=n(35),c=n(15),h=n(0),f=n.n(h),d=n(36),p=n(60),m=n.n(p),g=n(61),v=n(124),_=n(125),y=n(129),x=n(130),b=n(2),w=n(132),T=n(43),S=n(76),E=n(133),M=n(134),A=n(135),C=n(136),O=n(41),D=n(37),L=n(26),I=n(3),P=n(137),R=n(56),N=n(138),k=n(139),F=n(140),B=n(9),z=n(74),U=n(54),G=n(18),j=n(59),H=n(141),V=n(146),W=n(71),X=n(147),q=n(148),Y=n(149),Z=n(150),K=n(151),$=n(152);function J(t){return!t||"none"===t}function Q(t){return t instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof Image}function tt(t){return t.getZr&&t.setOption}f.a.util.extend(l["a"].prototype,H["a"]),s["a"].import(V["a"]),s["a"].import(W["a"]),s["a"].import(X["a"]),s["a"].import(q["a"]),s["a"].import(Y["a"]),s["a"].import(Z["a"]),s["a"].import(K["a"]),s["a"].import($["a"]);var et=d["a"].prototype.addToScene,nt=d["a"].prototype.removeFromScene;d["a"].prototype.addToScene=function(t){if(et.call(this,t),this.__zr){var e=this.__zr;t.traverse(function(t){t.__zr=e,t.addAnimatorsToZr&&t.addAnimatorsToZr(e)})}},d["a"].prototype.removeFromScene=function(t){nt.call(this,t),t.traverse(function(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)})},u["a"].prototype.setTextureImage=function(t,e,n,r){if(this.shader){var i,a=n.getZr(),o=this;return o.autoUpdateTextureStatus=!1,o.disableTexture(t),J(e)||(i=rt.loadTexture(e,n,r,function(e){o.enableTexture(t),a&&a.refresh()}),o.set(t,i)),i}};var rt={};rt.Renderer=i["a"],rt.Node=l["a"],rt.Mesh=r["a"],rt.Shader=s["a"],rt.Material=u["a"],rt.Texture=o["a"],rt.Texture2D=a["a"],rt.Geometry=c["a"],rt.SphereGeometry=w["a"],rt.PlaneGeometry=T["a"],rt.CubeGeometry=S["a"],rt.AmbientLight=E["a"],rt.DirectionalLight=M["a"],rt.PointLight=A["a"],rt.SpotLight=C["a"],rt.PerspectiveCamera=O["a"],rt.OrthographicCamera=D["a"],rt.Vector2=L["a"],rt.Vector3=I["a"],rt.Vector4=P["a"],rt.Quaternion=R["a"],rt.Matrix2=N["a"],rt.Matrix2d=k["a"],rt.Matrix3=F["a"],rt.Matrix4=B["a"],rt.Plane=z["a"],rt.Ray=U["a"],rt.BoundingBox=G["a"],rt.Frustum=j["a"];var it=g["a"].createBlank("rgba(255,255,255,0)").image;function at(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function ot(t){if((t.wrapS===o["a"].REPEAT||t.wrapT===o["a"].REPEAT)&&t.image){var e=at(t.width),n=at(t.height);if(e!==t.width||n!==t.height){var r=document.createElement("canvas");r.width=e,r.height=n;var i=r.getContext("2d");i.drawImage(t.image,0,0,e,n),t.image=r}}}rt.loadTexture=function(t,e,n,r){"function"===typeof n&&(r=n,n={}),n=n||{};for(var i=Object.keys(n).sort(),a="",o=0;o<i.length;o++)a+=i[o]+"_"+n[i[o]]+"_";var s=e.__textureCache=e.__textureCache||new m.a(20);if(tt(t)){var u=t.__textureid__,l=s.get(a+u);if(l)l.texture.surface.setECharts(t),r&&r(l.texture);else{var c=new v["a"](t);c.onupdate=function(){e.getZr().refresh()},l={texture:c.getTexture()};for(o=0;o<i.length;o++)l.texture[i[o]]=n[i[o]];u=t.__textureid__||"__ecgl_ec__"+l.texture.__uid__,t.__textureid__=u,s.put(a+u,l),r&&r(l.texture)}return l.texture}if(Q(t)){u=t.__textureid__,l=s.get(a+u);if(!l){l={texture:new rt.Texture2D({image:t})};for(o=0;o<i.length;o++)l.texture[i[o]]=n[i[o]];u=t.__textureid__||"__ecgl_image__"+l.texture.__uid__,t.__textureid__=u,s.put(a+u,l),ot(l.texture),r&&r(l.texture)}return l.texture}l=s.get(a+t);if(l)l.callbacks?l.callbacks.push(r):r&&r(l.texture);else if(t.match(/.hdr$|^data:application\/octet-stream/)){l={callbacks:[r]};var h=g["a"].loadTexture(t,{exposure:n.exposure,fileType:"hdr"},function(){h.dirty(),l.callbacks.forEach(function(t){t&&t(h)}),l.callbacks=null});l.texture=h,s.put(a+t,l)}else{for(h=new rt.Texture2D({image:new Image}),o=0;o<i.length;o++)h[i[o]]=n[i[o]];l={texture:h,callbacks:[r]};var f=h.image;f.onload=function(){h.image=f,ot(h),h.dirty(),l.callbacks.forEach(function(t){t&&t(h)}),l.callbacks=null},f.src=t,h.image=it,s.put(a+t,l)}return l.texture},rt.createAmbientCubemap=function(t,e,n,r){t=t||{};var i=t.texture,a=b["a"].firstNotNull(t.exposure,1),o=new _["a"]({intensity:b["a"].firstNotNull(t.specularIntensity,1)}),s=new y["a"]({intensity:b["a"].firstNotNull(t.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=rt.loadTexture(i,n,{exposure:a},function(){o.cubemap.flipY=!1;var t=Date.now();o.prefilter(e,32);var n=Date.now()-t;console.log("Prefilter environment map: "+n+"ms"),s.coefficients=x["a"].projectEnvironmentMap(e,o.cubemap,{lod:1}),r&&r()}),{specular:o,diffuse:s}},rt.createBlankTexture=g["a"].createBlank,rt.isImage=Q,rt.additiveBlend=function(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)},rt.parseColor=function(t,e){return t instanceof Array?(e||(e=[]),e[0]=t[0],e[1]=t[1],e[2]=t[2],t.length>3?e[3]=t[3]:e[3]=1,e):(e=f.a.color.parse(t||"#000",e)||[0,0,0,0],e[0]/=255,e[1]/=255,e[2]/=255,e)},rt.directionFromAlphaBeta=function(t,e){var n=t/180*Math.PI+Math.PI/2,r=-e/180*Math.PI+Math.PI/2,i=[],a=Math.sin(n);return i[0]=a*Math.cos(r),i[1]=-Math.cos(n),i[2]=a*Math.sin(r),i},rt.getShadowResolution=function(t){var e=1024;switch(t){case"low":e=512;break;case"medium":break;case"high":e=2048;break;case"ultra":e=4096;break}return e},rt.COMMON_SHADERS=["lambert","color","realistic","hatching"],rt.createShader=function(t){var e=s["a"].source(t+".vertex"),n=s["a"].source(t+".fragment");e||console.error("Vertex shader of '%s' not exits",t),n||console.error("Fragment shader of '%s' not exits",t);var r=new s["a"](e,n);return r.name=t,r},rt.createMaterial=function(t,e){e instanceof Array||(e=[e]);var n=rt.createShader(t),r=new u["a"]({shader:n});return e.forEach(function(t){"string"===typeof t&&r.define(t)}),r},rt.setMaterialFromModel=function(t,e,n,r){e.autoUpdateTextureStatus=!1;var i=n.getModel(t+"Material"),a=i.get("detailTexture"),o=b["a"].firstNotNull(i.get("textureTiling"),1),s=b["a"].firstNotNull(i.get("textureOffset"),0);"number"===typeof o&&(o=[o,o]),"number"===typeof s&&(s=[s,s]);var u=o[0]>1||o[1]>1?rt.Texture.REPEAT:rt.Texture.CLAMP_TO_EDGE,l={anisotropic:8,wrapS:u,wrapT:u};if("realistic"===t){var c=i.get("roughness"),h=i.get("metalness");null!=h?isNaN(h)&&(e.setTextureImage("metalnessMap",h,r,l),h=b["a"].firstNotNull(i.get("metalnessAdjust"),.5)):h=0,null!=c?isNaN(c)&&(e.setTextureImage("roughnessMap",c,r,l),c=b["a"].firstNotNull(i.get("roughnessAdjust"),.5)):c=.5;var f=i.get("normalTexture");e.setTextureImage("detailMap",a,r,l),e.setTextureImage("normalMap",f,r,l),e.set({roughness:c,metalness:h,detailUvRepeat:o,detailUvOffset:s})}else if("lambert"===t)e.setTextureImage("detailMap",a,r,l),e.set({detailUvRepeat:o,detailUvOffset:s});else if("color"===t)e.setTextureImage("detailMap",a,r,l),e.set({detailUvRepeat:o,detailUvOffset:s});else if("hatching"===t){var d=i.get("hatchingTextures")||[];d.length<6&&console.error("Invalid hatchingTextures.");for(var p=0;p<6;p++)e.setTextureImage("hatch"+(p+1),d[p],r,{anisotropic:8,wrapS:rt.Texture.REPEAT,wrapT:rt.Texture.REPEAT});e.set({detailUvRepeat:o,detailUvOffset:s})}},rt.updateVertexAnimation=function(t,e,n,r){var i=r.get("animation"),a=r.get("animationDurationUpdate"),o=r.get("animationEasingUpdate"),s=n.shadowDepthMaterial;if(i&&e&&a>0&&e.geometry.vertexCount===n.geometry.vertexCount){n.material.define("vertex","VERTEX_ANIMATION"),n.ignorePreZ=!0,s&&s.define("vertex","VERTEX_ANIMATION");for(var u=0;u<t.length;u++)n.geometry.attributes[t[u][0]].value=e.geometry.attributes[t[u][1]].value;n.geometry.dirty(),n.__percent=0,n.material.set("percent",0),n.stopAnimation(),n.animate().when(a,{__percent:1}).during(function(){n.material.set("percent",n.__percent),s&&s.set("percent",n.__percent)}).done(function(){n.ignorePreZ=!1,n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")}).start(o)}else n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")},e["a"]=rt},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a={firstNotNull:function(){for(var t=0,e=arguments.length;t<e;t++)if(null!=arguments[t])return arguments[t]},queryDataIndex:function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?i.a.util.isArray(e.dataIndex)?i.a.util.map(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?i.a.util.isArray(e.name)?i.a.util.map(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}};e["a"]=a},function(t,e,n){"use strict";var r=n(12),i=function(t,e,n){t=t||0,e=e||0,n=n||0,this.array=r["a"].fromValues(t,e,n),this._dirty=!0};i.prototype={constructor:i,add:function(t){return r["a"].add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this._dirty=!0,this},clone:function(){return new i(this.x,this.y,this.z)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return r["a"].cross(this.array,t.array,e.array),this._dirty=!0,this},dist:function(t){return r["a"].dist(this.array,t.array)},distance:function(t){return r["a"].distance(this.array,t.array)},div:function(t){return r["a"].div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return r["a"].divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return r["a"].dot(this.array,t.array)},len:function(){return r["a"].len(this.array)},length:function(){return r["a"].length(this.array)},lerp:function(t,e,n){return r["a"].lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return r["a"].min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return r["a"].max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return r["a"].negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r["a"].normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return r["a"].random(this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return r["a"].scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return r["a"].sqrDist(this.array,t.array)},squaredDistance:function(t){return r["a"].squaredDistance(this.array,t.array)},sqrLen:function(){return r["a"].sqrLen(this.array)},squaredLength:function(){return r["a"].squaredLength(this.array)},sub:function(t){return r["a"].sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return r["a"].subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return r["a"].transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return r["a"].transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return r["a"].transformQuat(this.array,this.array,t.array),this._dirty=!0,this},applyProjection:function(t){var e=this.array;if(t=t.array,0===t[15]){var n=-1/e[2];e[0]=t[0]*e[0]*n,e[1]=t[5]*e[1]*n,e[2]=(t[10]*e[2]+t[14])*n}else e[0]=t[0]*e[0]+t[12],e[1]=t[5]*e[1]+t[13],e[2]=t[10]*e[2]+t[14];return this._dirty=!0,this},eulerFromQuat:function(t,e){i.eulerFromQuat(this,t,e)},eulerFromMat3:function(t,e){i.eulerFromMat3(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var a=Object.defineProperty;if(a){var o=i.prototype;a(o,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),a(o,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),a(o,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}})}function s(t,e,n){return t<e?e:t>n?n:t}i.add=function(t,e,n){return r["a"].add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n,i){r["a"].set(t.array,e,n,i),t._dirty=!0},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.cross=function(t,e,n){return r["a"].cross(t.array,e.array,n.array),t._dirty=!0,t},i.dist=function(t,e){return r["a"].distance(t.array,e.array)},i.distance=i.dist,i.div=function(t,e,n){return r["a"].divide(t.array,e.array,n.array),t._dirty=!0,t},i.divide=i.div,i.dot=function(t,e){return r["a"].dot(t.array,e.array)},i.len=function(t){return r["a"].length(t.array)},i.lerp=function(t,e,n,i){return r["a"].lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return r["a"].min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return r["a"].max(t.array,e.array,n.array),t._dirty=!0,t},i.mul=function(t,e,n){return r["a"].multiply(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.negate=function(t,e){return r["a"].negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return r["a"].normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return r["a"].random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return r["a"].scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.sqrDist=function(t,e){return r["a"].sqrDist(t.array,e.array)},i.squaredDistance=i.sqrDist,i.sqrLen=function(t){return r["a"].sqrLen(t.array)},i.squaredLength=i.sqrLen,i.sub=function(t,e,n){return r["a"].subtract(t.array,e.array,n.array),t._dirty=!0,t},i.subtract=i.sub,i.transformMat3=function(t,e,n){return r["a"].transformMat3(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat4=function(t,e,n){return r["a"].transformMat4(t.array,e.array,n.array),t._dirty=!0,t},i.transformQuat=function(t,e,n){return r["a"].transformQuat(t.array,e.array,n.array),t._dirty=!0,t};var u=Math.atan2,l=Math.asin,c=Math.abs;i.eulerFromQuat=function(t,e,n){t._dirty=!0,e=e.array;var r=t.array,i=e[0],a=e[1],o=e[2],c=e[3],h=i*i,f=a*a,d=o*o,p=c*c;n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":r[0]=u(2*(i*c-a*o),p-h-f+d),r[1]=l(s(2*(i*o+a*c),-1,1)),r[2]=u(2*(o*c-i*a),p+h-f-d);break;case"YXZ":r[0]=l(s(2*(i*c-a*o),-1,1)),r[1]=u(2*(i*o+a*c),p-h-f+d),r[2]=u(2*(i*a+o*c),p-h+f-d);break;case"ZXY":r[0]=l(s(2*(i*c+a*o),-1,1)),r[1]=u(2*(a*c-o*i),p-h-f+d),r[2]=u(2*(o*c-i*a),p-h+f-d);break;case"ZYX":r[0]=u(2*(i*c+o*a),p-h-f+d),r[1]=l(s(2*(a*c-i*o),-1,1)),r[2]=u(2*(i*a+o*c),p+h-f-d);break;case"YZX":r[0]=u(2*(i*c-o*a),p-h+f-d),r[1]=u(2*(a*c-i*o),p+h-f-d),r[2]=l(s(2*(i*a+o*c),-1,1));break;case"XZY":r[0]=u(2*(i*c+a*o),p-h+f-d),r[1]=u(2*(i*o+a*c),p+h-f-d),r[2]=l(s(2*(o*c-i*a),-1,1));break;default:console.warn("Unkown order: "+n)}return t},i.eulerFromMat3=function(t,e,n){var r=e.array,i=r[0],a=r[3],o=r[6],h=r[1],f=r[4],d=r[7],p=r[2],m=r[5],g=r[8],v=t.array;n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":v[1]=l(s(o,-1,1)),c(o)<.99999?(v[0]=u(-d,g),v[2]=u(-a,i)):(v[0]=u(m,f),v[2]=0);break;case"YXZ":v[0]=l(-s(d,-1,1)),c(d)<.99999?(v[1]=u(o,g),v[2]=u(h,f)):(v[1]=u(-p,i),v[2]=0);break;case"ZXY":v[0]=l(s(m,-1,1)),c(m)<.99999?(v[1]=u(-p,g),v[2]=u(-a,f)):(v[1]=0,v[2]=u(h,i));break;case"ZYX":v[1]=l(-s(p,-1,1)),c(p)<.99999?(v[0]=u(m,g),v[2]=u(h,i)):(v[0]=0,v[2]=u(-a,f));break;case"YZX":v[2]=l(s(h,-1,1)),c(h)<.99999?(v[0]=u(-d,f),v[1]=u(-p,i)):(v[0]=0,v[1]=u(o,g));break;case"XZY":v[2]=l(-s(a,-1,1)),c(a)<.99999?(v[0]=u(m,f),v[1]=u(o,i)):(v[0]=u(-d,g),v[1]=0);break;default:console.warn("Unkown order: "+n)}return t._dirty=!0,t},Object.defineProperties(i,{POSITIVE_X:{get:function(){return new i(1,0,0)}},NEGATIVE_X:{get:function(){return new i(-1,0,0)}},POSITIVE_Y:{get:function(){return new i(0,1,0)}},NEGATIVE_Y:{get:function(){return new i(0,-1,0)}},POSITIVE_Z:{get:function(){return new i(0,0,1)}},NEGATIVE_Z:{get:function(){return new i(0,0,-1)}},UP:{get:function(){return new i(0,1,0)}},ZERO:{get:function(){return new i}}}),e["a"]=i},function(t,e,n){"use strict";var r=n(7),i=n(11),a=n(57),o=r["a"].extend({width:512,height:512,type:i["a"].UNSIGNED_BYTE,format:i["a"].RGBA,wrapS:i["a"].REPEAT,wrapT:i["a"].REPEAT,minFilter:i["a"].LINEAR_MIPMAP_LINEAR,magFilter:i["a"].LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new a["a"]},{getWebGLTexture:function(t){var e=t.gl,n=this._cache;return n.use(t.__uid__),n.miss("webgl_texture")&&n.put("webgl_texture",e.createTexture()),this.dynamic?this.update(t):n.isDirty()&&(this.update(t),n.fresh()),n.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(t){},updateCommon:function(t){var e=t.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===i["a"].DEPTH_COMPONENT&&(this.useMipmap=!1);var n=t.getGLExtension("EXT_sRGB");this.format!==o.SRGB||n||(this.format=o.RGB),this.format!==o.SRGB_ALPHA||n||(this.format=o.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?i["a"].CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?i["a"].CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var t=this.minFilter;return this.NPOT||!this.useMipmap?t===i["a"].NEAREST_MIPMAP_NEAREST||t===i["a"].NEAREST_MIPMAP_LINEAR?i["a"].NEAREST:t===i["a"].LINEAR_MIPMAP_LINEAR||t===i["a"].LINEAR_MIPMAP_NEAREST?i["a"].LINEAR:t:t},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("webgl_texture");n&&t.gl.deleteTexture(n),e.deleteContext(t.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(o.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),o.BYTE=i["a"].BYTE,o.UNSIGNED_BYTE=i["a"].UNSIGNED_BYTE,o.SHORT=i["a"].SHORT,o.UNSIGNED_SHORT=i["a"].UNSIGNED_SHORT,o.INT=i["a"].INT,o.UNSIGNED_INT=i["a"].UNSIGNED_INT,o.FLOAT=i["a"].FLOAT,o.HALF_FLOAT=36193,o.UNSIGNED_INT_24_8_WEBGL=34042,o.DEPTH_COMPONENT=i["a"].DEPTH_COMPONENT,o.DEPTH_STENCIL=i["a"].DEPTH_STENCIL,o.ALPHA=i["a"].ALPHA,o.RGB=i["a"].RGB,o.RGBA=i["a"].RGBA,o.LUMINANCE=i["a"].LUMINANCE,o.LUMINANCE_ALPHA=i["a"].LUMINANCE_ALPHA,o.SRGB=35904,o.SRGB_ALPHA=35906,o.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,o.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,o.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,o.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,o.NEAREST=i["a"].NEAREST,o.LINEAR=i["a"].LINEAR,o.NEAREST_MIPMAP_NEAREST=i["a"].NEAREST_MIPMAP_NEAREST,o.LINEAR_MIPMAP_NEAREST=i["a"].LINEAR_MIPMAP_NEAREST,o.NEAREST_MIPMAP_LINEAR=i["a"].NEAREST_MIPMAP_LINEAR,o.LINEAR_MIPMAP_LINEAR=i["a"].LINEAR_MIPMAP_LINEAR,o.REPEAT=i["a"].REPEAT,o.CLAMP_TO_EDGE=i["a"].CLAMP_TO_EDGE,o.MIRRORED_REPEAT=i["a"].MIRRORED_REPEAT,e["a"]=o},function(t,e,n){"use strict";var r=n(4),i=n(11),a=n(14),o=n(73),s=o["a"].isPowerOfTwo;function u(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function l(t,e){var n=u(t.width),r=u(t.height);e=e||document.createElement("canvas"),e.width=n,e.height=r;var i=e.getContext("2d");return i.drawImage(t.image,0,0,n,r),e}var c=r["a"].extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(t);var n=this.format,a=this.type,o=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==r["a"].REPEAT&&this.wrapT!==r["a"].REPEAT||!this.NPOT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,o?this.wrapS:this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,o?this.wrapT:this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,o?this.magFilter:this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,o?this.minFilter:this.getAvailableMinFilter());var s=t.getGLExtension("EXT_texture_filter_anisotropic");if(s&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_2D,s.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===a){var u=t.getGLExtension("OES_texture_half_float");u||(a=i["a"].FLOAT)}if(this.mipmaps.length)for(var l=this.width,c=this.height,h=0;h<this.mipmaps.length;h++){var f=this.mipmaps[h];this._updateTextureData(e,f,h,l,c,n,a,!1),l/=2,c/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,a,o),!this.useMipmap||this.NPOT&&!o||e.generateMipmap(e.TEXTURE_2D);e.bindTexture(e.TEXTURE_2D,null)},_updateTextureData:function(t,e,n,i,a,o,s,u){if(e.image){var c=e.image;u&&(this._potCanvas=l(this,this._potCanvas),c=this._potCanvas),t.texImage2D(t.TEXTURE_2D,n,o,o,s,c)}else o<=r["a"].COMPRESSED_RGBA_S3TC_DXT5_EXT&&o>=r["a"].COMPRESSED_RGB_S3TC_DXT1_EXT?t.compressedTexImage2D(t.TEXTURE_2D,n,o,i,a,0,e.pixels):t.texImage2D(t.TEXTURE_2D,n,o,i,a,0,o,s,e.pixels)},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_2D))},isPowerOfTwo:function(){return s(this.width)&&s(this.height)},isRenderable:function(){return this.image?"CANVAS"===this.image.nodeName||"VIDEO"===this.image.nodeName||this.image.complete:!(!this.width||!this.height)},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},load:function(t,e){var n=a["a"].createImage();e&&(n.crossOrigin=e);var r=this;return n.onload=function(){r.dirty(),r.trigger("success",r),n.onload=null},n.onerror=function(){r.trigger("error",r),n.onerror=null},n.src=t,this.image=n,this}});Object.defineProperty(c.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(t){this.image?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(c.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(t){this.image?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}}),e["a"]=c},function(t,e,n){"use strict";var r=n(161);e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(110),i=n(53),a=n(23),o=function(){this.__uid__=a["a"].genGUID()};o.__initializers__=[function(t){a["a"].extend(this,t)}],a["a"].extend(o,r["a"]),a["a"].extend(o.prototype,i["a"]),e["a"]=o},function(t,e,n){"use strict";var r=n(23),i=n(14),a=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,o=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,s=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,u={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function l(t){for(var e=[],n=0;n<t;n++)e[n]=0;return e}var c={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return l(2)},vec3:function(){return l(3)},vec4:function(){return l(4)},ivec2:function(){return l(2)},ivec3:function(){return l(3)},ivec4:function(){return l(4)},mat2:function(){return l(4)},mat3:function(){return l(9)},mat4:function(){return l(16)},array:function(){return[]}},h=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],f=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],d=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],p={vec4:4,vec3:3,vec2:2,float:1},m={},g={};function v(t,e){var n="vertex:"+t+"fragment:"+e;if(m[n])return m[n];var i=r["a"].genGUID();return m[n]=i,g[i]={vertex:t,fragment:e},i}function _(t){return t.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function y(){console.error("Wrong uniform/attributes syntax")}function x(t,e){for(var n=/[,=\(\):]/,r=e.replace(/:\s*\[\s*(.*)\s*\]/g,"="+t+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),a=[],o=0;o<r.length;o++)r[o].match(n)?a.push(r[o].charAt(0),r[o].slice(1)):a.push(r[o]);r=a;var s,u=0,l=1,c=2,p=3,m=4,g=5,v=u,_={},x=null;function b(t){t||y();var e=t.match(/\[(.*?)\]/);s=t.replace(/\[(.*?)\]/,""),_[s]={},e&&(_[s].isArray=!0,_[s].arraySize=e[1])}b(r[0]);for(o=1;o<r.length;o++){var w=r[o];if(w)if("="!==w)if(":"!==w)if(","!==w)if(")"!==w)if("("!==w)if(w.indexOf("vec")>=0){if(v!==l&&v!==m){y();break}v=c,x=[]}else if(v!==l)if(v!==m)b(w),v=u;else{var T=w;h.indexOf(T)>=0||f.indexOf(T)>=0||d.indexOf(T)>=0?_[s].semantic=T:"ignore"===T||"unconfigurable"===T?_[s].ignore=!0:_[s].value="bool"===t?"true"===T:parseFloat(T)}else _[s].value="bool"===t?"true"===w:parseFloat(w),x=null;else{if(v!==c){y();break}if(!(x instanceof Array)){y();break}x.push(+r[++o])}else _[s].value=new i["a"].Float32Array(x),x=null,v=g;else if(v===c){if(!(x instanceof Array)){y();break}x.push(+r[++o])}else v=g;else v=m;else{if(v!==u&&v!==p){y();break}v=l}}return _}function b(t,e){"object"===typeof t&&(e=t.fragment,t=t.vertex),t=_(t),e=_(e),this._shaderID=v(t,e),this._vertexCode=b.parseImport(t),this._fragmentCode=b.parseImport(e),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}b.prototype={constructor:b,createUniforms:function(){var t={};for(var e in this.uniformTemplates){var n=this.uniformTemplates[e];t[e]={type:n.type,value:n.value()}}return t},_parseImport:function(){this._vertexCode=b.parseImport(this.vertex),this._fragmentCode=b.parseImport(this.fragment)},_addSemanticUniform:function(t,e,n){if(h.indexOf(n)>=0)this.attributeSemantics[n]={symbol:t,type:e};else if(d.indexOf(n)>=0){var r=!1,i=n;n.match(/TRANSPOSE$/)&&(r=!0,i=n.slice(0,-9)),this.matrixSemantics[n]={symbol:t,type:e,isTranspose:r,semanticNoTranspose:i}}else f.indexOf(n)>=0&&(this.uniformSemantics[n]={symbol:t,type:e})},_addMaterialUniform:function(t,e,n,r,i,a){a[t]={type:n,value:i?c["array"]:r||c[e],semantic:null}},_parseUniforms:function(){var t={},e=this,n="vertex";function r(t){return null!=t?function(){return t}:null}function i(i,a,o){var s=x(a,o),l=[];for(var c in s){var h=s[c],f=h.semantic,d=c,p=u[a],m=r(s[c].value);s[c].isArray&&(d+="["+s[c].arraySize+"]",p+="v"),l.push(d),e._uniformList.push(c),h.ignore||("sampler2D"!==a&&"samplerCube"!==a||(e.textures[c]={shaderType:n,type:a}),f?e._addSemanticUniform(c,p,f):e._addMaterialUniform(c,a,p,m,s[c].isArray,t))}return l.length>0?"uniform "+a+" "+l.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(a,i),n="fragment",this._fragmentCode=this._fragmentCode.replace(a,i),e.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=t},_parseAttributes:function(){var t={},e=this;function n(n,r,i){var a=x(r,i),o=p[r]||1,s=[];for(var u in a){var l=a[u].semantic;if(t[u]={type:"float",size:o,semantic:l||null},l){if(h.indexOf(l)<0)throw new Error('Unkown semantic "'+l+'"');e.attributeSemantics[l]={symbol:u,type:r}}s.push(u)}return"attribute "+r+" "+s.join(",")+";\n"}this._vertexCode=this._vertexCode.replace(o,n),this.attributes=t},_parseDefines:function(){var t=this,e="vertex";function n(n,r,i){var a="vertex"===e?t.vertexDefines:t.fragmentDefines;return a[r]||(a[r]="false"!==i&&("true"===i||(i?isNaN(parseFloat(i))?i.trim():parseFloat(i):null))),""}this._vertexCode=this._vertexCode.replace(s,n),e="fragment",this._fragmentCode=this._fragmentCode.replace(s,n)},clone:function(){var t=g[this._shaderID],e=new b(t.vertex,t.fragment);return e}},Object.defineProperty&&(Object.defineProperty(b.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(b.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(b.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(b.prototype,"uniforms",{get:function(){return this._uniformList}}));var w=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;b.parseImport=function(t){return t=t.replace(w,function(t,e,n){t=b.source(n);return t?b.parseImport(t):(console.error('Shader chunk "'+n+'" not existed in library'),"")}),t};var T=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;b["import"]=function(t){t.replace(T,function(t,e,n,r){r=r.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(r){var i,a=n.split("."),o=b.codes,s=0;while(s<a.length-1)i=a[s++],o[i]||(o[i]={}),o=o[i];i=a[s],o[i]=r}return r})},b.codes={},b.source=function(t){var e=t.split("."),n=b.codes,r=0;while(n&&r<e.length){var i=e[r++];n=n[i]}return"string"!==typeof n?(console.error('Shader "'+t+'" not existed in library'),""):n},e["a"]=b},function(t,e,n){"use strict";var r=n(21),i=n(12),a=n(55),o=n(34),s=n(3),u=function(){this._axisX=new s["a"],this._axisY=new s["a"],this._axisZ=new s["a"],this.array=r["a"].create(),this._dirty=!0};u.prototype={constructor:u,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return r["a"].adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new u).copy(this)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return r["a"].determinant(this.array)},fromQuat:function(t){return r["a"].fromQuat(this.array,t.array),this._dirty=!0,this},fromRotationTranslation:function(t,e){return r["a"].fromRotationTranslation(this.array,t.array,e.array),this._dirty=!0,this},fromMat2d:function(t){return u.fromMat2d(this,t),this},frustum:function(t,e,n,i,a,o){return r["a"].frustum(this.array,t,e,n,i,a,o),this._dirty=!0,this},identity:function(){return r["a"].identity(this.array),this._dirty=!0,this},invert:function(){return r["a"].invert(this.array,this.array),this._dirty=!0,this},lookAt:function(t,e,n){return r["a"].lookAt(this.array,t.array,e.array,n.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r["a"].mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},ortho:function(t,e,n,i,a,o){return r["a"].ortho(this.array,t,e,n,i,a,o),this._dirty=!0,this},perspective:function(t,e,n,i){return r["a"].perspective(this.array,t,e,n,i),this._dirty=!0,this},rotate:function(t,e){return r["a"].rotate(this.array,this.array,t,e.array),this._dirty=!0,this},rotateX:function(t){return r["a"].rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return r["a"].rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return r["a"].rotateZ(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return r["a"].translate(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return r["a"].transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var t=i["a"].create(),e=i["a"].create(),n=i["a"].create(),r=o["a"].create();return function(s,u,l){var c=this.array;i["a"].set(t,c[0],c[1],c[2]),i["a"].set(e,c[4],c[5],c[6]),i["a"].set(n,c[8],c[9],c[10]);var h=i["a"].length(t),f=i["a"].length(e),d=i["a"].length(n),p=this.determinant();p<0&&(h=-h),s&&s.set(h,f,d),l.set(c[12],c[13],c[14]),o["a"].fromMat4(r,c),r[0]/=h,r[1]/=h,r[2]/=h,r[3]/=f,r[4]/=f,r[5]/=f,r[6]/=d,r[7]/=d,r[8]/=d,a["a"].fromMat3(u.array,r),a["a"].normalize(u.array,u.array),u._dirty=!0,l._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var l=Object.defineProperty;if(l){var c=u.prototype;l(c,"z",{get:function(){var t=this.array;return this._axisZ.set(t[8],t[9],t[10]),this._axisZ},set:function(t){var e=this.array;t=t.array,e[8]=t[0],e[9]=t[1],e[10]=t[2],this._dirty=!0}}),l(c,"y",{get:function(){var t=this.array;return this._axisY.set(t[4],t[5],t[6]),this._axisY},set:function(t){var e=this.array;t=t.array,e[4]=t[0],e[5]=t[1],e[6]=t[2],this._dirty=!0}}),l(c,"x",{get:function(){var t=this.array;return this._axisX.set(t[0],t[1],t[2]),this._axisX},set:function(t){var e=this.array;t=t.array,e[0]=t[0],e[1]=t[1],e[2]=t[2],this._dirty=!0}})}u.adjoint=function(t,e){return r["a"].adjoint(t.array,e.array),t._dirty=!0,t},u.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},u.determinant=function(t){return r["a"].determinant(t.array)},u.identity=function(t){return r["a"].identity(t.array),t._dirty=!0,t},u.ortho=function(t,e,n,i,a,o,s){return r["a"].ortho(t.array,e,n,i,a,o,s),t._dirty=!0,t},u.perspective=function(t,e,n,i,a){return r["a"].perspective(t.array,e,n,i,a),t._dirty=!0,t},u.lookAt=function(t,e,n,i){return r["a"].lookAt(t.array,e.array,n.array,i.array),t._dirty=!0,t},u.invert=function(t,e){return r["a"].invert(t.array,e.array),t._dirty=!0,t},u.mul=function(t,e,n){return r["a"].mul(t.array,e.array,n.array),t._dirty=!0,t},u.multiply=u.mul,u.fromQuat=function(t,e){return r["a"].fromQuat(t.array,e.array),t._dirty=!0,t},u.fromRotationTranslation=function(t,e,n){return r["a"].fromRotationTranslation(t.array,e.array,n.array),t._dirty=!0,t},u.fromMat2d=function(t,e){t._dirty=!0;e=e.array,t=t.array;return t[0]=e[0],t[4]=e[2],t[12]=e[4],t[1]=e[1],t[5]=e[3],t[13]=e[5],t},u.rotate=function(t,e,n,i){return r["a"].rotate(t.array,e.array,n,i.array),t._dirty=!0,t},u.rotateX=function(t,e,n){return r["a"].rotateX(t.array,e.array,n),t._dirty=!0,t},u.rotateY=function(t,e,n){return r["a"].rotateY(t.array,e.array,n),t._dirty=!0,t},u.rotateZ=function(t,e,n){return r["a"].rotateZ(t.array,e.array,n),t._dirty=!0,t},u.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n.array),t._dirty=!0,t},u.transpose=function(t,e){return r["a"].transpose(t.array,e.array),t._dirty=!0,t},u.translate=function(t,e,n){return r["a"].translate(t.array,e.array,n.array),t._dirty=!0,t},e["a"]=u},function(t,e,n){"use strict";var r=n(7),i=n(4),a=(n(27),n(11)),o=n(57),s="framebuffer",u="renderbuffer",l=u+"_width",c=u+"_height",h=u+"_attached",f="depthtexture_attached",d=a["a"].FRAMEBUFFER,p=a["a"].RENDERBUFFER,m=a["a"].DEPTH_ATTACHMENT,g=a["a"].COLOR_ATTACHMENT0,v=r["a"].extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new o["a"],this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(t){if(t.__currentFrameBuffer){if(t.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}t.__currentFrameBuffer=this;var e=t.gl;e.bindFramebuffer(d,this._getFrameBufferGL(t)),this._boundRenderer=t;var n=this._cache;n.put("viewport",t.viewport);var r,i,a=!1;for(var o in this._textures){a=!0;var s=this._textures[o];s&&(r=s.texture.width,i=s.texture.height,this._doAttach(t,s.texture,o,s.target))}this._width=r,this._height=i,!a&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?t.setViewport(this.viewport):t.setViewport(0,0,r,i,1);var g=n.get("attached_textures");if(g)for(var o in g)if(!this._textures[o]){var v=g[o];this._doDetach(e,o,v)}if(!n.get(f)&&this.depthBuffer){n.miss(u)&&n.put(u,e.createRenderbuffer());var _=n.get(u);r===n.get(l)&&i===n.get(c)||(e.bindRenderbuffer(p,_),e.renderbufferStorage(p,e.DEPTH_COMPONENT16,r,i),n.put(l,r),n.put(c,i),e.bindRenderbuffer(p,null)),n.get(h)||(e.framebufferRenderbuffer(d,m,p,_),n.put(h,!0))}},unbind:function(t){t.__currentFrameBuffer=null;var e=t.gl;e.bindFramebuffer(d,null),this._boundRenderer=null,this._cache.use(t.__uid__);var n=this._cache.get("viewport");n&&t.setViewport(n),this.updateMipmap(t)},updateMipmap:function(t){var e=t.gl;for(var n in this._textures){var r=this._textures[n];if(r){var o=r.texture;if(!o.NPOT&&o.useMipmap&&o.minFilter===i["a"].LINEAR_MIPMAP_LINEAR){var s="textureCube"===o.textureType?a["a"].TEXTURE_CUBE_MAP:a["a"].TEXTURE_2D;e.bindTexture(s,o.getWebGLTexture(t)),e.generateMipmap(s),e.bindTexture(s,null)}}}},checkStatus:function(t){return t.checkFramebufferStatus(d)},_getFrameBufferGL:function(t){var e=this._cache;return e.use(t.__uid__),e.miss(s)&&e.put(s,t.gl.createFramebuffer()),e.get(s)},attach:function(t,e,n){if(!t.width)throw new Error("The texture attached to color buffer is not a valid.");e=e||g,n=n||a["a"].TEXTURE_2D;var r,i=this._boundRenderer,o=i&&i.gl;if(o){var s=this._cache;s.use(i.__uid__),r=s.get("attached_textures")}var u=this._textures[e];if(!u||u.target!==n||u.texture!==t||!r||null==r[e]){var l=!0;i&&(l=this._doAttach(i,t,e,n),this.viewport||i.setViewport(0,0,t.width,t.height,1)),l&&(this._textures[e]=this._textures[e]||{},this._textures[e].texture=t,this._textures[e].target=n)}},_doAttach:function(t,e,n,r){var i=t.gl,o=e.getWebGLTexture(t),s=this._cache.get("attached_textures");if(s&&s[n]){var l=s[n];if(l.texture===e&&l.target===r)return}n=+n;var c=!0;if(n===m||n===a["a"].DEPTH_STENCIL_ATTACHMENT){var g=t.getGLExtension("WEBGL_depth_texture");if(g||(console.error("Depth texture is not supported by the browser"),c=!1),e.format!==a["a"].DEPTH_COMPONENT&&e.format!==a["a"].DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),c=!1),c){var v=this._cache.get(u);v&&(i.framebufferRenderbuffer(d,m,p,null),i.deleteRenderbuffer(v),this._cache.put(u,!1)),this._cache.put(h,!1),this._cache.put(f,!0)}}return i.framebufferTexture2D(d,n,r,o,0),s||(s={},this._cache.put("attached_textures",s)),s[n]=s[n]||{},s[n].texture=e,s[n].target=r,c},_doDetach:function(t,e,n){t.framebufferTexture2D(d,e,n,null,0);var r=this._cache.get("attached_textures");r&&r[e]&&(r[e]=null),e!==m&&e!==a["a"].DEPTH_STENCIL_ATTACHMENT||this._cache.put(f,!1)},detach:function(t,e){if(this._textures[t]=null,this._boundRenderer){var n=this._cache;n.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,t,e)}},dispose:function(t){var e=t.gl,n=this._cache;n.use(t.__uid__);var r=n.get(u);r&&e.deleteRenderbuffer(r);var i=n.get(s);i&&e.deleteFramebuffer(i),n.deleteContext(t.__uid__),this._textures={}}});v.DEPTH_ATTACHMENT=m,v.COLOR_ATTACHMENT0=g,v.STENCIL_ATTACHMENT=a["a"].STENCIL_ATTACHMENT,v.DEPTH_STENCIL_ATTACHMENT=a["a"].DEPTH_STENCIL_ATTACHMENT,e["a"]=v},function(t,e,n){"use strict";e["a"]={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444}},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](3);return t[0]=0,t[1]=0,t[2]=0,t},clone:function(t){var e=new r["a"](3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},fromValues:function(t,e,n){var i=new r["a"](3);return i[0]=t,i[1]=e,i[2]=n,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},set:function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}};i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.div=i.divide,i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2];return t[0]=i*u-a*s,t[1]=a*o-r*u,t[2]=r*s-i*o,t},i.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t},i.random=function(t,e){e=e||1;var n=2*Object(r["c"])()*Math.PI,i=2*Object(r["c"])()-1,a=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=i*e,t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*a-u*i,h=l*i+u*r-o*a,f=l*a+o*i-s*r,d=-o*r-s*i-u*a;return t[0]=c*l+d*-o+h*-u-f*-s,t[1]=h*l+d*-s+f*-o-c*-u,t[2]=f*l+d*-u+c*-s-h*-o,t},i.rotateX=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},i.rotateY=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},i.rotateZ=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,a,o){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),i.angle=function(t,e){var n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(e[0],e[1],e[2]);i.normalize(n,n),i.normalize(r,r);var a=i.dot(n,r);return a>1?0:Math.acos(a)},e["a"]=i},function(t,e){var n={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},r={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},i=Object.prototype.toString,a=Array.prototype,o=a.forEach,s=a.filter,u=a.slice,l=a.map,c=a.reduce,h={};function f(t,e){"createCanvas"===t&&(_=null),h[t]=e}function d(t){if(null==t||"object"!=typeof t)return t;var e=t,a=i.call(t);if("[object Array]"===a){if(!Z(t)){e=[];for(var o=0,s=t.length;o<s;o++)e[o]=d(t[o])}}else if(r[a]){if(!Z(t)){var u=t.constructor;if(t.constructor.from)e=u.from(t);else{e=new u(t.length);for(o=0,s=t.length;o<s;o++)e[o]=d(t[o])}}}else if(!n[a]&&!Z(t)&&!B(t))for(var l in e={},t)t.hasOwnProperty(l)&&(e[l]=d(t[l]));return e}function p(t,e,n){if(!N(e)||!N(t))return n?d(e):t;for(var r in e)if(e.hasOwnProperty(r)){var i=t[r],a=e[r];!N(a)||!N(i)||I(a)||I(i)||B(a)||B(i)||k(a)||k(i)||Z(a)||Z(i)?!n&&r in t||(t[r]=d(e[r],!0)):p(i,a,n)}return t}function m(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=p(n,t[r],e);return n}function g(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function v(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}var _,y=function(){return h.createCanvas()};function x(){return _||(_=y().getContext("2d")),_}function b(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function w(t,e){var n=t.prototype;function r(){}for(var i in r.prototype=e.prototype,t.prototype=new r,n)t.prototype[i]=n[i];t.prototype.constructor=t,t.superClass=e}function T(t,e,n){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,v(t,e,n)}function S(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function E(t,e,n){if(t&&e)if(t.forEach&&t.forEach===o)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function M(t,e,n){if(t&&e){if(t.map&&t.map===l)return t.map(e,n);for(var r=[],i=0,a=t.length;i<a;i++)r.push(e.call(n,t[i],i,t));return r}}function A(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===c)return t.reduce(e,n,r);for(var i=0,a=t.length;i<a;i++)n=e.call(r,n,t[i],i,t);return n}}function C(t,e,n){if(t&&e){if(t.filter&&t.filter===s)return t.filter(e,n);for(var r=[],i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}}function O(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}function D(t,e){var n=u.call(arguments,2);return function(){return t.apply(e,n.concat(u.call(arguments)))}}function L(t){var e=u.call(arguments,1);return function(){return t.apply(this,e.concat(u.call(arguments)))}}function I(t){return"[object Array]"===i.call(t)}function P(t){return"function"===typeof t}function R(t){return"[object String]"===i.call(t)}function N(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function k(t){return!!n[i.call(t)]}function F(t){return!!r[i.call(t)]}function B(t){return"object"===typeof t&&"number"===typeof t.nodeType&&"object"===typeof t.ownerDocument}function z(t){return t!==t}function U(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]}function G(t,e){return null!=t?t:e}function j(t,e,n){return null!=t?t:null!=e?e:n}function H(){return Function.call.apply(u,arguments)}function V(t){if("number"===typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function W(t,e){if(!t)throw new Error(e)}function X(t){return null==t?null:"function"===typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}h.createCanvas=function(){return document.createElement("canvas")};var q="__ec_primitive__";function Y(t){t[q]=!0}function Z(t){return t[q]}function K(t){var e=I(t),n=this;function r(t,r){e?n.set(t,r):n.set(r,t)}t instanceof K?t.each(r):t&&E(t,r)}function $(t){return new K(t)}function J(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n}function Q(){}K.prototype={constructor:K,get:function(t){return this.hasOwnProperty(t)?this[t]:null},set:function(t,e){return this[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=D(t,e)),this)this.hasOwnProperty(n)&&t(this[n],n)},removeKey:function(t){delete this[t]}},e.$override=f,e.clone=d,e.merge=p,e.mergeAll=m,e.extend=g,e.defaults=v,e.createCanvas=y,e.getContext=x,e.indexOf=b,e.inherits=w,e.mixin=T,e.isArrayLike=S,e.each=E,e.map=M,e.reduce=A,e.filter=C,e.find=O,e.bind=D,e.curry=L,e.isArray=I,e.isFunction=P,e.isString=R,e.isObject=N,e.isBuiltInObject=k,e.isTypedArray=F,e.isDom=B,e.eqNaN=z,e.retrieve=U,e.retrieve2=G,e.retrieve3=j,e.slice=H,e.normalizeCssArray=V,e.assert=W,e.trim=X,e.setAsPrimitive=Y,e.isPrimitive=Z,e.createHashMap=$,e.concatArray=J,e.noop=Q},function(t,e,n){"use strict";(function(t){var r,i=n(112),a={supportWebGL:function(){if(null==r)try{var t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");if(!e)throw new Error}catch(n){r=!1}return r}};a.Int8Array="undefined"===typeof Int8Array?Array:Int8Array,a.Uint8Array="undefined"===typeof Uint8Array?Array:Uint8Array,a.Uint16Array="undefined"===typeof Uint16Array?Array:Uint16Array,a.Uint32Array="undefined"===typeof Uint32Array?Array:Uint32Array,a.Int16Array="undefined"===typeof Int16Array?Array:Int16Array,a.Float32Array="undefined"===typeof Float32Array?Array:Float32Array,a.Float64Array="undefined"===typeof Float64Array?Array:Float64Array;var o={};"undefined"!==typeof window?o=window:"undefined"!==typeof t&&(o=t),a.requestAnimationFrame=o.requestAnimationFrame||o.msRequestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},a.createCanvas=function(){return document.createElement("canvas")},a.createImage=function(){return new o.Image},a.request={get:i["a"].get},e["a"]=a}).call(e,n(68))},function(t,e,n){"use strict";var r=n(14),i=n(12),a=n(21),o=n(18),s=n(118),u=i["a"].create,l=i["a"].add,c=i["a"].set,h=s["a"].Attribute,f=s["a"].extend(function(){return{attributes:{position:new h("position","float",3,"POSITION"),texcoord0:new h("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new h("texcoord1","float",2,"TEXCOORD_1"),normal:new h("normal","float",3,"NORMAL"),tangent:new h("tangent","float",4,"TANGENT"),color:new h("color","float",4,"COLOR"),weight:new h("weight","float",3,"WEIGHT"),joint:new h("joint","float",4,"JOINT"),barycentric:new h("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var t=this.boundingBox;t||(t=this.boundingBox=new o["a"]);var e=this.attributes.position.value;if(e&&e.length){var n=t.min,r=t.max,a=n.array,s=r.array;i["a"].set(a,e[0],e[1],e[2]),i["a"].set(s,e[0],e[1],e[2]);for(var u=3;u<e.length;){var l=e[u++],c=e[u++],h=e[u++];l<a[0]&&(a[0]=l),c<a[1]&&(a[1]=c),h<a[2]&&(a[2]=h),l>s[0]&&(s[0]=l),c>s[1]&&(s[1]=c),h>s[2]&&(s[2]=h)}n._dirty=!0,r._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var t=this.indices,e=this.attributes,n=e.position.value,a=e.normal.value;if(a&&a.length===n.length)for(var o=0;o<a.length;o++)a[o]=0;else a=e.normal.value=new r["a"].Float32Array(n.length);for(var s,l,h,f=u(),d=u(),p=u(),m=u(),g=u(),v=u(),_=t?t.length:this.vertexCount,y=0;y<_;){t?(s=t[y++],l=t[y++],h=t[y++]):(s=y++,l=y++,h=y++),c(f,n[3*s],n[3*s+1],n[3*s+2]),c(d,n[3*l],n[3*l+1],n[3*l+2]),c(p,n[3*h],n[3*h+1],n[3*h+2]),i["a"].sub(m,f,d),i["a"].sub(g,d,p),i["a"].cross(v,m,g);for(o=0;o<3;o++)a[3*s+o]=a[3*s+o]+v[o],a[3*l+o]=a[3*l+o]+v[o],a[3*h+o]=a[3*h+o]+v[o]}for(o=0;o<a.length;)c(v,a[o],a[o+1],a[o+2]),i["a"].normalize(v,v),a[o++]=v[0],a[o++]=v[1],a[o++]=v[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.indices,e=this.attributes,n=e.position.value,r=e.normal.value,a=u(),o=u(),s=u(),l=u(),h=u(),f=u();r||(r=e.normal.value=new Float32Array(n.length));for(var d,p,m,g=t?t.length:this.vertexCount,v=0;v<g;){t?(d=t[v++],p=t[v++],m=t[v++]):(d=v++,p=v++,m=v++),c(a,n[3*d],n[3*d+1],n[3*d+2]),c(o,n[3*p],n[3*p+1],n[3*p+2]),c(s,n[3*m],n[3*m+1],n[3*m+2]),i["a"].sub(l,a,o),i["a"].sub(h,o,s),i["a"].cross(f,l,h),i["a"].normalize(f,f);for(var _=0;_<3;_++)r[3*d+_]=f[_],r[3*p+_]=f[_],r[3*m+_]=f[_]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var t=this.vertexCount,e=this.attributes;e.tangent.value||(e.tangent.value=new Float32Array(4*t));var n=e.texcoord0.value,r=e.position.value,a=e.tangent.value,o=e.normal.value;if(n){for(var s=[],c=[],h=0;h<t;h++)s[h]=[0,0,0],c[h]=[0,0,0];var f,d,p,m=[0,0,0],g=[0,0,0],v=this.indices,_=v?v.length:this.vertexCount;for(h=0;h<_;){v?(f=v[h++],d=v[h++],p=v[h++]):(f=h++,d=h++,p=h++);var y=n[2*f],x=n[2*d],b=n[2*p],w=n[2*f+1],T=n[2*d+1],S=n[2*p+1],E=r[3*f],M=r[3*d],A=r[3*p],C=r[3*f+1],O=r[3*d+1],D=r[3*p+1],L=r[3*f+2],I=r[3*d+2],P=r[3*p+2],R=M-E,N=A-E,k=O-C,F=D-C,B=I-L,z=P-L,U=x-y,G=b-y,j=T-w,H=S-w,V=1/(U*H-j*G);m[0]=(H*R-j*N)*V,m[1]=(H*k-j*F)*V,m[2]=(H*B-j*z)*V,g[0]=(U*N-G*R)*V,g[1]=(U*F-G*k)*V,g[2]=(U*z-G*B)*V,l(s[f],s[f],m),l(s[d],s[d],m),l(s[p],s[p],m),l(c[f],c[f],g),l(c[d],c[d],g),l(c[p],c[p],g)}var W=u(),X=u(),q=u();for(h=0;h<t;h++){q[0]=o[3*h],q[1]=o[3*h+1],q[2]=o[3*h+2];var Y=s[h];i["a"].scale(W,q,i["a"].dot(q,Y)),i["a"].sub(W,Y,W),i["a"].normalize(W,W),i["a"].cross(X,q,Y),a[4*h]=W[0],a[4*h+1]=W[1],a[4*h+2]=W[2],a[4*h+3]=i["a"].dot(X,c[h])<0?-1:1}this.dirty()}else console.warn("Geometry without texcoords can't generate tangents.")}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new r["a"].Uint32Array(this.indices));for(var t=this.attributes,e=this.indices,n=this.getEnabledAttributes(),i={},a=0;a<n.length;a++){var o=n[a];i[o]=t[o].value,t[o].init(this.indices.length)}for(var s=0,u=0;u<e.length;u++){var l=e[u];for(a=0;a<n.length;a++){o=n[a];for(var c=t[o].value,h=t[o].size,f=0;f<h;f++)c[s*h+f]=i[o][l*h+f]}e[u]=s,s++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.attributes,e=t.barycentric.value,n=this.indices;if(!e||e.length!==3*n.length){e=t.barycentric.value=new Float32Array(3*n.length);for(var r=0;r<(n?n.length:this.vertexCount/3);)for(var i=0;i<3;i++){var a=n?n[r++]:3*r+i;e[3*a+i]=1}this.dirty()}}},applyTransform:function(t){var e=this.attributes,n=e.position.value,r=e.normal.value,o=e.tangent.value;t=t.array;var s=a["a"].create();a["a"].invert(s,t),a["a"].transpose(s,s);var u=i["a"].transformMat4,l=i["a"].forEach;l(n,3,0,null,u,t),r&&l(r,3,0,null,u,s),o&&l(o,4,0,null,u,s),this.boundingBox&&this.updateBoundingBox()},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];t.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&t.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&s.deleteVertexArrayOES(l)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});f.STATIC_DRAW=s["a"].STATIC_DRAW,f.DYNAMIC_DRAW=s["a"].DYNAMIC_DRAW,f.STREAM_DRAW=s["a"].STREAM_DRAW,f.AttributeBuffer=s["a"].AttributeBuffer,f.IndicesBuffer=s["a"].IndicesBuffer,f.Attribute=h,e["a"]=f},function(t,e,n){"use strict";var r=n(7),i=n(37),a=n(43),o=n(8),s=n(19),u=n(40),l=n(11),c=n(126);o["a"]["import"](c["a"]);var h=new a["a"],f=new u["a"]({geometry:h,frustumCulling:!1}),d=new i["a"],p=r["a"].extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var t=new o["a"](o["a"].source("clay.compositor.vertex"),this.fragment),e=new s["a"]({shader:t});e.enableTexturesAll(),this.material=e},{setUniform:function(t,e){this.material.setUniform(t,e)},getUniform:function(t){var e=this.material.uniforms[t];if(e)return e.value},attachOutput:function(t,e){this.outputs||(this.outputs={}),e=e||l["a"].COLOR_ATTACHMENT0,this.outputs[e]=t},detachOutput:function(t){for(var e in this.outputs)this.outputs[e]===t&&(this.outputs[e]=null)},bind:function(t,e){if(this.outputs)for(var n in this.outputs){var r=this.outputs[n];r&&e.attach(r,n)}e&&e.bind(t)},unbind:function(t,e){e.unbind(t)},render:function(t,e){var n=t.gl;if(e){this.bind(t,e);var r=t.getGLExtension("EXT_draw_buffers");if(r&&this.outputs){var i=[];for(var a in this.outputs)a=+a,a>=n.COLOR_ATTACHMENT0&&a<=n.COLOR_ATTACHMENT0+8&&i.push(a);r.drawBuffersEXT(i)}}this.trigger("beforerender",this,t);var o=this.clearDepth?n.DEPTH_BUFFER_BIT:0;if(n.depthMask(!0),this.clearColor){o|=n.COLOR_BUFFER_BIT,n.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&n.clearColor(s[0],s[1],s[2],s[3])}n.clear(o),this.blendWithPrevious?(n.enable(n.BLEND),this.material.transparent=!0):(n.disable(n.BLEND),this.material.transparent=!1),this.renderQuad(t),this.trigger("afterrender",this,t),e&&this.unbind(t,e)},renderQuad:function(t){f.material=this.material,t.renderPass([f],d)},dispose:function(t){}});e["a"]=p},function(t,e,n){"use strict";e["a"]=function(t,e,n){return{seriesType:t,reset:function(t,e){var n=t.getData(),r=t.visualColorAccessPath.split(".");r[r.length-1]="opacity";var i=t.get(r);function a(t,e){var n=t.getItemModel(e),i=n.get(r,!0);null!=i&&t.setItemVisual(e,"opacity",i)}return n.setVisual("opacity",null==i?1:i),{dataEach:n.hasItemOption?a:null}}}}},function(t,e,n){"use strict";var r=n(3),i=n(12),a=i["a"].set,o=i["a"].copy,s=function(t,e){this.min=t||new r["a"](1/0,1/0,1/0),this.max=e||new r["a"](-1/0,-1/0,-1/0),this.vertices=null};s.prototype={constructor:s,updateFromVertices:function(t){if(t.length>0){var e=this.min,n=this.max,r=e.array,i=n.array;o(r,t[0]),o(i,t[0]);for(var a=1;a<t.length;a++){var s=t[a];s[0]<r[0]&&(r[0]=s[0]),s[1]<r[1]&&(r[1]=s[1]),s[2]<r[2]&&(r[2]=s[2]),s[0]>i[0]&&(i[0]=s[0]),s[1]>i[1]&&(i[1]=s[1]),s[2]>i[2]&&(i[2]=s[2])}e._dirty=!0,n._dirty=!0}},union:function(t){var e=this.min,n=this.max;return i["a"].min(e.array,e.array,t.min.array),i["a"].max(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersection:function(t){var e=this.min,n=this.max;return i["a"].max(e.array,e.array,t.min.array),i["a"].min(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersectBoundingBox:function(t){var e=this.min.array,n=this.max.array,r=t.min.array,i=t.max.array;return!(e[0]>i[0]||e[1]>i[1]||e[2]>i[2]||n[0]<r[0]||n[1]<r[1]||n[2]<r[2])},containBoundingBox:function(t){var e=this.min.array,n=this.max.array,r=t.min.array,i=t.max.array;return e[0]<=r[0]&&e[1]<=r[1]&&e[2]<=r[2]&&n[0]>=i[0]&&n[1]>=i[1]&&n[2]>=i[2]},containPoint:function(t){var e=this.min.array,n=this.max.array,r=t.array;return e[0]<=r[0]&&e[1]<=r[1]&&e[2]<=r[2]&&n[0]>=r[0]&&n[1]>=r[1]&&n[2]>=r[2]},isFinite:function(){var t=this.min.array,e=this.max.array;return isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])&&isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])},applyTransform:function(t){this.transformFrom(this,t)},transformFrom:function(){var t=i["a"].create(),e=i["a"].create(),n=i["a"].create(),r=i["a"].create(),a=i["a"].create(),o=i["a"].create();return function(i,s){var u=i.min.array,l=i.max.array,c=s.array;return t[0]=c[0]*u[0],t[1]=c[1]*u[0],t[2]=c[2]*u[0],e[0]=c[0]*l[0],e[1]=c[1]*l[0],e[2]=c[2]*l[0],n[0]=c[4]*u[1],n[1]=c[5]*u[1],n[2]=c[6]*u[1],r[0]=c[4]*l[1],r[1]=c[5]*l[1],r[2]=c[6]*l[1],a[0]=c[8]*u[2],a[1]=c[9]*u[2],a[2]=c[10]*u[2],o[0]=c[8]*l[2],o[1]=c[9]*l[2],o[2]=c[10]*l[2],u=this.min.array,l=this.max.array,u[0]=Math.min(t[0],e[0])+Math.min(n[0],r[0])+Math.min(a[0],o[0])+c[12],u[1]=Math.min(t[1],e[1])+Math.min(n[1],r[1])+Math.min(a[1],o[1])+c[13],u[2]=Math.min(t[2],e[2])+Math.min(n[2],r[2])+Math.min(a[2],o[2])+c[14],l[0]=Math.max(t[0],e[0])+Math.max(n[0],r[0])+Math.max(a[0],o[0])+c[12],l[1]=Math.max(t[1],e[1])+Math.max(n[1],r[1])+Math.max(a[1],o[1])+c[13],l[2]=Math.max(t[2],e[2])+Math.max(n[2],r[2])+Math.max(a[2],o[2])+c[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(t){var e=this.min.array,n=this.max.array,r=t.array,i=e[0],a=e[1],o=e[2],s=n[0],u=n[1],l=e[2],c=n[0],h=n[1],f=n[2];if(1===r[15])e[0]=r[0]*i+r[12],e[1]=r[5]*a+r[13],n[2]=r[10]*o+r[14],n[0]=r[0]*c+r[12],n[1]=r[5]*h+r[13],e[2]=r[10]*f+r[14];else{var d=-1/o;e[0]=r[0]*i*d,e[1]=r[5]*a*d,n[2]=(r[10]*o+r[14])*d,d=-1/l,n[0]=r[0]*s*d,n[1]=r[5]*u*d,d=-1/f,e[2]=(r[10]*f+r[14])*d}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var t=this.vertices;if(!t){t=[];for(var e=0;e<8;e++)t[e]=i["a"].fromValues(0,0,0);this.vertices=t}var n=this.min.array,r=this.max.array;return a(t[0],n[0],n[1],n[2]),a(t[1],n[0],r[1],n[2]),a(t[2],r[0],n[1],n[2]),a(t[3],r[0],r[1],n[2]),a(t[4],n[0],n[1],r[2]),a(t[5],n[0],r[1],r[2]),a(t[6],r[0],n[1],r[2]),a(t[7],r[0],r[1],r[2]),this},copy:function(t){var e=this.min,n=this.max;return o(e.array,t.min.array),o(n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},clone:function(){var t=new s;return t.copy(this),t}},e["a"]=s},function(t,e,n){"use strict";var r=n(7),i=n(23),a=n(113),o=a["a"].parseToFloat,s={};function u(t){var e=Object.keys(t);e.sort();for(var n=[],r=0;r<e.length;r++){var i=e[r],a=t[i];null===a?n.push(i):n.push(i+" "+a.toString())}return n.join("\n")}function l(t,e,n){n.sort();for(var r=[],a=0;a<n.length;a++){var o=n[a];r.push(o)}var l=u(t)+"\n"+u(e)+"\n"+r.join("\n");if(s[l])return s[l];var c=i["a"].genGUID();return s[l]=c,c}var c=r["a"].extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(t,e){void 0===e&&console.warn('Uniform value "'+t+'" is undefined');var n=this.uniforms[t];n&&("string"===typeof e&&(e=o(e)||e),n.value=e,this.autoUpdateTextureStatus&&"t"===n.type&&(e?this.enableTexture(t):this.disableTexture(t)))},setUniforms:function(t){for(var e in t){var n=t[e];this.setUniform(e,n)}},isUniformEnabled:function(t){return this._enabledUniforms.indexOf(t)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(t,e){if("object"===typeof t)for(var n in t){var r=t[n];this.setUniform(n,r)}else this.setUniform(t,e)},get:function(t){var e=this.uniforms[t];if(e)return e.value},attachShader:function(t,e){var n=this.uniforms;this.uniforms=t.createUniforms(),this.shader=t;var r=this.uniforms;this._enabledUniforms=Object.keys(r),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(t){var e=this.uniforms[t].type;return"t"===e||"tv"===e},this);var a=this.vertexDefines,o=this.fragmentDefines;if(this.vertexDefines=i["a"].clone(t.vertexDefines),this.fragmentDefines=i["a"].clone(t.fragmentDefines),e){for(var s in n)r[s]&&(r[s].value=n[s].value);i["a"].defaults(this.vertexDefines,a),i["a"].defaults(this.fragmentDefines,o)}var u={};for(var l in t.textures)u[l]={shaderType:t.textures[l].shaderType,type:t.textures[l].type,enabled:!(!e||!this._textureStatus[l])&&this._textureStatus[l].enabled};this._textureStatus=u,this._programKey=""},clone:function(){var t=new this.constructor({name:this.name,shader:this.shader});for(var e in this.uniforms)t.uniforms[e].value=this.uniforms[e].value;return t.depthTest=this.depthTest,t.depthMask=this.depthMask,t.transparent=this.transparent,t.blend=this.blend,t.vertexDefines=i["a"].clone(this.vertexDefines),t.fragmentDefines=i["a"].clone(this.fragmentDefines),t.enableTexture(this.getEnabledTextures()),t.precision=this.precision,t},define:function(t,e,n){var r=this.vertexDefines,i=this.fragmentDefines;"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<3&&(n=e,e=t,t="both"),n=null!=n?n:null,"vertex"!==t&&"both"!==t||r[e]!==n&&(r[e]=n,this._programKey=""),"fragment"!==t&&"both"!==t||i[e]!==n&&(i[e]=n,"both"!==t&&(this._programKey=""))},undefine:function(t,e){"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<2&&(e=t,t="both"),"vertex"!==t&&"both"!==t||this.isDefined("vertex",e)&&(delete this.vertexDefines[e],this._programKey=""),"fragment"!==t&&"both"!==t||this.isDefined("fragment",e)&&(delete this.fragmentDefines[e],"both"!==t&&(this._programKey=""))},isDefined:function(t,e){switch(t){case"vertex":return void 0!==this.vertexDefines[e];case"fragment":return void 0!==this.fragmentDefines[e]}},getDefine:function(t,e){switch(t){case"vertex":return this.vertexDefines[e];case"fragment":return this.fragmentDefines[e]}},enableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.enableTexture(t[e]);else{var n=this._textureStatus[t];if(n){var r=n.enabled;r||(n.enabled=!0,this._programKey="")}}},enableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!0;this._programKey=""},disableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.disableTexture(t[e]);else{var n=this._textureStatus[t];if(n){var r=!n.enabled;r||(n.enabled=!1,this._programKey="")}}},disableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!1;this._programKey=""},isTextureEnabled:function(t){var e=this._textureStatus;return!!e[t]&&e[t].enabled},getEnabledTextures:function(){var t=[],e=this._textureStatus;for(var n in e)e[n].enabled&&t.push(n);return t},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=l(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});e["a"]=c},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return a});var r=1e-6,i=Array,a=Math.random},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:function(t){var e=new r["a"](16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],_=n*s-r*o,y=n*u-i*o,x=n*l-a*o,b=r*u-i*s,w=r*l-a*s,T=i*l-a*u,S=c*m-h*p,E=c*g-f*p,M=c*v-d*p,A=h*g-f*m,C=h*v-d*m,O=f*v-d*g,D=_*O-y*C+x*A+b*M-w*E+T*S;return D?(D=1/D,t[0]=(s*O-u*C+l*A)*D,t[1]=(i*C-r*O-a*A)*D,t[2]=(m*T-g*w+v*b)*D,t[3]=(f*w-h*T-d*b)*D,t[4]=(u*M-o*O-l*E)*D,t[5]=(n*O-i*M+a*E)*D,t[6]=(g*x-p*T-v*y)*D,t[7]=(c*T-f*x+d*y)*D,t[8]=(o*C-s*M+l*S)*D,t[9]=(r*M-n*C-a*S)*D,t[10]=(p*w-m*x+v*_)*D,t[11]=(h*x-c*w-d*_)*D,t[12]=(s*E-o*A-u*S)*D,t[13]=(n*A-r*E+i*S)*D,t[14]=(m*y-p*b-g*_)*D,t[15]=(c*b-h*y+f*_)*D,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15];return t[0]=s*(f*v-d*g)-h*(u*v-l*g)+m*(u*d-l*f),t[1]=-(r*(f*v-d*g)-h*(i*v-a*g)+m*(i*d-a*f)),t[2]=r*(u*v-l*g)-s*(i*v-a*g)+m*(i*l-a*u),t[3]=-(r*(u*d-l*f)-s*(i*d-a*f)+h*(i*l-a*u)),t[4]=-(o*(f*v-d*g)-c*(u*v-l*g)+p*(u*d-l*f)),t[5]=n*(f*v-d*g)-c*(i*v-a*g)+p*(i*d-a*f),t[6]=-(n*(u*v-l*g)-o*(i*v-a*g)+p*(i*l-a*u)),t[7]=n*(u*d-l*f)-o*(i*d-a*f)+c*(i*l-a*u),t[8]=o*(h*v-d*m)-c*(s*v-l*m)+p*(s*d-l*h),t[9]=-(n*(h*v-d*m)-c*(r*v-a*m)+p*(r*d-a*h)),t[10]=n*(s*v-l*m)-o*(r*v-a*m)+p*(r*l-a*s),t[11]=-(n*(s*d-l*h)-o*(r*d-a*h)+c*(r*l-a*s)),t[12]=-(o*(h*g-f*m)-c*(s*g-u*m)+p*(s*f-u*h)),t[13]=n*(h*g-f*m)-c*(r*g-i*m)+p*(r*f-i*h),t[14]=-(n*(s*g-u*m)-o*(r*g-i*m)+p*(r*u-i*s)),t[15]=n*(s*f-u*h)-o*(r*f-i*h)+c*(r*u-i*s),t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15],v=e*o-n*a,_=e*s-r*a,y=e*u-i*a,x=n*s-r*o,b=n*u-i*o,w=r*u-i*s,T=l*p-c*d,S=l*m-h*d,E=l*g-f*d,M=c*m-h*p,A=c*g-f*p,C=h*g-f*m;return v*C-_*A+y*M+x*E-b*S+w*T},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],m=e[12],g=e[13],v=e[14],_=e[15],y=n[0],x=n[1],b=n[2],w=n[3];return t[0]=y*r+x*s+b*h+w*m,t[1]=y*i+x*u+b*f+w*g,t[2]=y*a+x*l+b*d+w*v,t[3]=y*o+x*c+b*p+w*_,y=n[4],x=n[5],b=n[6],w=n[7],t[4]=y*r+x*s+b*h+w*m,t[5]=y*i+x*u+b*f+w*g,t[6]=y*a+x*l+b*d+w*v,t[7]=y*o+x*c+b*p+w*_,y=n[8],x=n[9],b=n[10],w=n[11],t[8]=y*r+x*s+b*h+w*m,t[9]=y*i+x*u+b*f+w*g,t[10]=y*a+x*l+b*d+w*v,t[11]=y*o+x*c+b*p+w*_,y=n[12],x=n[13],b=n[14],w=n[15],t[12]=y*r+x*s+b*h+w*m,t[13]=y*i+x*u+b*f+w*g,t[14]=y*a+x*l+b*d+w*v,t[15]=y*o+x*c+b*p+w*_,t},multiplyAffine:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[4],s=e[5],u=e[6],l=e[8],c=e[9],h=e[10],f=e[12],d=e[13],p=e[14],m=n[0],g=n[1],v=n[2];return t[0]=m*r+g*o+v*l,t[1]=m*i+g*s+v*c,t[2]=m*a+g*u+v*h,m=n[4],g=n[5],v=n[6],t[4]=m*r+g*o+v*l,t[5]=m*i+g*s+v*c,t[6]=m*a+g*u+v*h,m=n[8],g=n[9],v=n[10],t[8]=m*r+g*o+v*l,t[9]=m*i+g*s+v*c,t[10]=m*a+g*u+v*h,m=n[12],g=n[13],v=n[14],t[12]=m*r+g*o+v*l+f,t[13]=m*i+g*s+v*c+d,t[14]=m*a+g*u+v*h+p,t}};i.mul=i.multiply,i.mulAffine=i.multiplyAffine,i.translate=function(t,e,n){var r,i,a,o,s,u,l,c,h,f,d,p,m=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=d,t[11]=p,t[12]=r*m+s*g+h*v+e[12],t[13]=i*m+u*g+f*v+e[13],t[14]=a*m+l*g+d*v+e[14],t[15]=o*m+c*g+p*v+e[15]),t},i.scale=function(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.rotate=function(t,e,n,i){var a,o,s,u,l,c,h,f,d,p,m,g,v,_,y,x,b,w,T,S,E,M,A,C,O=i[0],D=i[1],L=i[2],I=Math.sqrt(O*O+D*D+L*L);return Math.abs(I)<r["b"]?null:(I=1/I,O*=I,D*=I,L*=I,a=Math.sin(n),o=Math.cos(n),s=1-o,u=e[0],l=e[1],c=e[2],h=e[3],f=e[4],d=e[5],p=e[6],m=e[7],g=e[8],v=e[9],_=e[10],y=e[11],x=O*O*s+o,b=D*O*s+L*a,w=L*O*s-D*a,T=O*D*s-L*a,S=D*D*s+o,E=L*D*s+O*a,M=O*L*s+D*a,A=D*L*s-O*a,C=L*L*s+o,t[0]=u*x+f*b+g*w,t[1]=l*x+d*b+v*w,t[2]=c*x+p*b+_*w,t[3]=h*x+m*b+y*w,t[4]=u*T+f*S+g*E,t[5]=l*T+d*S+v*E,t[6]=c*T+p*S+_*E,t[7]=h*T+m*S+y*E,t[8]=u*M+f*A+g*C,t[9]=l*M+d*A+v*C,t[10]=c*M+p*A+_*C,t[11]=h*M+m*A+y*C,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+l*r,t[5]=o*i+c*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=l*i-a*r,t[9]=c*i-o*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t},i.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-l*r,t[1]=o*i-c*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=a*r+l*i,t[9]=o*r+c*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t},i.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+l*r,t[1]=o*i+c*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=l*i-a*r,t[5]=c*i-o*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t},i.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,u=i+i,l=a+a,c=r*s,h=r*u,f=r*l,d=i*u,p=i*l,m=a*l,g=o*s,v=o*u,_=o*l;return t[0]=1-(d+m),t[1]=h+_,t[2]=f-v,t[3]=0,t[4]=h-_,t[5]=1-(c+m),t[6]=p+g,t[7]=0,t[8]=f+v,t[9]=p-g,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,h=r*s,f=i*o,d=i*s,p=i*u,m=a*o,g=a*s,v=a*u;return t[0]=1-h-p,t[1]=c+v,t[2]=f-g,t[3]=0,t[4]=c-v,t[5]=1-l-p,t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,n,r,i,a,o){var s=1/(n-e),u=1/(i-r),l=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(o+a)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*l,t[15]=0,t},i.perspective=function(t,e,n,r,i){var a=1/Math.tan(e/2),o=1/(r-i);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t},i.ortho=function(t,e,n,r,i,a,o){var s=1/(e-n),u=1/(r-i),l=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(o+a)*l,t[15]=1,t},i.lookAt=function(t,e,n,a){var o,s,u,l,c,h,f,d,p,m,g=e[0],v=e[1],_=e[2],y=a[0],x=a[1],b=a[2],w=n[0],T=n[1],S=n[2];return Math.abs(g-w)<r["b"]&&Math.abs(v-T)<r["b"]&&Math.abs(_-S)<r["b"]?i.identity(t):(f=g-w,d=v-T,p=_-S,m=1/Math.sqrt(f*f+d*d+p*p),f*=m,d*=m,p*=m,o=x*p-b*d,s=b*f-y*p,u=y*d-x*f,m=Math.sqrt(o*o+s*s+u*u),m?(m=1/m,o*=m,s*=m,u*=m):(o=0,s=0,u=0),l=d*u-p*s,c=p*o-f*u,h=f*s-d*o,m=Math.sqrt(l*l+c*c+h*h),m?(m=1/m,l*=m,c*=m,h*=m):(l=0,c=0,h=0),t[0]=o,t[1]=l,t[2]=f,t[3]=0,t[4]=s,t[5]=c,t[6]=d,t[7]=0,t[8]=u,t[9]=h,t[10]=p,t[11]=0,t[12]=-(o*g+s*v+u*_),t[13]=-(l*g+c*v+h*_),t[14]=-(f*g+d*v+p*_),t[15]=1,t)},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e["a"]=i},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(36),o=n(174),s=n(41),u=n(37),l=n(9),c=n(3),h=n(26),f=n(53),d=n(176),p=n(200),m=n(49);function g(t){t=t||"perspective",this.layer=null,this.scene=new a["a"],this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(t),this._compositor=new d["a"],this._temporalSS=new p["a"],this._shadowMapPass=new o["a"];for(var e=[],n=0,r=0;r<30;r++){for(var i=[],s=0;s<6;s++)i.push(4*Object(m["a"])(n,2)-2),i.push(4*Object(m["a"])(n,3)-2),n++;e.push(i)}this._pcfKernels=e,this.scene.on("beforerender",function(t,e,n){this.needsTemporalSS()&&this._temporalSS.jitterProjection(t,n)},this)}g.prototype.setProjection=function(t){var e=this.camera;e&&e.update(),"perspective"===t?this.camera instanceof s["a"]||(this.camera=new s["a"],e&&this.camera.setLocalTransform(e.localTransform)):this.camera instanceof u["a"]||(this.camera=new u["a"],e&&this.camera.setLocalTransform(e.localTransform)),this.camera.near=.1,this.camera.far=2e3},g.prototype.setViewport=function(t,e,n,r,i){this.camera instanceof s["a"]&&(this.camera.aspect=n/r),i=i||1,this.viewport.x=t,this.viewport.y=e,this.viewport.width=n,this.viewport.height=r,this.viewport.devicePixelRatio=i,this._compositor.resize(n*i,r*i),this._temporalSS.resize(n*i,r*i)},g.prototype.containPoint=function(t,e){var n=this.viewport,r=this.layer.renderer.getHeight();return e=r-e,t>=n.x&&e>=n.y&&t<=n.x+n.width&&e<=n.y+n.height};var v=new h["a"];g.prototype.castRay=function(t,e,n){var r=this.layer.renderer,i=r.viewport;return r.viewport=this.viewport,r.screenToNDC(t,e,v),this.camera.castRay(v,n),r.viewport=i,n},g.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var t=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var e=0;e<t.transparent.length;e++){var n=t.transparent[e],r=n.geometry;r.needsSortVerticesProgressively&&r.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),r.needsSortTrianglesProgressively&&r.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},g.prototype.render=function(t,e){this._doRender(t,e,this._frame),this._frame++},g.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},g.prototype.needsTemporalSS=function(){var t=this._enableTemporalSS;return"auto"===t&&(t=this._enablePostEffect),t},g.prototype.hasDOF=function(){return this._enableDOF},g.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},g.prototype._doRender=function(t,e,n){var r=this.scene,i=this.camera;n=n||0,this._updateTransparent(t,r,i,n),e||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(t,r,i,!0)),this._updateShadowPCFKernel(n);var a=t.clearColor;if(t.gl.clearColor(a[0],a[1],a[2],a[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(t,i),this._compositor.updateNormal(t,r,i,this._temporalSS.getFrame())),this._updateSSAO(t,r,i,this._temporalSS.getFrame()),this._enablePostEffect){var o=this._compositor.getSourceFrameBuffer();o.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),t.render(r,i,!0,!0),o.unbind(t),this.needsTemporalSS()&&e?(this._compositor.composite(t,r,i,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),t.setViewport(this.viewport),this._temporalSS.render(t)):(t.setViewport(this.viewport),this._compositor.composite(t,r,i,null,0))}else if(this.needsTemporalSS()&&e){o=this._temporalSS.getSourceFrameBuffer();o.bind(t),t.saveClear(),t.clearBit=t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT,t.render(r,i,!0,!0),t.restoreClear(),o.unbind(t),t.setViewport(this.viewport),this._temporalSS.render(t)}else t.setViewport(this.viewport),t.render(r,i,!0,!0)},g.prototype._updateTransparent=function(t,e,n,r){for(var i=new c["a"],a=new l["a"],o=n.getWorldPosition(),s=e.getRenderList(n).transparent,u=0;u<s.length;u++){var h=s[u],f=h.geometry;l["a"].invert(a,h.worldTransform),c["a"].transformMat4(i,o,a),f.needsSortTriangles&&f.needsSortTriangles()&&f.doSortTriangles(i,r),f.needsSortVertices&&f.needsSortVertices()&&f.doSortVertices(i,r)}},g.prototype._updateSSAO=function(t,e,n){var r=this._enableSSAO&&this._enablePostEffect;r&&this._compositor.updateSSAO(t,e,n,this._temporalSS.getFrame());for(var i=e.getRenderList(n),a=0;a<i.opaque.length;a++){var o=i.opaque[a];o.renderNormal&&o.material[r?"enableTexture":"disableTexture"]("ssaoMap"),r&&o.material.set("ssaoMap",this._compositor.getSSAOTexture())}},g.prototype._updateShadowPCFKernel=function(t){for(var e=this._pcfKernels[t%this._pcfKernels.length],n=this.scene.getRenderList(this.camera),r=n.opaque,i=0;i<r.length;i++)r[i].receiveShadow&&(r[i].material.set("pcfKernel",e),r[i].material.define("fragment","PCF_KERNEL_SIZE",e.length/2))},g.prototype.dispose=function(t){this._compositor.dispose(t.gl),this._temporalSS.dispose(t.gl),this._shadowMapPass.dispose(t)},g.prototype.setPostEffect=function(t,e){var n=this._compositor;this._enablePostEffect=t.get("enable");var r=t.getModel("bloom"),i=t.getModel("edge"),a=t.getModel("DOF",t.getModel("depthOfField")),o=t.getModel("SSAO",t.getModel("screenSpaceAmbientOcclusion")),s=t.getModel("SSR",t.getModel("screenSpaceReflection")),u=t.getModel("FXAA"),l=t.getModel("colorCorrection");r.get("enable")?n.enableBloom():n.disableBloom(),a.get("enable")?n.enableDOF():n.disableDOF(),s.get("enable")?n.enableSSR():n.disableSSR(),l.get("enable")?n.enableColorCorrection():n.disableColorCorrection(),i.get("enable")?n.enableEdge():n.disableEdge(),u.get("enable")?n.enableFXAA():n.disableFXAA(),this._enableDOF=a.get("enable"),this._enableSSAO=o.get("enable"),this._enableSSAO?n.enableSSAO():n.disableSSAO(),n.setBloomIntensity(r.get("intensity")),n.setEdgeColor(i.get("color")),n.setColorLookupTexture(l.get("lookupTexture"),e),n.setExposure(l.get("exposure")),["radius","quality","intensity"].forEach(function(t){n.setSSAOParameter(t,o.get(t))}),["quality","maxRoughness","physical"].forEach(function(t){n.setSSRParameter(t,s.get(t))}),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach(function(t){n.setDOFParameter(t,a.get(t))}),["brightness","contrast","saturation"].forEach(function(t){n.setColorCorrection(t,l.get(t))})},g.prototype.setDOFFocusOnPoint=function(t){if(this._enablePostEffect){if(t>this.camera.far||t<this.camera.near)return;return this._compositor.setDOFParameter("focalDistance",t),!0}},g.prototype.setTemporalSuperSampling=function(t){this._enableTemporalSS=t.get("enable")},g.prototype.isLinearSpace=function(){return this._enablePostEffect},g.prototype.setRootNode=function(t){if(this.rootNode!==t){for(var e=this.rootNode.children(),n=0;n<e.length;n++)t.add(e[n]);t!==this.scene&&this.scene.add(t),this.rootNode=t}},g.prototype.add=function(t){this.rootNode.add(t)},g.prototype.remove=function(t){this.rootNode.remove(t)},g.prototype.removeAll=function(t){this.rootNode.removeAll(t)},i.a.util.extend(g.prototype,f["a"]),e["a"]=g},function(t,e,n){"use strict";var r=0,i=Array.prototype,a=i.forEach,o={genGUID:function(){return++r},relative2absolute:function(t,e){if(!e||t.match(/^\//))return t;var n=t.split("/"),r=e.split("/"),i=n[0];while("."===i||".."===i)".."===i&&r.pop(),n.shift(),i=n[0];return r.join("/")+"/"+n.join("/")},extend:function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaults:function(t,e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t},extendWithPropList:function(t,e,n){if(e)for(var r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}return t},defaultsWithPropList:function(t,e,n){if(e)for(var r=0;r<n.length;r++){var i=n[r];null==t[i]&&(t[i]=e[i])}return t},each:function(t,e,n){if(t&&e)if(t.forEach&&t.forEach===a)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)},isObject:function(t){return t===Object(t)},isArray:function(t){return Array.isArray(t)},isArrayLike:function(t){return!!t&&t.length===+t.length},clone:function(t){if(o.isObject(t)){if(o.isArray(t))return t.slice();if(o.isArrayLike(t)){for(var e=new t.constructor(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}return o.extend({},t)}return t}};e["a"]=o},function(t,e,n){"use strict";var r=n(35),i=n(8),a=n(119);i["a"]["import"](a["a"]);var o=r["a"].extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var t=r["a"].prototype.clone.call(this);return t.color=Array.prototype.slice.call(this.color),t.intensity=this.intensity,t.castShadow=this.castShadow,t.shadowResolution=this.shadowResolution,t}});e["a"]=o},function(t,e,n){"use strict";var r=n(15),i=n(0),a=n.n(i),o=n(38),s=n(6),u=s["a"].vec3,l=[[0,0],[1,1]],c=r["a"].extend(function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new r["a"].Attribute("position","float",3,"POSITION"),positionPrev:new r["a"].Attribute("positionPrev","float",3),positionNext:new r["a"].Attribute("positionNext","float",3),prevPositionPrev:new r["a"].Attribute("prevPositionPrev","float",3),prevPosition:new r["a"].Attribute("prevPosition","float",3),prevPositionNext:new r["a"].Attribute("prevPositionNext","float",3),offset:new r["a"].Attribute("offset","float",1),color:new r["a"].Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.positionPrev.init(t),e.positionNext.init(t),e.offset.init(t)),t>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(this.indices=0===t?null:this.vertexCount>65535?new Uint32Array(3*t):new Uint16Array(3*t))},_getCubicCurveApproxStep:function(t,e,n,r){var i=u.dist(t,e)+u.dist(n,e)+u.dist(r,n),a=1/(i+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(l)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(l)},getPolylineVertexCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/3}return this.useNativeLine?2*(e-1):2*(e-1)+2},getPolylineTriangleCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/3}return this.useNativeLine?0:2*Math.max(e-1,0)},addCubicCurve:function(t,e,n,r,i,a){null==a&&(a=1);var o=t[0],s=t[1],u=t[2],l=e[0],c=e[1],h=e[2],f=n[0],d=n[1],p=n[2],m=r[0],g=r[1],v=r[2],_=this._getCubicCurveApproxStep(t,e,n,r),y=_*_,x=y*_,b=3*_,w=3*y,T=6*y,S=6*x,E=o-2*l+f,M=s-2*c+d,A=u-2*h+p,C=3*(l-f)-o+m,O=3*(c-d)-s+g,D=3*(h-p)-u+v,L=o,I=s,P=u,R=(l-o)*b+E*w+C*x,N=(c-s)*b+M*w+O*x,k=(h-u)*b+A*w+D*x,F=E*T+C*S,B=M*T+O*S,z=A*T+D*S,U=C*S,G=O*S,j=D*S,H=0,V=0,W=Math.ceil(1/_),X=new Float32Array(3*(W+1)),q=(X=[],0);for(V=0;V<W+1;V++)X[q++]=L,X[q++]=I,X[q++]=P,L+=R,I+=N,P+=k,R+=F,N+=B,k+=z,F+=U,B+=G,z+=j,H+=_,H>1&&(L=R>0?Math.min(L,m):Math.max(L,m),I=N>0?Math.min(I,g):Math.max(I,g),P=k>0?Math.min(P,v):Math.max(P,v));return this.addPolyline(X,i,a)},addLine:function(t,e,n,r){return this.addPolyline([t,e],n,r)},addPolyline:function(t,e,n,r,i){if(t.length){var a="number"!==typeof t[0];if(null==i&&(i=a?t.length:t.length/3),!(i<2)){null==r&&(r=0),null==n&&(n=1),this._itemVertexOffsets.push(this._vertexOffset);a="number"!==typeof t[0];var o,s,u=a?"number"!==typeof e[0]:e.length/4===i,l=this.attributes.position,c=this.attributes.positionPrev,h=this.attributes.positionNext,f=this.attributes.color,d=this.attributes.offset,p=this.indices,m=this._vertexOffset;n=Math.max(n,.01);for(var g=r;g<i;g++){if(a)o=t[g],s=u?e[g]:e;else{var v=3*g;if(o=o||[],o[0]=t[v],o[1]=t[v+1],o[2]=t[v+2],u){var _=4*g;s=s||[],s[0]=e[_],s[1]=e[_+1],s[2]=e[_+2],s[3]=e[_+3]}else s=e}if(this.useNativeLine?g>1&&(l.copy(m,m-1),f.copy(m,m-1),m++):(g<i-1&&(c.set(m+2,o),c.set(m+3,o)),g>0&&(h.set(m-2,o),h.set(m-1,o)),l.set(m,o),l.set(m+1,o),f.set(m,s),f.set(m+1,s),d.set(m,n/2),d.set(m+1,-n/2),m+=2),this.useNativeLine)f.set(m,s),l.set(m,o),m++;else if(g>0){var y=3*this._triangleOffset;p=this.indices;p[y]=m-4,p[y+1]=m-3,p[y+2]=m-2,p[y+3]=m-3,p[y+4]=m-1,p[y+5]=m-2,this._triangleOffset+=2}}if(!this.useNativeLine){var x=this._vertexOffset,b=this._vertexOffset+2*i;c.copy(x,x+2),c.copy(x+1,x+3),h.copy(b-1,b-3),h.copy(b-2,b-4)}return this._vertexOffset=m,this._vertexOffset}}},setItemColor:function(t,e){for(var n=this._itemVertexOffsets[t],r=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,e);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});a.a.util.defaults(c.prototype,o["a"]),e["a"]=c},function(t,e,n){"use strict";var r=n(70),i=function(t,e){t=t||0,e=e||0,this.array=r["a"].fromValues(t,e),this._dirty=!0};if(i.prototype={constructor:i,add:function(t){return r["a"].add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e){return this.array[0]=t,this.array[1]=e,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this._dirty=!0,this},clone:function(){return new i(this.x,this.y)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return r["a"].cross(t.array,this.array,e.array),t._dirty=!0,this},dist:function(t){return r["a"].dist(this.array,t.array)},distance:function(t){return r["a"].distance(this.array,t.array)},div:function(t){return r["a"].div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return r["a"].divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return r["a"].dot(this.array,t.array)},len:function(){return r["a"].len(this.array)},length:function(){return r["a"].length(this.array)},lerp:function(t,e,n){return r["a"].lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return r["a"].min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return r["a"].max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return r["a"].negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r["a"].normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return r["a"].random(this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return r["a"].scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return r["a"].sqrDist(this.array,t.array)},squaredDistance:function(t){return r["a"].squaredDistance(this.array,t.array)},sqrLen:function(){return r["a"].sqrLen(this.array)},squaredLength:function(){return r["a"].squaredLength(this.array)},sub:function(t){return r["a"].sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return r["a"].subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat2:function(t){return r["a"].transformMat2(this.array,this.array,t.array),this._dirty=!0,this},transformMat2d:function(t){return r["a"].transformMat2d(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return r["a"].transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return r["a"].transformMat4(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var a=i.prototype;Object.defineProperty(a,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Object.defineProperty(a,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}})}i.add=function(t,e,n){return r["a"].add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n){return r["a"].set(t.array,e,n),t._dirty=!0,t},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.cross=function(t,e,n){return r["a"].cross(t.array,e.array,n.array),t._dirty=!0,t},i.dist=function(t,e){return r["a"].distance(t.array,e.array)},i.distance=i.dist,i.div=function(t,e,n){return r["a"].divide(t.array,e.array,n.array),t._dirty=!0,t},i.divide=i.div,i.dot=function(t,e){return r["a"].dot(t.array,e.array)},i.len=function(t){return r["a"].length(t.array)},i.lerp=function(t,e,n,i){return r["a"].lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return r["a"].min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return r["a"].max(t.array,e.array,n.array),t._dirty=!0,t},i.mul=function(t,e,n){return r["a"].multiply(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.negate=function(t,e){return r["a"].negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return r["a"].normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return r["a"].random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return r["a"].scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.sqrDist=function(t,e){return r["a"].sqrDist(t.array,e.array)},i.squaredDistance=i.sqrDist,i.sqrLen=function(t){return r["a"].sqrLen(t.array)},i.squaredLength=i.sqrLen,i.sub=function(t,e,n){return r["a"].subtract(t.array,e.array,n.array),t._dirty=!0,t},i.subtract=i.sub,i.transformMat2=function(t,e,n){return r["a"].transformMat2(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat2d=function(t,e,n){return r["a"].transformMat2d(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat3=function(t,e,n){return r["a"].transformMat3(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat4=function(t,e,n){return r["a"].transformMat4(t.array,e.array,n.array),t._dirty=!0,t},e["a"]=i},function(t,e,n){"use strict";var r=n(4),i=n(11),a=n(23),o=n(73),s=n(14),u=o["a"].isPowerOfTwo,l=["px","nx","py","ny","pz","nz"],c=r["a"].extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(t);var n=this.format,r=this.type;e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var a=t.getGLExtension("EXT_texture_filter_anisotropic");if(a&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_CUBE_MAP,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r){var o=t.getGLExtension("OES_texture_half_float");o||(r=i["a"].FLOAT)}if(this.mipmaps.length)for(var s=this.width,u=this.height,l=0;l<this.mipmaps.length;l++){var c=this.mipmaps[l];this._updateTextureData(e,c,l,s,u,n,r),s/=2,u/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,r),!this.NPOT&&this.useMipmap&&e.generateMipmap(e.TEXTURE_CUBE_MAP);e.bindTexture(e.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(t,e,n,r,i,a,o){for(var s=0;s<6;s++){var u=l[s],c=e.image&&e.image[u];c?t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,a,o,c):t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,r,i,0,a,o,e.pixels&&e.pixels[u])}},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_CUBE_MAP))},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?u(this.image.px.width)&&u(this.image.px.height):u(this.width)&&u(this.height)},isRenderable:function(){return this.image.px?h(this.image.px)&&h(this.image.nx)&&h(this.image.py)&&h(this.image.ny)&&h(this.image.pz)&&h(this.image.nz):!(!this.width||!this.height)},load:function(t,e){var n=0,r=this;return a["a"].each(t,function(t,i){var a=s["a"].createImage();e&&(a.crossOrigin=e),a.onload=function(){n--,0===n&&(r.dirty(),r.trigger("success",r)),a.onload=null},a.onerror=function(){n--,a.onerror=null},n++,a.src=t,r.image[i]=a}),this}});function h(t){return"CANVAS"===t.nodeName||"VIDEO"===t.nodeName||t.complete}Object.defineProperty(c.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(c.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}}),e["a"]=c},function(t,e,n){"use strict";e["a"]={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}}},function(t,e,n){"use strict";e["a"]={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}}},function(t,e,n){"use strict";var r=n(1),i=n(42),a=n(0),o=n.n(a);function s(){}s.prototype={constructor:s,setScene:function(t){this._scene=t,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(t){this._lightRoot=t,this.mainLight=new r["a"].DirectionalLight({shadowBias:.005}),this.ambientLight=new r["a"].AmbientLight,t.add(this.mainLight),t.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(t){var e=this.mainLight,n=this.ambientLight,i=t.getModel("light"),a=i.getModel("main"),o=i.getModel("ambient");e.intensity=a.get("intensity"),n.intensity=o.get("intensity"),e.color=r["a"].parseColor(a.get("color")).slice(0,3),n.color=r["a"].parseColor(o.get("color")).slice(0,3);var s=a.get("alpha")||0,u=a.get("beta")||0;e.position.setArray(r["a"].directionFromAlphaBeta(s,u)),e.lookAt(r["a"].Vector3.ZERO),e.castShadow=a.get("shadow"),e.shadowResolution=r["a"].getShadowResolution(a.get("shadowQuality"))},updateAmbientCubemap:function(t,e,n){var i=e.getModel("light.ambientCubemap"),a=i.get("texture");if(a){this._cubemapLightsCache=this._cubemapLightsCache||{};var o=this._cubemapLightsCache[a];if(!o){var s=this;o=this._cubemapLightsCache[a]=r["a"].createAmbientCubemap(i.option,t,n,function(){s._isSkyboxFromAmbientCubemap&&s._skybox.setEnvironmentMap(o.specular.cubemap),n.getZr().refresh()})}this._lightRoot.add(o.diffuse),this._lightRoot.add(o.specular),this._currentCubemapLights=o}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(t,e,n){var a=e.get("environment"),s=this;function u(){return s._skybox=s._skybox||new i["a"],s._skybox}var l=u();if(a&&"none"!==a)if("auto"===a)if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var c=this._currentCubemapLights.specular.cubemap;l.setEnvironmentMap(c),this._scene&&l.attachScene(this._scene),l.material.set("lod",3)}else this._skybox&&this._skybox.detachScene();else if("object"===typeof a&&a.colorStops||"string"===typeof a&&o.a.color.parse(a)){this._isSkyboxFromAmbientCubemap=!1;var h=new r["a"].Texture2D({anisotropic:8,flipY:!1});l.setEnvironmentMap(h);var f=h.image=document.createElement("canvas");f.width=f.height=16;var d=f.getContext("2d"),p=new o.a.graphic.Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:a}});p.brush(d),l.attachScene(this._scene)}else{this._isSkyboxFromAmbientCubemap=!1;h=r["a"].loadTexture(a,n,{anisotropic:8,flipY:!1});l.setEnvironmentMap(h),l.attachScene(this._scene)}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var m=e.coordinateSystem;if(this._skybox)if(!m||!m.viewGL||"auto"===a||a.match&&a.match(/.hdr$/))this._skybox.material.undefine("fragment","SRGB_DECODE");else{var g=m.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[g]("fragment","SRGB_DECODE")}}},e["a"]=s},function(t,e,n){"use strict";e["a"]={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a={getFormattedLabel:function(t,e,n,r,a){n=n||"normal";var o=t.getData(r),s=o.getItemModel(e),u=t.getDataParams(e,r);null!=a&&u.value instanceof Array&&(u.value=u.value[a]);var l,c=s.get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]);return null==c&&(c=s.get(["label","formatter"])),"function"===typeof c?(u.status=n,l=c(u)):"string"===typeof c&&(l=i.a.format.formatTpl(c,u)),l},normalizeToArray:function(t){return t instanceof Array?t:null==t?[]:[t]}};e["a"]=a},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},clone:function(t){var e=new r["a"](4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},fromValues:function(t,e,n,i){var a=new r["a"](4);return a[0]=t,a[1]=e,a[2]=n,a[3]=i,a},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},set:function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}};i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},i.div=i.divide,i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+a*a)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t},i.random=function(t,e){return e=e||1,t[0]=Object(r["c"])(),t[1]=Object(r["c"])(),t[2]=Object(r["c"])(),t[3]=Object(r["c"])(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*a-u*i,h=l*i+u*r-o*a,f=l*a+o*i-s*r,d=-o*r-s*i-u*a;return t[0]=c*l+d*-o+h*-u-f*-s,t[1]=h*l+d*-s+f*-o-c*-u,t[2]=f*l+d*-u+c*-s-h*-o,t},i.forEach=function(){var t=i.create();return function(e,n,r,i,a,o){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),e["a"]=i},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat4:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},clone:function(t){var e=new r["a"](9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=c*o-s*l,f=-c*a+s*u,d=l*a-o*u,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-c*r+i*l)*p,t[2]=(s*r-i*o)*p,t[3]=f*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*a)*p,t[6]=d*p,t[7]=(-l*n+r*u)*p,t[8]=(o*n-r*a)*p,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=o*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*o,t[3]=s*u-a*c,t[4]=n*c-i*u,t[5]=i*a-n*s,t[6]=a*l-o*u,t[7]=r*u-n*l,t[8]=n*o-r*a,t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*(l*a-o*u)+n*(-l*i+o*s)+r*(u*i-a*s)},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1],p=n[2],m=n[3],g=n[4],v=n[5],_=n[6],y=n[7],x=n[8];return t[0]=f*r+d*o+p*l,t[1]=f*i+d*s+p*c,t[2]=f*a+d*u+p*h,t[3]=m*r+g*o+v*l,t[4]=m*i+g*s+v*c,t[5]=m*a+g*u+v*h,t[6]=_*r+y*o+x*l,t[7]=_*i+y*s+x*c,t[8]=_*a+y*u+x*h,t}};i.mul=i.multiply,i.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=f*r+d*o+l,t[7]=f*i+d*s+c,t[8]=f*a+d*u+h,t},i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*o,t[1]=d*i+f*s,t[2]=d*a+f*u,t[3]=d*o-f*r,t[4]=d*s-f*i,t[5]=d*u-f*a,t[6]=l,t[7]=c,t[8]=h,t},i.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,h=r*s,f=i*o,d=i*s,p=i*u,m=a*o,g=a*s,v=a*u;return t[0]=1-h-p,t[3]=c-v,t[6]=f+g,t[1]=c+v,t[4]=1-l-p,t[7]=d-m,t[2]=f-g,t[5]=d+m,t[8]=1-l-h,t},i.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],_=n*s-r*o,y=n*u-i*o,x=n*l-a*o,b=r*u-i*s,w=r*l-a*s,T=i*l-a*u,S=c*m-h*p,E=c*g-f*p,M=c*v-d*p,A=h*g-f*m,C=h*v-d*m,O=f*v-d*g,D=_*O-y*C+x*A+b*M-w*E+T*S;return D?(D=1/D,t[0]=(s*O-u*C+l*A)*D,t[1]=(u*M-o*O-l*E)*D,t[2]=(o*C-s*M+l*S)*D,t[3]=(i*C-r*O-a*A)*D,t[4]=(n*O-i*M+a*E)*D,t[5]=(r*M-n*C-a*S)*D,t[6]=(m*T-g*w+v*b)*D,t[7]=(g*x-p*T-v*y)*D,t[8]=(p*w-m*x+v*_)*D,t):null},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e["a"]=i},function(t,e,n){"use strict";var r=n(7),i=n(3),a=n(56),o=n(9),s=n(21),u=n(18),l=0,c=r["a"].extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+l++),this.position||(this.position=new i["a"]),this.rotation||(this.rotation=new a["a"]),this.scale||(this.scale=new i["a"](1,1,1)),this.worldTransform=new o["a"],this.localTransform=new o["a"],this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(t){var e=this._scene;if(e){var n=e._nodeRepository;delete n[this.name],n[t]=this}this.name=t},add:function(t){var e=t._parent;if(e!==this){e&&e.remove(t),t._parent=this,this._children.push(t);var n=this._scene;n&&n!==t.scene&&t.traverse(this._addSelfToScene,this),t._needsUpdateWorldTransform=!0}},remove:function(t){var e=this._children,n=e.indexOf(t);n<0||(e.splice(n,1),t._parent=null,this._scene&&t.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var t=this._children,e=0;e<t.length;e++)t[e]._parent=null,this._scene&&t[e].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(t){t._scene.removeFromScene(t),t._scene=null},_addSelfToScene:function(t){this._scene.addToScene(t),t._scene=this._scene},isAncestor:function(t){var e=t._parent;while(e){if(e===this)return!0;e=e._parent}return!1},children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},getChildByName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},getDescendantByName:function(t){for(var e=this._children,n=0;n<e.length;n++){var r=e[n];if(r.name===t)return r;var i=r.getDescendantByName(t);if(i)return i}},queryNode:function(t){if(t){for(var e=t.split("/"),n=this,r=0;r<e.length;r++){var i=e[r];if(i){for(var a=!1,o=n._children,s=0;s<o.length;s++){var u=o[s];if(u.name===i){n=u,a=!0;break}}if(!a)return}}return n}},getPath:function(t){if(!this._parent)return"/";var e=this._parent,n=this.name;while(e._parent){if(n=e.name+"/"+n,e._parent==t)break;e=e._parent}return!e._parent&&t?null:n},traverse:function(t,e){t.call(e,this);for(var n=this._children,r=0,i=n.length;r<i;r++)n[r].traverse(t,e)},eachChild:function(t,e){for(var n=this._children,r=0,i=n.length;r<i;r++){var a=n[r];t.call(e,a,r)}},setLocalTransform:function(t){s["a"].copy(this.localTransform.array,t.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(t){var e=t?null:this.scale;this.localTransform.decomposeMatrix(e,this.rotation,this.position)},setWorldTransform:function(t){s["a"].copy(this.worldTransform.array,t.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var t=s["a"].create();return function(e){var n=this.localTransform,r=this.worldTransform;this._parent?(s["a"].invert(t,this._parent.worldTransform.array),s["a"].multiply(n.array,t,r.array)):s["a"].copy(n.array,r.array);var i=e?null:this.scale;n.decomposeMatrix(i,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var t=this.position,e=this.rotation,n=this.scale;if(this.transformNeedsUpdate()){var r=this.localTransform.array;s["a"].fromRotationTranslation(r,e.array,t.array),s["a"].scale(r,r,n.array),e._dirty=!1,n._dirty=!1,t._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var t=this.localTransform.array,e=this.worldTransform.array;this._parent?s["a"].multiplyAffine(e,this._parent.worldTransform.array,t):s["a"].copy(e,t)},updateWorldTransform:function(){var t=this;while(t&&t.getParent()&&t.getParent().transformNeedsUpdate())t=t.getParent();t.update()},update:function(t){this.autoUpdateLocalTransform?this.updateLocalTransform():t=!0,(t||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),t=!0,this._needsUpdateWorldTransform=!1);for(var e=this._children,n=0,r=e.length;n<r;n++)e[n].update(t)},getBoundingBox:function(){function t(t){return!t.invisible&&t.geometry}var e=new u["a"],n=new o["a"],r=new o["a"];return function(i,a){return a=a||new u["a"],i=i||t,this._parent?o["a"].invert(r,this._parent.worldTransform):o["a"].identity(r),this.traverse(function(t){t.geometry&&t.geometry.boundingBox&&(e.copy(t.geometry.boundingBox),o["a"].multiply(n,r,t.worldTransform),e.applyTransform(n),a.union(e))},this,t),a}}(),getWorldPosition:function(t){this.transformNeedsUpdate()&&this.updateWorldTransform();var e=this.worldTransform.array;if(t){var n=t.array;return n[0]=e[12],n[1]=e[13],n[2]=e[14],t}return new i["a"](e[12],e[13],e[14])},clone:function(){var t=new this.constructor,e=this._children;t.setName(this.name),t.position.copy(this.position),t.rotation.copy(this.rotation),t.scale.copy(this.scale);for(var n=0;n<e.length;n++)t.add(e[n].clone());return t},rotateAround:function(){var t=new i["a"],e=new o["a"];return function(n,r,i){t.copy(this.position).subtract(n);var a=this.localTransform;a.identity(),a.translate(n),a.rotate(i,r),e.fromRotationTranslation(this.rotation,t),a.multiply(e),a.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var t=new o["a"];return function(e,n){t.lookAt(this.position,e,n||this.localTransform.y).invert(),this.setLocalTransform(t),this.target=e}}()});e["a"]=c},function(t,e,n){"use strict";var r=n(35),i=n(24),a=n(58),o=n(18),s=n(23),u=n(21),l=n(69),c=n(9),h=u["a"].create(),f=u["a"].create(),d={};function p(t){var e=[],n=Object.keys(t);n.sort();for(var r=0;r<n.length;r++){var i=n[r];e.push(i+" "+t[i])}var a=e.join("\n");if(d[a])return d[a];var o=s["a"].genGUID();return d[a]=o,o}function m(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}m.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},m.prototype.add=function(t,e){e?this.transparent[this._transparentCount++]=t:this.opaque[this._opaqueCount++]=t},m.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var g=r["a"].extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new o["a"],shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new l["a"](20)}},function(){this._scene=this},{addToScene:function(t){t instanceof a["a"]?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(t)):t instanceof i["a"]&&this.lights.push(t),t.name&&(this._nodeRepository[t.name]=t)},removeFromScene:function(t){var e;t instanceof a["a"]?(e=this._cameraList.indexOf(t),e>=0&&this._cameraList.splice(e,1)):t instanceof i["a"]&&(e=this.lights.indexOf(t),e>=0&&this.lights.splice(e,1)),t.name&&delete this._nodeRepository[t.name]},getNode:function(t){return this._nodeRepository[t]},setMainCamera:function(t){var e=this._cameraList.indexOf(t);e>=0&&this._cameraList.splice(e,1),this._cameraList.unshift(t)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var t=this.lights;this._previousLightNumber=this._lightNumber;for(var e={},n=0;n<t.length;n++){var r=t[n];if(!r.invisible){var i=r.group;e[i]||(e[i]={}),e[i][r.type]=e[i][r.type]||0,e[i][r.type]++}}for(var a in this._lightNumber=e,e)this._lightProgramKeys[a]=p(e[a]);this._updateLightUniforms()},cloneNode:function(t){var e=t.clone(),n={};function r(t,e){n[t.__uid__]=e;for(var i=0;i<t._children.length;i++){var a=t._children[i],o=e._children[i];r(a,o)}}return r(t,e),e.traverse(function(t){t.skeleton&&(t.skeleton=t.skeleton.clone(n)),t.material&&(t.material=t.material.clone())}),e},updateRenderList:function(t,e){var n=t.__uid__,r=this._renderLists.get(n);r||(r=new m,this._renderLists.put(n,r)),r.startCount(),e&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var i=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,t,i,r,e),r.endCount(),r},getRenderList:function(t){return this._renderLists.get(t.__uid__)},_doUpdateRenderList:function(t,e,n,r,i){if(!t.invisible)for(var a=0;a<t._children.length;a++){var o=t._children[a];if(o.isRenderable()){var s=o.isSkinnedMesh()?h:o.worldTransform.array,l=o.geometry;u["a"].multiplyAffine(f,e.viewMatrix.array,s),(i&&!l.boundingBox||!this.isFrustumCulled(o,e,f))&&r.add(o,o.material.transparent||n)}o._children.length>0&&this._doUpdateRenderList(o,e,n,r,i)}},isFrustumCulled:function(){var t=new o["a"],e=new c["a"];return function(n,r,i){var a=n.boundingBox;if(a||(a=n.skeleton&&n.skeleton.boundingBox?n.skeleton.boundingBox:n.geometry.boundingBox),!a)return!1;if(e.array=i,t.transformFrom(a,e),n.castShadow&&this.viewBoundingBoxLastFrame.union(t),n.frustumCulling){if(!t.intersectBoundingBox(r.frustum.boundingBox))return!0;e.array=r.projectionMatrix.array,t.max.array[2]>0&&t.min.array[2]<0&&(t.max.array[2]=-1e-20),t.applyProjection(e);var o=t.min.array,s=t.max.array;if(s[0]<-1||o[0]>1||s[1]<-1||o[1]>1||s[2]<-1||o[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var t=this.lights;t.sort(v);var e=this._lightUniforms;for(var n in e)for(var r in e[n])e[n][r].value.length=0;for(var i=0;i<t.length;i++){var a=t[i];if(!a.invisible){n=a.group;for(var r in a.uniformTemplates){var o=a.uniformTemplates[r],s=o.value(a);if(null!=s){e[n]||(e[n]={}),e[n][r]||(e[n][r]={type:"",value:[]});var u=e[n][r];switch(u.type=o.type+"v",o.type){case"1i":case"1f":case"t":u.value.push(s);break;case"2f":case"3f":case"4f":for(var l=0;l<s.length;l++)u.value.push(s[l]);break;default:console.error("Unkown light uniform type "+o.type)}}}}}},getLightGroups:function(){var t=[];for(var e in this._lightNumber)t.push(e);return t},getNumberChangedLightGroups:function(){var t=[];for(var e in this._lightNumber)this.isLightNumberChanged(e)&&t.push(e);return t},isLightNumberChanged:function(t){var e=this._previousLightNumber,n=this._lightNumber;for(var r in n[t]){if(!e[t])return!0;if(n[t][r]!==e[t][r])return!0}for(var r in e[t]){if(!n[t])return!0;if(n[t][r]!==e[t][r])return!0}return!1},getLightsNumbers:function(t){return this._lightNumber[t]},getProgramKey:function(t){return this._lightProgramKeys[t]},setLightUniforms:function(){function t(t,e,n){for(var r in t){var i=t[r];if("tv"===i.type){if(!e.hasUniform(r))continue;for(var a=[],o=0;o<i.value.length;o++){var s=i.value[o],u=e.takeCurrentTextureSlot(n,s);a.push(u)}e.setUniform(n.gl,"1iv",r,a)}else e.setUniform(n.gl,i.type,r,i.value)}}return function(e,n,r){t(this._lightUniforms[n],e,r),t(this.shadowUniforms,e,r)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function v(t,e){if(e.castShadow&&!t.castShadow)return!0}e["a"]=g},function(t,e,n){"use strict";var r=n(58),i=r["a"].extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array;this.left=(-1-t[12])/t[0],this.right=(1-t[12])/t[0],this.top=(1-t[13])/t[5],this.bottom=(-1-t[13])/t[5],this.near=-(-1-t[14])/t[10],this.far=-(1-t[14])/t[10]},clone:function(){var t=r["a"].prototype.clone.call(this);return t.left=this.left,t.right=this.right,t.near=this.near,t.far=this.far,t.top=this.top,t.bottom=this.bottom,t}});e["a"]=i},function(t,e,n){"use strict";e["a"]={convertToDynamicArray:function(t){t&&this.resetOffset();var e=this.attributes;for(var n in e)t||!e[n].value?e[n].value=[]:e[n].value=Array.prototype.slice.call(e[n].value);t||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var t=this.attributes;for(var e in t)t[e].value&&t[e].value.length>0?t[e].value=new Float32Array(t[e].value):t[e].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}}},function(t,e,n){"use strict";var r=n(0),i=n.n(r);function a(t,e){var n=[];return i.a.util.each(t.dimensions,function(r){var i=t.getDimensionInfo(r),a=i.otherDims,o=a[e];null!=o&&!1!==o&&(n[o]=i.name)}),n}e["a"]=function(t,e,n){function r(t){var r=!0,s=[],u=a(o,"tooltip");function l(t,e){var a=o.getDimensionInfo(e);if(a&&!1!==a.otherDims.tooltip){var u=a.type,l=(r?"- "+(a.tooltipName||a.name)+": ":"")+("ordinal"===u?t+"":"time"===u?n?"":i.a.format.formatTime("yyyy/MM/dd hh:mm:ss",t):i.a.format.addCommas(t));l&&s.push(i.a.format.encodeHTML(l))}}return u.length?i.a.util.each(u,function(t){l(o.get(t,e),t)}):i.a.util.each(t,l),(r?"<br/>":"")+s.join(r?"<br/>":", ")}var o=t.getData(),s=t.getRawValue(e),u=i.a.util.isArray(s)?r(s):i.a.format.encodeHTML(i.a.format.addCommas(s)),l=o.getName(e),c=o.getItemVisual(e,"color");i.a.util.isObject(c)&&c.colorStops&&(c=(c.colorStops[0]||{}).color),c=c||"transparent";var h=i.a.format.getTooltipMarker(c),f=t.name;return"\0-"===f&&(f=""),f=f?i.a.format.encodeHTML(f)+(n?": ":"<br/>"):"",n?h+f+u:f+h+(l?i.a.format.encodeHTML(l)+": "+u:u)}},function(t,e,n){"use strict";var r=n(72),i=n(11),a=r["a"].extend({skeleton:null,joints:null,useSkinMatricesTexture:!1},function(){this.joints||(this.joints=[])},{isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var t=r["a"].prototype.clone.call(this);return t.skeleton=this.skeleton,this.joints&&(t.joints=this.joints.slice()),t}});a.POINTS=i["a"].POINTS,a.LINES=i["a"].LINES,a.LINE_LOOP=i["a"].LINE_LOOP,a.LINE_STRIP=i["a"].LINE_STRIP,a.TRIANGLES=i["a"].TRIANGLES,a.TRIANGLE_STRIP=i["a"].TRIANGLE_STRIP,a.TRIANGLE_FAN=i["a"].TRIANGLE_FAN,a.BACK=i["a"].BACK,a.FRONT=i["a"].FRONT,a.FRONT_AND_BACK=i["a"].FRONT_AND_BACK,a.CW=i["a"].CW,a.CCW=i["a"].CCW,e["a"]=a},function(t,e,n){"use strict";var r=n(58),i=r["a"].extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var t=this.fov/180*Math.PI;this.projectionMatrix.perspective(t,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array,e=2*Math.atan(1/t[5]);this.fov=e/Math.PI*180,this.aspect=t[5]/t[0],this.near=t[14]/(t[10]-1),this.far=t[14]/(t[10]+1)},clone:function(){var t=r["a"].prototype.clone.call(this);return t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t}});e["a"]=i},function(t,e,n){"use strict";var r=n(40),i=n(76),a=n(8),o=n(19),s=n(4),u=n(121);a["a"].import(u["a"]);var l=r["a"].extend(function(){var t=new a["a"]({vertex:a["a"].source("clay.skybox.vertex"),fragment:a["a"].source("clay.skybox.fragment")}),e=new o["a"]({shader:t,depthMask:!1});return{scene:null,geometry:new i["a"],material:e,environmentMap:null,culling:!1}},function(){var t=this.scene;t&&this.attachScene(t),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(t){this.scene&&this.detachScene(),t.skybox=this,this.scene=t,t.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(t){this.detachScene(),this.geometry.dispose(t)},setEnvironmentMap:function(t){"texture2D"===t.textureType?(this.material.define("EQUIRECTANGULAR"),t.minFilter=s["a"].LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",t)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(t,e,n){this.renderSkybox(t,n)},renderSkybox:function(t,e){this.position.copy(e.getWorldPosition()),this.update(),t.gl.disable(t.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),t.renderPass([this],e)}});e["a"]=l},function(t,e,n){"use strict";var r=n(15),i=n(18),a=r["a"].extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var t=this.heightSegments,e=this.widthSegments,n=this.attributes,r=[],a=[],o=[],s=[],u=0;u<=t;u++)for(var l=u/t,c=0;c<=e;c++){var h=c/e;if(r.push([2*h-1,2*l-1,0]),a&&a.push([h,l]),o&&o.push([0,0,1]),c<e&&u<t){var f=c+u*(e+1);s.push([f,f+1,f+e+1]),s.push([f+e+1,f+1,f+e+2])}}n.position.fromArray(r),n.texcoord0.fromArray(a),n.normal.fromArray(o),this.initIndicesFromArray(s),this.boundingBox=new i["a"],this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});e["a"]=a},function(t,e,n){"use strict";e["a"]={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(t){t=t||{},this.option.viewControl=this.option.viewControl||{},null!=t.alpha&&(this.option.viewControl.alpha=t.alpha),null!=t.beta&&(this.option.viewControl.beta=t.beta),null!=t.distance&&(this.option.viewControl.distance=t.distance),null!=t.center&&(this.option.viewControl.center=t.center)}}},function(t,e,n){"use strict";var r=n(7),i=n(26),a=n(3),o=(n(56),n(2)),s=o["a"].firstNotNull,u={left:0,middle:1,right:2};function l(t){return t instanceof Array||(t=[t,t]),t}var c=r["a"].extend(function(){return{zr:null,viewGL:null,_center:new a["a"],minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new i["a"],_panVelocity:new i["a"],_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}},function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach(function(t){this[t]=this[t].bind(this)},this)},{init:function(){var t=this.zr;t&&(t.on("mousedown",this._mouseDownHandler),t.on("globalout",this._mouseUpHandler),t.on("mousewheel",this._mouseWheelHandler),t.on("pinch",this._pinchHandler),t.animation.on("frame",this._update),t.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var t=this.zr;t&&(t.off("mousedown",this._mouseDownHandler),t.off("mousemove",this._mouseMoveHandler),t.off("mouseup",this._mouseUpHandler),t.off("mousewheel",this._mouseWheelHandler),t.off("pinch",this._pinchHandler),t.off("globalout",this._mouseUpHandler),t.dom.removeEventListener("contextmenu",this._contextMenuHandler),t.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(t){this._distance=t,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(t){this._orthoSize=t,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(t){t=Math.max(Math.min(this.maxAlpha,t),this.minAlpha),this._theta=t/180*Math.PI,this._needsUpdate=!0},setBeta:function(t){t=Math.max(Math.min(this.maxBeta,t),this.minBeta),this._phi=-t/180*Math.PI,this._needsUpdate=!0},setCenter:function(t){this._center.setArray(t)},setViewGL:function(t){this.viewGL=t},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(t,e){e=e||{};var n=e.baseDistance||0,r=e.baseOrthoSize||1,i=t.get("projection");"perspective"!==i&&"orthographic"!==i&&"isometric"!==i&&(console.error("Unkown projection type %s, use perspective projection instead.",i),i="perspective"),this._projection=i,this.viewGL.setProjection(i);var a=t.get("distance")+n,o=t.get("orthographicSize")+r;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach(function(e){this[e[0]]=s(t.get(e[0]),e[1])},this),this.minDistance+=n,this.maxDistance+=n,this.minOrthographicSize+=r,this.maxOrthographicSize+=r;var u=t.ecModel,l={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach(function(e){l[e]=s(t.get(e),u&&u.get(e))});var c=s(e.alpha,t.get("alpha"))||0,h=s(e.beta,t.get("beta"))||0,f=s(e.center,t.get("center"))||[0,0,0];l.animation&&l.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:c,beta:h,center:f,distance:a,targetOrthographicSize:o,easing:l.animationEasingUpdate,duration:l.animationDurationUpdate}):(this.setDistance(a),this.setAlpha(c),this.setBeta(h),this.setCenter(f),this.setOrthographicSize(o)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){null==u[this.panMouseButton]&&console.error("Unkown panMouseButton %s. It should be left|middle|right",this.panMouseButton),null==u[this.rotateMouseButton]&&console.error("Unkown rotateMouseButton %s. It should be left|middle|right",this.rotateMouseButton),"cw"!==this.autoRotateDirection&&"ccw"!==this.autoRotateDirection&&console.error("Unkown autoRotateDirection %s. It should be cw|ccw",this.autoRotateDirection)},animateTo:function(t){var e=this.zr,n=this,r={},i={};return null!=t.distance&&(r.distance=this.getDistance(),i.distance=t.distance),null!=t.orthographicSize&&(r.orthographicSize=this.getOrthographicSize(),i.orthographicSize=t.orthographicSize),null!=t.alpha&&(r.alpha=this.getAlpha(),i.alpha=t.alpha),null!=t.beta&&(r.beta=this.getBeta(),i.beta=t.beta),null!=t.center&&(r.center=this.getCenter(),i.center=t.center),this._addAnimator(e.animation.animate(r).when(t.duration||1e3,i).during(function(){null!=r.alpha&&n.setAlpha(r.alpha),null!=r.beta&&n.setBeta(r.beta),null!=r.distance&&n.setDistance(r.distance),null!=r.center&&n.setCenter(r.center),null!=r.orthographicSize&&n.setOrthographicSize(r.orthographicSize),n._needsUpdate=!0})).start(t.easing||"linear")},stopAllAnimation:function(){for(var t=0;t<this._animators.length;t++)this._animators[t].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(t){if(this._rotating){var e=("cw"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=e*t/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(t=Math.min(t,50),this._updateDistanceOrSize(t),this._updatePan(t),this._updateRotate(t),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(t){var e=this._rotateVelocity;this._phi=e.y*t/20+this._phi,this._theta=e.x*t/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(e,Math.pow(this.damping,t/16))},_updateDistanceOrSize:function(t){"perspective"===this._projection?this._setDistance(this._distance+this._zoomSpeed*t/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*t/20),this._zoomSpeed*=Math.pow(this.damping,t/16)},_setDistance:function(t){this._distance=Math.max(Math.min(t,this.maxDistance),this.minDistance)},_setOrthoSize:function(t){this._orthoSize=Math.max(Math.min(t,this.maxOrthographicSize),this.minOrthographicSize);var e=this.getCamera(),n=this._orthoSize,r=n/this.viewGL.viewport.height*this.viewGL.viewport.width;e.left=-r/2,e.right=r/2,e.top=n/2,e.bottom=-n/2},_updatePan:function(t){var e=this._panVelocity,n=this._distance,r=this.getCamera(),i=r.worldTransform.y,a=r.worldTransform.x;this._center.scaleAndAdd(a,-e.x*n/200).scaleAndAdd(i,-e.y*n/200),this._vectorDamping(e,0)},_updateTransform:function(){var t=this.getCamera(),e=new a["a"],n=this._theta+Math.PI/2,r=this._phi+Math.PI/2,i=Math.sin(n);e.x=i*Math.cos(r),e.y=-Math.cos(n),e.z=i*Math.sin(r),t.position.copy(this._center).scaleAndAdd(e,this._distance),t.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var t=this.autoRotateAfterStill,e=this;!isNaN(t)&&t>0&&(this._stillTimeout=setTimeout(function(){e._rotating=!0},1e3*t))},_vectorDamping:function(t,e){var n=t.len();n*=e,n<1e-4&&(n=0),t.normalize().scale(n)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var t=this.getCamera().worldTransform.z,e=Math.asin(t.y),n=Math.atan2(t.x,t.z);this._theta=e,this._phi=-n,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(t){if(!t.target&&!this._isAnimating()){var e=t.offsetX,n=t.offsetY;this.viewGL&&!this.viewGL.containPoint(e,n)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),t.event.targetTouches?1===t.event.targetTouches.length&&(this._mode="rotate"):t.event.button===u[this.rotateMouseButton]?this._mode="rotate":t.event.button===u[this.panMouseButton]?this._mode="pan":this._mode="",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=t.offsetX,this._mouseY=t.offsetY)}},_mouseMoveHandler:function(t){if((!t.target||!t.target.__isGLToZRProxy)&&!this._isAnimating()){var e=l(this.panSensitivity),n=l(this.rotateSensitivity);"rotate"===this._mode?(this._rotateVelocity.y=(t.offsetX-this._mouseX)/this.zr.getHeight()*2*n[0],this._rotateVelocity.x=(t.offsetY-this._mouseY)/this.zr.getWidth()*2*n[1]):"pan"===this._mode&&(this._panVelocity.x=(t.offsetX-this._mouseX)/this.zr.getWidth()*e[0]*400,this._panVelocity.y=(-t.offsetY+this._mouseY)/this.zr.getHeight()*e[1]*400),this._mouseX=t.offsetX,this._mouseY=t.offsetY,t.event.preventDefault()}},_mouseWheelHandler:function(t){if(!this._isAnimating()){var e=t.event.wheelDelta||-t.event.detail;this._zoomHandler(t,e)}},_pinchHandler:function(t){this._isAnimating()||(this._zoomHandler(t,t.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(t,e){if(0!==e){var n,r=t.offsetX,i=t.offsetY;if(!this.viewGL||this.viewGL.containPoint(r,i))n="perspective"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(e>0?-1:1)*n*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),t.event.preventDefault()}},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return"right"===this.rotateMouseButton||"right"===this.panMouseButton},_contextMenuHandler:function(t){this._isRightMouseButtonUsed()&&t.preventDefault()},_addAnimator:function(t){var e=this._animators;return e.push(t),t.done(function(){var n=e.indexOf(t);n>=0&&e.splice(n,1)}),t}});Object.defineProperty(c.prototype,"autoRotate",{get:function(t){return this._autoRotate},set:function(t){this._autoRotate=t,this._rotating=t}}),e["a"]=c},function(t,e,n){"use strict";e["a"]="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, 1.0);\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n float n = (p1.w - near) / (p1.w - p2.w);\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n if (currProj.w < 0.0) {\n if (nextProj.w > 0.0) {\n currProj = clipNear(currProj, nextProj);\n }\n else if (prevProj.w > 0.0) {\n currProj = clipNear(currProj, prevProj);\n }\n }\n\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n vec2 dir;\n float len = offset;\n if (position == positionPrev) {\n dir = normalize(nextScreen - currScreen);\n }\n else if (position == positionNext) {\n dir = normalize(currScreen - prevScreen);\n }\n else {\n vec2 dirA = normalize(currScreen - prevScreen);\n vec2 dirB = normalize(nextScreen - currScreen);\n\n vec2 tanget = normalize(dirA + dirB);\n\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n len *= miter;\n dir = tanget;\n }\n\n dir = vec2(-dir.y, dir.x) * len;\n currScreen += dir;\n\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"},function(t,e,n){var r=n(13),i=n(82),a=n(85),o=a.parsePercent,s=n(171),u=r.each,l=["left","right","top","bottom","width","height"],c=[["width","left","right"],["height","top","bottom"]];function h(t,e,n,r,i){var a=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild(function(u,l){var c,h,f=u.position,d=u.getBoundingRect(),p=e.childAt(l+1),m=p&&p.getBoundingRect();if("horizontal"===t){var g=d.width+(m?-m.x+d.x:0);c=a+g,c>r||u.newline?(a=0,c=g,o+=s+n,s=d.height):s=Math.max(s,d.height)}else{var v=d.height+(m?-m.y+d.y:0);h=o+v,h>i||u.newline?(a+=s+n,o=0,h=v,s=d.width):s=Math.max(s,d.width)}u.newline||(f[0]=a,f[1]=o,"horizontal"===t?a=c+n:o=h+n)})}var f=h,d=r.curry(h,"vertical"),p=r.curry(h,"horizontal");function m(t,e,n){var r=e.width,i=e.height,a=o(t.x,r),u=o(t.y,i),l=o(t.x2,r),c=o(t.y2,i);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(l)||isNaN(parseFloat(t.x2)))&&(l=r),(isNaN(u)||isNaN(parseFloat(t.y)))&&(u=0),(isNaN(c)||isNaN(parseFloat(t.y2)))&&(c=i),n=s.normalizeCssArray(n||0),{width:Math.max(l-a-n[1]-n[3],0),height:Math.max(c-u-n[0]-n[2],0)}}function g(t,e,n){n=s.normalizeCssArray(n||0);var r=e.width,a=e.height,u=o(t.left,r),l=o(t.top,a),c=o(t.right,r),h=o(t.bottom,a),f=o(t.width,r),d=o(t.height,a),p=n[2]+n[0],m=n[1]+n[3],g=t.aspect;switch(isNaN(f)&&(f=r-c-m-u),isNaN(d)&&(d=a-h-p-l),null!=g&&(isNaN(f)&&isNaN(d)&&(g>r/a?f=.8*r:d=.8*a),isNaN(f)&&(f=g*d),isNaN(d)&&(d=f/g)),isNaN(u)&&(u=r-c-f-m),isNaN(l)&&(l=a-h-d-p),t.left||t.right){case"center":u=r/2-f/2-n[3];break;case"right":u=r-f-m;break}switch(t.top||t.bottom){case"middle":case"center":l=a/2-d/2-n[0];break;case"bottom":l=a-d-p;break}u=u||0,l=l||0,isNaN(f)&&(f=r-m-u-(c||0)),isNaN(d)&&(d=a-p-l-(h||0));var v=new i(u+n[3],l+n[0],f,d);return v.margin=n,v}function v(t,e,n,a,o){var s=!o||!o.hv||o.hv[0],u=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(s||u){var c;if("raw"===l)c="group"===t.type?new i(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(c=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();c=c.clone(),c.applyTransform(h)}e=g(r.defaults({width:c.width,height:c.height},e),n,a);var f=t.position,d=s?e.x-c.x:0,p=u?e.y-c.y:0;t.attr("position","raw"===l?[d,p]:[f[0]+d,f[1]+p])}}function _(t,e){return null!=t[c[e][0]]||null!=t[c[e][1]]&&null!=t[c[e][2]]}function y(t,e,n){!r.isObject(n)&&(n={});var i=n.ignoreSize;!r.isArray(i)&&(i=[i,i]);var a=s(c[0],0),o=s(c[1],1);function s(n,r){var a={},o=0,s={},c=0,f=2;if(u(n,function(e){s[e]=t[e]}),u(n,function(t){l(e,t)&&(a[t]=s[t]=e[t]),h(a,t)&&o++,h(s,t)&&c++}),i[r])return h(e,n[1])?s[n[2]]=null:h(e,n[2])&&(s[n[1]]=null),s;if(c!==f&&o){if(o>=f)return a;for(var d=0;d<n.length;d++){var p=n[d];if(!l(a,p)&&l(t,p)){a[p]=t[p];break}}return a}return s}function l(t,e){return t.hasOwnProperty(e)}function h(t,e){return null!=t[e]&&"auto"!==t[e]}function f(t,e,n){u(t,function(t){e[t]=n[t]})}f(c[0],t,a),f(c[1],t,o)}function x(t){return b({},t)}function b(t,e){return e&&t&&u(l,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}e.LOCATION_PARAMS=l,e.HV_NAMES=c,e.box=f,e.vbox=d,e.hbox=p,e.getAvailableSize=m,e.getLayoutRect=g,e.positionElement=v,e.sizeCalculable=_,e.mergeLayoutParam=y,e.getLayoutParams=x,e.copyLayoutParams=b},function(t,e,n){"use strict";var r=n(7),i=r["a"].extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(t,e){var n,r,i=this.outputs[t],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)"width"!==s&&"height"!==s&&(o[s]=a[s]);return n=a.width instanceof Function?a.width.call(this,e):a.width,r=a.height instanceof Function?a.height.call(this,e):a.height,o.width===n&&o.height===r||this._outputTextures[t]&&this._outputTextures[t].dispose(e.gl),o.width=n,o.height=r,o},setParameter:function(t,e){},getParameter:function(t){},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},render:function(){},getOutput:function(t,e){if(null==e)return e=t,this._outputTextures[e];var n=this.outputs[e];return n?this._rendered?n.outputLastFrame?this._prevOutputTextures[e]:this._outputTextures[e]:this._rendering?(this._prevOutputTextures[e]||(this._prevOutputTextures[e]=this._compositor.allocateTexture(n.parameters||{})),this._prevOutputTextures[e]):(this.render(t),this._outputTextures[e]):void 0},removeReference:function(t){if(this._outputReferences[t]--,0===this._outputReferences[t]){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}},link:function(t,e,n){this.inputLinks[t]={node:e,pin:n},e.outputLinks[n]||(e.outputLinks[n]=[]),e.outputLinks[n].push({node:this,pin:t}),this.pass.material.enableTexture(t)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(t){if(!this._rendering){for(var e in this._rendering=!0,this.inputLinks){var n=this.inputLinks[e];n.node.updateReference(n.pin)}this._rendering=!1}t&&this._outputReferences[t]++},beforeFrame:function(){for(var t in this._rendered=!1,this.outputLinks)this._outputReferences[t]=0},afterFrame:function(){for(var t in this.outputLinks)if(this._outputReferences[t]>0){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}}});e["a"]=i},function(t,e,n){"use strict";function r(t,e){var n=0,r=1/e,i=t;while(i>0)n+=r*(i%e),i=Math.floor(i/e),r/=e;return n}e["a"]=r},function(t,e,n){"use strict";var r=n(0),i=n.n(r);e["a"]=function(t,e,n){n=n||t.getSource();var r=e||i.a.getCoordinateSystemDimensions(t.get("coordinateSystem"))||["x","y","z"],a=i.a.helper.createDimensions(n,{dimensionsDefine:n.dimensionsDefine||t.get("dimensions"),encodeDefine:n.encodeDefine||t.get("encode"),coordDimensions:r.map(function(e){var n=t.getReferringComponents(e+"Axis3D")[0];return{type:n&&"category"===n.get("type")?"ordinal":"float",name:e}})});"cartesian3D"===t.get("coordinateSystem")&&a.forEach(function(e){if(r.indexOf(e.coordDim)>=0){var n=t.getReferringComponents(e.coordDim+"Axis3D")[0];n&&"category"===n.get("type")&&(e.ordinalMeta=n.getOrdinalMeta())}});var o=i.a.helper.dataStack.enableDataStack(t,a,{byIndex:!0,stackedCoordDimension:"z"}),s=new i.a.List(a,t);return s.setCalculationInfo(o),s.initData(n),s}},function(t,e){function n(t,e,n){return{seriesType:t,performRawSeries:!0,reset:function(t,r,i){var a=t.getData(),o=t.get("symbol")||e,s=t.get("symbolSize"),u=t.get("symbolKeepAspect");if(a.setVisual({legendSymbol:n||o,symbol:o,symbolSize:s,symbolKeepAspect:u}),!r.isSeriesFiltered(t)){var l="function"===typeof s;return{dataEach:a.hasItemOption||l?c:null}}function c(e,n){if("function"===typeof s){var r=t.getRawValue(n),i=t.getDataParams(n);e.setItemVisual(n,"symbolSize",s(r,i))}if(e.hasItemOption){var a=e.getItemModel(n),o=a.getShallow("symbol",!0),u=a.getShallow("symbolSize",!0),l=a.getShallow("symbolKeepAspect",!0);null!=o&&e.setItemVisual(n,"symbol",o),null!=u&&e.setItemVisual(n,"symbolSize",u),null!=l&&e.setItemVisual(n,"symbolKeepAspect",l)}}}}}t.exports=n},function(t,e,n){"use strict";var r=n(7),i=n(111),a=n(11),o=n(14),s=n(19),u=n(26),l=n(115),c=n(8),h=n(71),f=n(21),d=n(12);c["a"]["import"](h["a"]);var p=f["a"].create,m={};function g(t){return t.material}function v(t,e,n){return e.uniforms[n].value}function _(t,e,n,r){return n!==r}function y(t){return!0}function x(){}var b={float:a["a"].FLOAT,byte:a["a"].BYTE,ubyte:a["a"].UNSIGNED_BYTE,short:a["a"].SHORT,ushort:a["a"].UNSIGNED_SHORT};function w(t,e,n){this.availableAttributes=t,this.availableAttributeSymbols=e,this.indicesBuffer=n,this.vao=null}function T(t){var e,n;this.bind=function(t){e||(e=o["a"].createCanvas(),e.width=e.height=1,e.getContext("2d"));var r=t.gl,i=!n;i&&(n=r.createTexture()),r.bindTexture(r.TEXTURE_2D,n),i&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e)},this.unbind=function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var S=r["a"].extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=o["a"].createCanvas());var t=this.canvas;try{var e={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!this.gl)throw new Error;this._glinfo=new i["a"](this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(n){throw"Error creating WebGL Context "+n}this._programMgr=new l["a"](this),this._placeholderTexture=new T(this)},{resize:function(t,e){var n=this.canvas,r=this.devicePixelRatio;null!=t?(n.style.width=t+"px",n.style.height=e+"px",n.width=t*r,n.height=e*r,this._width=t,this._height=e):(this._width=n.width/r,this._height=n.height/r),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var t=this.viewport;return t.width/t.height},setDevicePixelRatio:function(t){this.devicePixelRatio=t,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(t){return this._glinfo.getExtension(t)},getGLParameter:function(t){return this._glinfo.getParameter(t)},setViewport:function(t,e,n,r,i){if("object"===typeof t){var a=t;t=a.x,e=a.y,n=a.width,r=a.height,i=a.devicePixelRatio}i=i||this.devicePixelRatio,this.gl.viewport(t*i,e*i,n*i,r*i),this.viewport={x:t,y:e,width:n,height:r,devicePixelRatio:i}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var t=this._clearStack.pop();this.clearColor=t.clearColor,this.clearBit=t.clearBit}},bindSceneRendering:function(t){this._sceneRendering=t},render:function(t,e,n,r){var i=this.gl,a=this.clearColor;if(this.clearBit){i.colorMask(!0,!0,!0,!0),i.depthMask(!0);var o=this.viewport,s=!1,u=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||u&&u!==this.devicePixelRatio||o.x||o.y)&&(s=!0,i.enable(i.SCISSOR_TEST),i.scissor(o.x*u,o.y*u,o.width*u,o.height*u)),i.clearColor(a[0],a[1],a[2],a[3]),i.clear(this.clearBit),s&&i.disable(i.SCISSOR_TEST)}if(n||t.update(!1),t.updateLights(),e=e||t.getMainCamera(),e){e.update();var l=t.updateRenderList(e,!0);this._sceneRendering=t;var c=l.opaque,h=l.transparent,m=t.material;t.trigger("beforerender",this,t,e,l),r?(this.renderPreZ(c,t,e),i.depthFunc(i.LEQUAL)):i.depthFunc(i.LESS);for(var g=p(),v=d["a"].create(),_=0;_<h.length;_++){var y=h[_];f["a"].multiplyAffine(g,e.viewMatrix.array,y.worldTransform.array),d["a"].transformMat4(v,y.position.array,g),y.__depth=v[2]}this.renderPass(c,e,{getMaterial:function(t){return m||t.material},sortCompare:this.opaqueSortCompare}),this.renderPass(h,e,{getMaterial:function(t){return m||t.material},sortCompare:this.transparentSortCompare}),t.trigger("afterrender",this,t,e,l),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(t,e,n){return e=e||t.material,this._programMgr.getProgram(t,e,n)},validateProgram:function(t){if(t.__error){var e=t.__error;if(m[t.__uid__])return;if(m[t.__uid__]=!0,this.throwError)throw new Error(e);this.trigger("error",e)}},updatePrograms:function(t,e,n){var r=n&&n.getMaterial||g;e=e||null;for(var i=0;i<t.length;i++){var a=t[i],o=r.call(this,a);if(i>0){var s=t[i-1],u=s.joints?s.joints.length:0,l=a.joints?a.joints.length:0;if(l===u&&a.material===s.material&&a.lightGroup===s.lightGroup){a.__program=s.__program;continue}}var c=this._programMgr.getProgram(a,o,e);this.validateProgram(c),a.__program=c}},renderPass:function(t,e,n){this.trigger("beforerenderpass",this,t,e,n),n=n||{},n.getMaterial=n.getMaterial||g,n.getUniform=n.getUniform||v,n.isMaterialChanged=n.isMaterialChanged||_,n.beforeRender=n.beforeRender||x,n.afterRender=n.afterRender||x;var r=n.ifRender||y;this.updatePrograms(t,this._sceneRendering,n),n.sortCompare&&t.sort(n.sortCompare);var i=this.viewport,a=i.devicePixelRatio,o=[i.x*a,i.y*a,i.width*a,i.height*a],s=this.devicePixelRatio,u=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],l=[o[2],o[3]],c=Date.now();e?(f["a"].copy(E.VIEW,e.viewMatrix.array),f["a"].copy(E.PROJECTION,e.projectionMatrix.array),f["a"].copy(E.VIEWINVERSE,e.worldTransform.array)):(f["a"].identity(E.VIEW),f["a"].identity(E.PROJECTION),f["a"].identity(E.VIEWINVERSE)),f["a"].multiply(E.VIEWPROJECTION,E.PROJECTION,E.VIEW),f["a"].invert(E.PROJECTIONINVERSE,E.PROJECTION),f["a"].invert(E.VIEWPROJECTIONINVERSE,E.VIEWPROJECTION);for(var h,d,p,m,b,w,T,S,M,A,C,O,D=this.gl,L=this._sceneRendering,I=this.getGLExtension("OES_vertex_array_object"),P=0;P<t.length;P++){var R,N=t[P],k=null!=N.worldTransform;if(r(N)){k&&(R=N.isSkinnedMesh&&N.isSkinnedMesh()?E.IDENTITY:N.worldTransform.array);var F=N.geometry,B=n.getMaterial.call(this,N),z=N.__program,U=B.shader,G=F.__uid__+"-"+z.__uid__,j=G!==A;A=G,j&&I&&I.bindVertexArrayOES(null),k&&(f["a"].copy(E.WORLD,R),f["a"].multiply(E.WORLDVIEWPROJECTION,E.VIEWPROJECTION,R),f["a"].multiplyAffine(E.WORLDVIEW,E.VIEW,R),(U.matrixSemantics.WORLDINVERSE||U.matrixSemantics.WORLDINVERSETRANSPOSE)&&f["a"].invert(E.WORLDINVERSE,R),(U.matrixSemantics.WORLDVIEWINVERSE||U.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&f["a"].invert(E.WORLDVIEWINVERSE,E.WORLDVIEW),(U.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||U.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&f["a"].invert(E.WORLDVIEWPROJECTIONINVERSE,E.WORLDVIEWPROJECTION)),N.beforeRender&&N.beforeRender(this),n.beforeRender.call(this,N,B,h);var H=z!==d;H?(z.bind(this),z.setUniformOfSemantic(D,"VIEWPORT",o),z.setUniformOfSemantic(D,"WINDOW_SIZE",u),e&&(z.setUniformOfSemantic(D,"NEAR",e.near),z.setUniformOfSemantic(D,"FAR",e.far)),z.setUniformOfSemantic(D,"DEVICEPIXELRATIO",a),z.setUniformOfSemantic(D,"TIME",c),z.setUniformOfSemantic(D,"VIEWPORT_SIZE",l),L&&L.setLightUniforms(z,N.lightGroup,this)):z=d,(H||n.isMaterialChanged(N,p,B,h))&&(B.depthTest!==m&&(B.depthTest?D.enable(D.DEPTH_TEST):D.disable(D.DEPTH_TEST),m=B.depthTest),B.depthMask!==b&&(D.depthMask(B.depthMask),b=B.depthMask),B.transparent!==M&&(B.transparent?D.enable(D.BLEND):D.disable(D.BLEND),M=B.transparent),B.transparent&&(B.blend?B.blend(D):(D.blendEquationSeparate(D.FUNC_ADD,D.FUNC_ADD),D.blendFuncSeparate(D.SRC_ALPHA,D.ONE_MINUS_SRC_ALPHA,D.ONE,D.ONE_MINUS_SRC_ALPHA))),O=this._bindMaterial(N,B,z,p||null,h||null,d||null,n.getUniform),h=B);var V=U.matrixSemanticKeys;if(k)for(var W=0;W<V.length;W++){var X=V[W],q=U.matrixSemantics[X],Y=E[X];if(q.isTranspose){var Z=E[q.semanticNoTranspose];f["a"].transpose(Y,Z)}z.setUniform(D,q.type,q.symbol,Y)}N.cullFace!==T&&(T=N.cullFace,D.cullFace(T)),N.frontFace!==S&&(S=N.frontFace,D.frontFace(S)),N.culling!==w&&(w=N.culling,w?D.enable(D.CULL_FACE):D.disable(D.CULL_FACE)),this._updateSkeleton(N,z,O),j&&(C=this._bindVAO(I,U,F,z)),this._renderObject(N,C),n.afterRender(this,N),N.afterRender&&N.afterRender(this),d=z,p=N}}I&&I.bindVertexArrayOES(null),this.trigger("afterrenderpass",this,t,e,n)},getMaxJointNumber:function(){return this._glinfo.getMaxJointNumber()},_updateSkeleton:function(t,e,n){var r=this.gl,i=t.skeleton;if(i)if(i.update(),t.joints.length>this._glinfo.getMaxJointNumber()){var a=i.getSubSkinMatricesTexture(t.__uid__,t.joints);e.useTextureSlot(this,a,n),e.setUniform(r,"1i","skinMatricesTexture",n),e.setUniform(r,"1f","skinMatricesTextureSize",a.width)}else{var o=i.getSubSkinMatrices(t.__uid__,t.joints);e.setUniformOfSemantic(r,"SKIN_MATRIX",o)}},_renderObject:function(t,e){var n=this.gl,r=t.geometry,i=t.mode;if(null==i&&(i=4),e.indicesBuffer){var a=this.getGLExtension("OES_element_index_uint"),o=a&&r.indices instanceof Uint32Array,s=o?n.UNSIGNED_INT:n.UNSIGNED_SHORT;n.drawElements(i,e.indicesBuffer.count,s,0)}else n.drawArrays(i,0,r.vertexCount)},_bindMaterial:function(t,e,n,r,i,a,o){for(var s=this.gl,u=a===n,l=n.currentTextureSlot(),c=e.getEnabledUniforms(),h=e.getTextureUniforms(),f=this._placeholderTexture,d=0;d<h.length;d++){var p=h[d],m=o(t,e,p),g=e.uniforms[p].type;if("t"===g&&m)m.__slot=-1;else if("tv"===g)for(var v=0;v<m.length;v++)m[v]&&(m[v].__slot=-1)}f.__slot=-1;for(d=0;d<c.length;d++){p=c[d];var _=e.uniforms[p],y=(m=o(t,e,p),g=_.type,"t"===g);if(y&&(m&&m.isRenderable()||(m=f)),i&&u){var x=o(r,i,p);if(y&&(x&&x.isRenderable()||(x=f)),x===m){if(y)n.takeCurrentTextureSlot(this,null);else if("tv"===g&&m)for(v=0;v<m.length;v++)n.takeCurrentTextureSlot(this,null);continue}}if(null!=m)if(y)if(m.__slot<0){var b=n.currentTextureSlot(),w=n.setUniform(s,"1i",p,b);w&&(n.takeCurrentTextureSlot(this,m),m.__slot=b)}else n.setUniform(s,"1i",p,m.__slot);else if(Array.isArray(m)){if(0===m.length)continue;if("tv"===g){if(!n.hasUniform(p))continue;var T=[];for(v=0;v<m.length;v++){var S=m[v];if(S.__slot<0){b=n.currentTextureSlot();T.push(b),n.takeCurrentTextureSlot(this,S),S.__slot=b}else T.push(S.__slot)}n.setUniform(s,"1iv",p,T)}else n.setUniform(s,_.type,p,m)}else n.setUniform(s,_.type,p,m)}var E=n.currentTextureSlot();return n.resetTextureSlot(l),E},_bindVAO:function(t,e,n,r){var i=!n.dynamic,a=this.gl,o=this.__uid__+"-"+r.__uid__,s=n.__vaoCache[o];if(!s){var u=n.getBufferChunks(this);if(!u||!u.length)return;for(var l=u[0],c=l.attributeBuffers,h=l.indicesBuffer,f=[],d=[],p=0;p<c.length;p++){var m,g=c[p],v=g.name,_=g.semantic;if(_){var y=e.attributeSemantics[_];m=y&&y.symbol}else m=v;m&&r.attributes[m]&&(f.push(g),d.push(m))}s=new w(f,d,h),i&&(n.__vaoCache[o]=s)}var x=!0;t&&i&&(null==s.vao?s.vao=t.createVertexArrayOES():x=!1,t.bindVertexArrayOES(s.vao));f=s.availableAttributes,h=s.indicesBuffer;if(x){var T=r.enableAttributes(this,s.availableAttributeSymbols,t&&i&&s);for(p=0;p<f.length;p++){var S=T[p];if(-1!==S){g=f[p];var E=g.buffer,M=g.size,A=b[g.type]||a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,E),a.vertexAttribPointer(S,M,A,!1,0,0)}}n.isUseIndices()&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,h.buffer)}return s},renderPreZ:function(t,e,n){var r=this.gl,i=this._prezMaterial||new s["a"]({shader:new c["a"](c["a"].source("clay.prez.vertex"),c["a"].source("clay.prez.fragment"))});this._prezMaterial=i,r.colorMask(!1,!1,!1,!1),r.depthMask(!0),this.renderPass(t,n,{ifRender:function(t){return!t.ignorePreZ},isMaterialChanged:function(t,e){var n=t.material,r=e.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)},getUniform:function(t,e,n){if("alphaMap"===n)return t.material.get("diffuseMap");if("alphaCutoff"===n){if(t.material.isDefined("fragment","ALPHA_TEST")&&t.material.get("diffuseMap")){var r=t.material.get("alphaCutoff");return r||0}return 0}return e.get(n)},getMaterial:function(){return i},sort:this.opaqueSortCompare}),r.colorMask(!0,!0,!0,!0),r.depthMask(!0)},disposeScene:function(t){this.disposeNode(t,!0,!0),t.dispose()},disposeNode:function(t,e,n){t.getParent()&&t.getParent().remove(t);var r={};t.traverse(function(t){var i=t.material;if(t.geometry&&e&&t.geometry.dispose(this),n&&i&&!r[i.__uid__]){for(var a=i.getTextureUniforms(),o=0;o<a.length;o++){var s=a[o],u=i.uniforms[s].value,l=i.uniforms[s].type;if(u)if("t"===l)u.dispose&&u.dispose(this);else if("tv"===l)for(var c=0;c<u.length;c++)u[c]&&u[c].dispose&&u[c].dispose(this)}r[i.__uid__]=!0}t.dispose&&t.dispose(this)},this)},disposeGeometry:function(t){t.dispose(this)},disposeTexture:function(t){t.dispose(this)},disposeFrameBuffer:function(t){t.dispose(this)},dispose:function(){},screenToNDC:function(t,e,n){n||(n=new u["a"]),e=this._height-e;var r=this.viewport,i=n.array;return i[0]=(t-r.x)/r.width,i[0]=2*i[0]-1,i[1]=(e-r.y)/r.height,i[1]=2*i[1]-1,n}});S.opaqueSortCompare=S.prototype.opaqueSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.renderOrder-e.renderOrder},S.transparentSortCompare=S.prototype.transparentSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__depth===e.__depth?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.__depth-e.__depth:t.renderOrder-e.renderOrder};var E={IDENTITY:p(),WORLD:p(),VIEW:p(),PROJECTION:p(),WORLDVIEW:p(),VIEWPROJECTION:p(),WORLDVIEWPROJECTION:p(),WORLDINVERSE:p(),VIEWINVERSE:p(),PROJECTIONINVERSE:p(),WORLDVIEWINVERSE:p(),VIEWPROJECTIONINVERSE:p(),WORLDVIEWPROJECTIONINVERSE:p(),WORLDTRANSPOSE:p(),VIEWTRANSPOSE:p(),PROJECTIONTRANSPOSE:p(),WORLDVIEWTRANSPOSE:p(),VIEWPROJECTIONTRANSPOSE:p(),WORLDVIEWPROJECTIONTRANSPOSE:p(),WORLDINVERSETRANSPOSE:p(),VIEWINVERSETRANSPOSE:p(),PROJECTIONINVERSETRANSPOSE:p(),WORLDVIEWINVERSETRANSPOSE:p(),VIEWPROJECTIONINVERSETRANSPOSE:p(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:p()};S.COLOR_BUFFER_BIT=a["a"].COLOR_BUFFER_BIT,S.DEPTH_BUFFER_BIT=a["a"].DEPTH_BUFFER_BIT,S.STENCIL_BUFFER_BIT=a["a"].STENCIL_BUFFER_BIT,e["a"]=S},function(t,e,n){"use strict";function r(t,e){this.action=t,this.context=e}var i={trigger:function(t){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(t)){var e=this.__handlers__[t],n=e.length,r=-1,i=arguments;switch(i.length){case 1:while(++r<n)e[r].action.call(e[r].context);return;case 2:while(++r<n)e[r].action.call(e[r].context,i[1]);return;case 3:while(++r<n)e[r].action.call(e[r].context,i[1],i[2]);return;case 4:while(++r<n)e[r].action.call(e[r].context,i[1],i[2],i[3]);return;case 5:while(++r<n)e[r].action.call(e[r].context,i[1],i[2],i[3],i[4]);return;default:while(++r<n)e[r].action.apply(e[r].context,Array.prototype.slice.call(i,1));return}}},on:function(t,e,n){if(t&&e){var i=this.__handlers__||(this.__handlers__={});if(i[t]){if(this.has(t,e))return}else i[t]=[];var a=new r(e,n||this);return i[t].push(a),this}},once:function(t,e,n){if(t&&e){var r=this;return this.on(t,i,n)}function i(){r.off(t,i),e.apply(this,arguments)}},before:function(t,e,n){if(t&&e)return t="before"+t,this.on(t,e,n)},after:function(t,e,n){if(t&&e)return t="after"+t,this.on(t,e,n)},success:function(t,e){return this.once("success",t,e)},error:function(t,e){return this.once("error",t,e)},off:function(t,e){var n=this.__handlers__||(this.__handlers__={});if(e){if(n[t]){for(var r=n[t],i=[],a=0;a<r.length;a++)e&&r[a].action!==e&&i.push(r[a]);n[t]=i}return this}n[t]=[]},has:function(t,e){var n=this.__handlers__;if(!n||!n[t])return!1;for(var r=n[t],i=0;i<r.length;i++)if(r[i].action===e)return!0}};e["a"]=i},function(t,e,n){"use strict";var r=n(3),i=n(12),a=1e-5,o=function(t,e){this.origin=t||new r["a"],this.direction=e||new r["a"]};o.prototype={constructor:o,intersectPlane:function(t,e){var n=t.normal.array,a=t.distance,o=this.origin.array,s=this.direction.array,u=i["a"].dot(n,s);if(0===u)return null;e||(e=new r["a"]);var l=(i["a"].dot(n,o)-a)/u;return i["a"].scaleAndAdd(e.array,o,s,-l),e._dirty=!0,e},mirrorAgainstPlane:function(t){var e=i["a"].dot(t.normal.array,this.direction.array);i["a"].scaleAndAdd(this.direction.array,this.direction.array,t.normal.array,2*-e),this.direction._dirty=!0},distanceToPoint:function(){var t=i["a"].create();return function(e){i["a"].sub(t,e,this.origin.array);var n=i["a"].dot(t,this.direction.array);if(n<0)return i["a"].distance(this.origin.array,e);var r=i["a"].lenSquared(t);return Math.sqrt(r-n*n)}}(),intersectSphere:function(){var t=i["a"].create();return function(e,n,a){var o=this.origin.array,s=this.direction.array;e=e.array,i["a"].sub(t,e,o);var u=i["a"].dot(t,s),l=i["a"].squaredLength(t),c=l-u*u,h=n*n;if(!(c>h)){var f=Math.sqrt(h-c),d=u-f,p=u+f;return a||(a=new r["a"]),d<0?p<0?null:(i["a"].scaleAndAdd(a.array,o,s,p),a):(i["a"].scaleAndAdd(a.array,o,s,d),a)}}}(),intersectBoundingBox:function(t,e){var n,a,o,s,u,l,c=this.direction.array,h=this.origin.array,f=t.min.array,d=t.max.array,p=1/c[0],m=1/c[1],g=1/c[2];if(p>=0?(n=(f[0]-h[0])*p,a=(d[0]-h[0])*p):(a=(f[0]-h[0])*p,n=(d[0]-h[0])*p),m>=0?(o=(f[1]-h[1])*m,s=(d[1]-h[1])*m):(s=(f[1]-h[1])*m,o=(d[1]-h[1])*m),n>s||o>a)return null;if((o>n||n!==n)&&(n=o),(s<a||a!==a)&&(a=s),g>=0?(u=(f[2]-h[2])*g,l=(d[2]-h[2])*g):(l=(f[2]-h[2])*g,u=(d[2]-h[2])*g),n>l||u>a)return null;if((u>n||n!==n)&&(n=u),(l<a||a!==a)&&(a=l),a<0)return null;var v=n>=0?n:a;return e||(e=new r["a"]),i["a"].scaleAndAdd(e.array,h,c,v),e},intersectTriangle:function(){var t=i["a"].create(),e=i["a"].create(),n=i["a"].create(),o=i["a"].create();return function(s,u,l,c,h,f){var d=this.direction.array,p=this.origin.array;s=s.array,u=u.array,l=l.array,i["a"].sub(t,u,s),i["a"].sub(e,l,s),i["a"].cross(o,e,d);var m=i["a"].dot(t,o);if(c){if(m>-a)return null}else if(m>-a&&m<a)return null;i["a"].sub(n,p,s);var g=i["a"].dot(o,n)/m;if(g<0||g>1)return null;i["a"].cross(o,t,n);var v=i["a"].dot(d,o)/m;if(v<0||v>1||g+v>1)return null;i["a"].cross(o,t,e);var _=-i["a"].dot(n,o)/m;return _<0?null:(h||(h=new r["a"]),f&&r["a"].set(f,1-g-v,g,v),i["a"].scaleAndAdd(h.array,p,d,_),h)}}(),applyTransform:function(t){r["a"].add(this.direction,this.direction,this.origin),r["a"].transformMat4(this.origin,this.origin,t),r["a"].transformMat4(this.direction,this.direction,t),r["a"].sub(this.direction,this.direction,this.origin),r["a"].normalize(this.direction,this.direction)},copy:function(t){r["a"].copy(this.origin,t.origin),r["a"].copy(this.direction,t.direction)},clone:function(){var t=new o;return t.copy(this),t}},e["a"]=o},function(t,e,n){"use strict";var r=n(20),i=n(12),a=n(33),o=n(34),s={create:function(){var t=new r["a"](4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}};s.rotationTo=function(){var t=i["a"].create(),e=i["a"].fromValues(1,0,0),n=i["a"].fromValues(0,1,0);return function(r,a,o){var u=i["a"].dot(a,o);return u<-.999999?(i["a"].cross(t,e,a),i["a"].length(t)<1e-6&&i["a"].cross(t,n,a),i["a"].normalize(t,t),s.setAxisAngle(r,t,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(i["a"].cross(t,a,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+u,s.normalize(r,r))}}(),s.setAxes=function(){var t=o["a"].create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a["a"].clone,s.fromValues=a["a"].fromValues,s.copy=a["a"].copy,s.set=a["a"].set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},s.add=a["a"].add,s.multiply=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+o*s+i*l-a*u,t[1]=i*c+o*u+a*s-r*l,t[2]=a*c+o*l+r*u-i*s,t[3]=o*c-r*s-i*u-a*l,t},s.mul=s.multiply,s.scale=a["a"].scale,s.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=a*u-i*s,t[3]=o*u-r*s,t},s.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-a*s,t[1]=i*u+o*s,t[2]=a*u+r*s,t[3]=o*u-i*s,t},s.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=a*u+o*s,t[3]=o*u-a*s,t},s.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},s.dot=a["a"].dot,s.lerp=a["a"].lerp,s.slerp=function(t,e,n,r){var i,a,o,s,u,l=e[0],c=e[1],h=e[2],f=e[3],d=n[0],p=n[1],m=n[2],g=n[3];return a=l*d+c*p+h*m+f*g,a<0&&(a=-a,d=-d,p=-p,m=-m,g=-g),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,u=Math.sin(r*i)/o):(s=1-r,u=r),t[0]=s*l+u*d,t[1]=s*c+u*p,t[2]=s*h+u*m,t[3]=s*f+u*g,t},s.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a["a"].length,s.len=s.length,s.squaredLength=a["a"].squaredLength,s.sqrLen=s.squaredLength,s.normalize=a["a"].normalize,s.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t},e["a"]=s},function(t,e,n){"use strict";var r=n(55),i=n(34),a=function(t,e,n,i){t=t||0,e=e||0,n=n||0,i=void 0===i?1:i,this.array=r["a"].fromValues(t,e,n,i),this._dirty=!0};a.prototype={constructor:a,add:function(t){return r["a"].add(this.array,this.array,t.array),this._dirty=!0,this},calculateW:function(){return r["a"].calculateW(this.array,this.array),this._dirty=!0,this},set:function(t,e,n,r){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new a(this.x,this.y,this.z,this.w)},conjugate:function(){return r["a"].conjugate(this.array,this.array),this._dirty=!0,this},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},dot:function(t){return r["a"].dot(this.array,t.array)},fromMat3:function(t){return r["a"].fromMat3(this.array,t.array),this._dirty=!0,this},fromMat4:function(){var t=i["a"].create();return function(e){return i["a"].fromMat4(t,e.array),i["a"].transpose(t,t),r["a"].fromMat3(this.array,t),this._dirty=!0,this}}(),identity:function(){return r["a"].identity(this.array),this._dirty=!0,this},invert:function(){return r["a"].invert(this.array,this.array),this._dirty=!0,this},len:function(){return r["a"].len(this.array)},length:function(){return r["a"].length(this.array)},lerp:function(t,e,n){return r["a"].lerp(this.array,t.array,e.array,n),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},normalize:function(){return r["a"].normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(t){return r["a"].rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return r["a"].rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return r["a"].rotateZ(this.array,this.array,t),this._dirty=!0,this},rotationTo:function(t,e){return r["a"].rotationTo(this.array,t.array,e.array),this._dirty=!0,this},setAxes:function(t,e,n){return r["a"].setAxes(this.array,t.array,e.array,n.array),this._dirty=!0,this},setAxisAngle:function(t,e){return r["a"].setAxisAngle(this.array,t.array,e),this._dirty=!0,this},slerp:function(t,e,n){return r["a"].slerp(this.array,t.array,e.array,n),this._dirty=!0,this},sqrLen:function(){return r["a"].sqrLen(this.array)},squaredLength:function(){return r["a"].squaredLength(this.array)},fromEuler:function(t,e){return a.fromEuler(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var o=Object.defineProperty;if(o){var s=a.prototype;o(s,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),o(s,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),o(s,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),o(s,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}a.add=function(t,e,n){return r["a"].add(t.array,e.array,n.array),t._dirty=!0,t},a.set=function(t,e,n,i,a){r["a"].set(t.array,e,n,i,a),t._dirty=!0},a.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},a.calculateW=function(t,e){return r["a"].calculateW(t.array,e.array),t._dirty=!0,t},a.conjugate=function(t,e){return r["a"].conjugate(t.array,e.array),t._dirty=!0,t},a.identity=function(t){return r["a"].identity(t.array),t._dirty=!0,t},a.invert=function(t,e){return r["a"].invert(t.array,e.array),t._dirty=!0,t},a.dot=function(t,e){return r["a"].dot(t.array,e.array)},a.len=function(t){return r["a"].length(t.array)},a.lerp=function(t,e,n,i){return r["a"].lerp(t.array,e.array,n.array,i),t._dirty=!0,t},a.slerp=function(t,e,n,i){return r["a"].slerp(t.array,e.array,n.array,i),t._dirty=!0,t},a.mul=function(t,e,n){return r["a"].multiply(t.array,e.array,n.array),t._dirty=!0,t},a.multiply=a.mul,a.rotateX=function(t,e,n){return r["a"].rotateX(t.array,e.array,n),t._dirty=!0,t},a.rotateY=function(t,e,n){return r["a"].rotateY(t.array,e.array,n),t._dirty=!0,t},a.rotateZ=function(t,e,n){return r["a"].rotateZ(t.array,e.array,n),t._dirty=!0,t},a.setAxisAngle=function(t,e,n){return r["a"].setAxisAngle(t.array,e.array,n),t._dirty=!0,t},a.normalize=function(t,e){return r["a"].normalize(t.array,e.array),t._dirty=!0,t},a.sqrLen=function(t){return r["a"].sqrLen(t.array)},a.squaredLength=a.sqrLen,a.fromMat3=function(t,e){return r["a"].fromMat3(t.array,e.array),t._dirty=!0,t},a.setAxes=function(t,e,n,i){return r["a"].setAxes(t.array,e.array,n.array,i.array),t._dirty=!0,t},a.rotationTo=function(t,e,n){return r["a"].rotationTo(t.array,e.array,n.array),t._dirty=!0,t},a.fromEuler=function(t,e,n){t._dirty=!0,e=e.array;var r=t.array,i=Math.cos(e[0]/2),a=Math.cos(e[1]/2),o=Math.cos(e[2]/2),s=Math.sin(e[0]/2),u=Math.sin(e[1]/2),l=Math.sin(e[2]/2);n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":r[0]=s*a*o+i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o-s*u*l;break;case"YXZ":r[0]=s*a*o+i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o+s*u*l;break;case"ZXY":r[0]=s*a*o-i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o-s*u*l;break;case"ZYX":r[0]=s*a*o-i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o+s*u*l;break;case"YZX":r[0]=s*a*o+i*u*l,r[1]=i*u*o+s*a*l,r[2]=i*a*l-s*u*o,r[3]=i*a*o-s*u*l;break;case"XZY":r[0]=s*a*o-i*u*l,r[1]=i*u*o-s*a*l,r[2]=i*a*l+s*u*o,r[3]=i*a*o+s*u*l;break}},e["a"]=a},function(t,e,n){"use strict";var r="__dt__",i=function(){this._contextId=0,this._caches=[],this._context={}};i.prototype={use:function(t,e){var n=this._caches;n[t]||(n[t]={},e&&(n[t]=e())),this._contextId=t,this._context=n[t]},put:function(t,e){this._context[t]=e},get:function(t){return this._context[t]},dirty:function(t){t=t||"";var e=r+t;this.put(e,!0)},dirtyAll:function(t){t=t||"";for(var e=r+t,n=this._caches,i=0;i<n.length;i++)n[i]&&(n[i][e]=!0)},fresh:function(t){t=t||"";var e=r+t;this.put(e,!1)},freshAll:function(t){t=t||"";for(var e=r+t,n=this._caches,i=0;i<n.length;i++)n[i]&&(n[i][e]=!1)},isDirty:function(t){t=t||"";var e=r+t,n=this._context;return!n.hasOwnProperty(e)||!0===n[e]},deleteContext:function(t){delete this._caches[t],this._context={}},delete:function(t){delete this._context[t]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(t,e){var n=Object.keys(this._caches);n.forEach(function(n){t&&t.call(e,n)})},miss:function(t){return!this._context.hasOwnProperty(t)}},i.prototype.constructor=i,e["a"]=i},function(t,e,n){"use strict";var r=n(35),i=n(9),a=n(59),o=n(54),s=n(33),u=n(12),l=r["a"].extend(function(){return{projectionMatrix:new i["a"],invProjectionMatrix:new i["a"],viewMatrix:new i["a"],frustum:new a["a"]}},function(){this.update(!0)},{update:function(t){r["a"].prototype.update.call(this,t),i["a"].invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),i["a"].invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(t){i["a"].copy(this.viewMatrix,t),i["a"].invert(this.worldTransform,t),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(t){i["a"].copy(this.projectionMatrix,t),i["a"].invert(this.invProjectionMatrix,t),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var t=s["a"].create();return function(e,n){var r=void 0!==n?n:new o["a"],i=e.array[0],a=e.array[1];return s["a"].set(t,i,a,-1,1),s["a"].transformMat4(t,t,this.invProjectionMatrix.array),s["a"].transformMat4(t,t,this.worldTransform.array),u["a"].scale(r.origin.array,t,1/t[3]),s["a"].set(t,i,a,1,1),s["a"].transformMat4(t,t,this.invProjectionMatrix.array),s["a"].transformMat4(t,t,this.worldTransform.array),u["a"].scale(t,t,1/t[3]),u["a"].sub(r.direction.array,t,r.origin.array),u["a"].normalize(r.direction.array,r.direction.array),r.direction._dirty=!0,r.origin._dirty=!0,r}}()});e["a"]=l},function(t,e,n){"use strict";var r=n(18),i=n(74),a=n(12),o=a["a"].set,s=a["a"].copy,u=a["a"].transformMat4,l=Math.min,c=Math.max,h=function(){this.planes=[];for(var t=0;t<6;t++)this.planes.push(new i["a"]);this.boundingBox=new r["a"],this.vertices=[];for(t=0;t<8;t++)this.vertices[t]=a["a"].fromValues(0,0,0)};h.prototype={setFromProjection:function(t){var e=this.planes,n=t.array,r=n[0],i=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6],h=n[7],f=n[8],d=n[9],p=n[10],m=n[11],g=n[12],v=n[13],_=n[14],y=n[15];o(e[0].normal.array,s-r,h-u,m-f),e[0].distance=-(y-g),e[0].normalize(),o(e[1].normal.array,s+r,h+u,m+f),e[1].distance=-(y+g),e[1].normalize(),o(e[2].normal.array,s+i,h+l,m+d),e[2].distance=-(y+v),e[2].normalize(),o(e[3].normal.array,s-i,h-l,m-d),e[3].distance=-(y-v),e[3].normalize(),o(e[4].normal.array,s-a,h-c,m-p),e[4].distance=-(y-_),e[4].normalize(),o(e[5].normal.array,s+a,h+c,m+p),e[5].distance=-(y+_),e[5].normalize();var x=this.boundingBox,b=this.vertices;if(0===y){var w=l/r,T=-_/(p-1),S=-_/(p+1),E=-S/l,M=-T/l;x.min.set(-E*w,-E,S),x.max.set(E*w,E,T),o(b[0],-E*w,-E,S),o(b[1],-E*w,E,S),o(b[2],E*w,-E,S),o(b[3],E*w,E,S),o(b[4],-M*w,-M,T),o(b[5],-M*w,M,T),o(b[6],M*w,-M,T),o(b[7],M*w,M,T)}else{var A=(-1-g)/r,C=(1-g)/r,O=(1-v)/l,D=(-1-v)/l,L=(-1-_)/p,I=(1-_)/p;x.min.set(Math.min(A,C),Math.min(D,O),Math.min(I,L)),x.max.set(Math.max(C,A),Math.max(O,D),Math.max(L,I));var P=x.min.array,R=x.max.array;o(b[0],P[0],P[1],P[2]),o(b[1],P[0],R[1],P[2]),o(b[2],R[0],P[1],P[2]),o(b[3],R[0],R[1],P[2]),o(b[4],P[0],P[1],R[2]),o(b[5],P[0],R[1],R[2]),o(b[6],R[0],P[1],R[2]),o(b[7],R[0],R[1],R[2])}},getTransformedBoundingBox:function(){var t=a["a"].create();return function(e,n){var r=this.vertices,i=n.array,a=e.min,o=e.max,h=a.array,f=o.array,d=r[0];u(t,d,i),s(h,t),s(f,t);for(var p=1;p<8;p++)d=r[p],u(t,d,i),h[0]=l(t[0],h[0]),h[1]=l(t[1],h[1]),h[2]=l(t[2],h[2]),f[0]=c(t[0],f[0]),f[1]=c(t[1],f[1]),f[2]=c(t[2],f[2]);return a._dirty=!0,o._dirty=!0,e}}()},e["a"]=h},function(t,e){var n=function(){this.head=null,this.tail=null,this._len=0},r=n.prototype;r.insert=function(t){var e=new i(t);return this.insertEntry(e),e},r.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};var i=function(t){this.value=t,this.next,this.prev},a=function(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},o=a.prototype;o.put=function(t,e){var n=this._list,r=this._map,a=null;if(null==r[t]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=n.head;n.remove(u),delete r[u.key],a=u.value,this._lastRemovedEntry=u}s?s.value=e:s=new i(e),s.key=t,n.insertEntry(s),r[t]=s}return a},o.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},o.clear=function(){this._list.clear(),this._map={}};var s=a;t.exports=s},function(t,e,n){"use strict";var r=n(5),i=n(27),a=n(14),o=n(62),s=n(75),u=n(36),l=n(122),c=n(123),h={loadTexture:function(t,e,n,a){var o;if("function"===typeof e?(n=e,a=n,e={}):e=e||{},"string"===typeof t){if(t.match(/.hdr$/)||"hdr"===e.fileType)return o=new r["a"]({width:0,height:0,sRGB:!1}),h._fetchTexture(t,function(t){c["a"].parseRGBE(t,o,e.exposure),o.dirty(),n&&n(o)},a),o;t.match(/.dds$/)||"dds"===e.fileType?(o=new r["a"]({width:0,height:0}),h._fetchTexture(t,function(t){l["a"].parse(t,o),o.dirty(),n&&n(o)},a)):(o=new r["a"],o.load(t),o.success(n),o.error(a))}else"object"===typeof t&&"undefined"!==typeof t.px&&(o=new i["a"],o.load(t),o.success(n),o.error(a));return o},loadPanorama:function(t,e,n,r,i,a){var o=this;"function"===typeof r?(i=r,a=i,r={}):r=r||{},h.loadTexture(e,r,function(e){e.flipY=r.flipY||!1,o.panoramaToCubeMap(t,e,n,r),e.dispose(t),i&&i(n)},a)},panoramaToCubeMap:function(t,e,n,r){var i=new o["a"],a=new s["a"]({scene:new u["a"]});return a.setEnvironmentMap(e),r=r||{},r.encodeRGBM&&a.material.define("fragment","RGBM_ENCODE"),n.sRGB=e.sRGB,i.texture=n,i.render(t,a.scene),i.texture=null,i.dispose(t),n},heightToNormal:function(t,e){var n=document.createElement("canvas"),r=n.width=t.width,i=n.height=t.height,a=n.getContext("2d");a.drawImage(t,0,0,r,i),e=e||!1;for(var o=a.getImageData(0,0,r,i),s=a.createImageData(r,i),u=0;u<o.data.length;u+=4){if(e){var l=o.data[u],c=o.data[u+1],h=o.data[u+2],f=Math.abs(l-c)+Math.abs(c-h);if(f>20)return console.warn("Given image is not a height map"),t}var d,p,m,g;u%(4*r)===0?(d=o.data[u],m=o.data[u+4]):u%(4*r)===4*(r-1)?(d=o.data[u-4],m=o.data[u]):(d=o.data[u-4],m=o.data[u+4]),u<4*r?(p=o.data[u],g=o.data[u+4*r]):u>r*(i-1)*4?(p=o.data[u-4*r],g=o.data[u]):(p=o.data[u-4*r],g=o.data[u+4*r]),s.data[u]=d-m+127,s.data[u+1]=p-g+127,s.data[u+2]=255,s.data[u+3]=255}return a.putImageData(s,0,0),n},isHeightImage:function(t,e,n){if(!t||!t.width||!t.height)return!1;var r=document.createElement("canvas"),i=r.getContext("2d"),a=e||32;n=n||20,r.width=r.height=a,i.drawImage(t,0,0,a,a);for(var o=i.getImageData(0,0,a,a),s=0;s<o.data.length;s+=4){var u=o.data[s],l=o.data[s+1],c=o.data[s+2],h=Math.abs(u-l)+Math.abs(l-c);if(h>n)return!1}return!0},_fetchTexture:function(t,e,n){a["a"].request.get({url:t,responseType:"arraybuffer",onload:e,onerror:n})},createChessboard:function(t,e,n,i){t=t||512,e=e||64,n=n||"black",i=i||"white";var a=Math.ceil(t/e),o=document.createElement("canvas");o.width=t,o.height=t;var s=o.getContext("2d");s.fillStyle=i,s.fillRect(0,0,t,t),s.fillStyle=n;for(var u=0;u<a;u++)for(var l=0;l<a;l++){var c=l%2?u%2:u%2-1;c&&s.fillRect(u*e,l*e,e,e)}var h=new r["a"]({image:o,anisotropic:8});return h},createBlank:function(t){var e=document.createElement("canvas");e.width=1,e.height=1;var n=e.getContext("2d");n.fillStyle=t,n.fillRect(0,0,1,1);var i=new r["a"]({image:e});return i}};e["a"]=h},function(t,e,n){"use strict";var r=n(7),i=n(3),a=n(41),o=n(10),s=["px","nx","py","ny","pz","nz"],u=r["a"].extend(function(){var t={position:new i["a"],far:1e3,near:.1,texture:null,shadowMapPass:null},e=t._cameras={px:new a["a"]({fov:90}),nx:new a["a"]({fov:90}),py:new a["a"]({fov:90}),ny:new a["a"]({fov:90}),pz:new a["a"]({fov:90}),nz:new a["a"]({fov:90})};return e.px.lookAt(i["a"].POSITIVE_X,i["a"].NEGATIVE_Y),e.nx.lookAt(i["a"].NEGATIVE_X,i["a"].NEGATIVE_Y),e.py.lookAt(i["a"].POSITIVE_Y,i["a"].POSITIVE_Z),e.ny.lookAt(i["a"].NEGATIVE_Y,i["a"].NEGATIVE_Z),e.pz.lookAt(i["a"].POSITIVE_Z,i["a"].NEGATIVE_Y),e.nz.lookAt(i["a"].NEGATIVE_Z,i["a"].NEGATIVE_Y),t._frameBuffer=new o["a"],t},{getCamera:function(t){return this._cameras[t]},render:function(t,e,n){var r=t.gl;n||e.update();for(var a=this.texture.width,o=2*Math.atan(a/(a-.5))/Math.PI*180,u=0;u<6;u++){var l=s[u],c=this._cameras[l];if(i["a"].copy(c.position,this.position),c.far=this.far,c.near=this.near,c.fov=o,this.shadowMapPass){c.update();var h=e.getBoundingBox();h.applyTransform(c.viewMatrix),e.viewBoundingBoxLastFrame.copy(h),this.shadowMapPass.render(t,e,c,!0)}this._frameBuffer.attach(this.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+u),this._frameBuffer.bind(t),t.render(e,c,!0),this._frameBuffer.unbind(t)}},dispose:function(t){this._frameBuffer.dispose(t)}});e["a"]=u},function(t,e,n){"use strict";var r=n(1),i=n(165),a=n(166);r["a"].Shader.import(a["a"]),e["a"]=r["a"].Mesh.extend(function(){var t=new i["a"]({dynamic:!0}),e=new r["a"].Material({shader:r["a"].createShader("ecgl.labels"),transparent:!0,depthMask:!1});return{geometry:t,material:e,culling:!1,castShadow:!1,ignorePicking:!0}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(204),s=n(25),u=n(2),l=n(6),c=n(65),h=n(66),f=n(46),d=l["a"].vec3;function p(t){this.rootNode=new a["a"].Node,this._triangulationResults={},this._shadersMap=a["a"].COMMON_SHADERS.reduce(function(t,e){return t[e]=a["a"].createShader("ecgl."+e),t},{}),this._linesShader=a["a"].createShader("ecgl.meshLines3D");var e={};a["a"].COMMON_SHADERS.forEach(function(t){e[t]=new a["a"].Material({shader:a["a"].createShader("ecgl."+t)})}),this._groundMaterials=e,this._groundMesh=new a["a"].Mesh({geometry:new a["a"].PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new h["a"](512,512,t),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=t}a["a"].Shader.import(f["a"]),p.prototype={constructor:p,extrudeY:!0,update:function(t,e,n,r,i){var a=t.getData();null==r&&(r=0),null==i&&(i=a.count()),this._startIndex=r,this._endIndex=i-1,this._triangulation(t,r,i);var o=this._getShader(t.get("shading"));this._prepareMesh(t,o,n,r,i),this.rootNode.updateWorldTransform(),this._updateRegionMesh(t,n,r,i);var s=t.coordinateSystem;"geo3D"===s.type&&this._updateGroundPlane(t,s,n);var u=this;this._labelsBuilder.updateData(a,r,i),this._labelsBuilder.getLabelPosition=function(t,e,n){var r=a.getName(t),i=n;if("geo3D"===s.type){var o=s.getRegion(r);if(!o)return[NaN,NaN,NaN];h=o.center;var l=s.dataToPoint([h[0],h[1],i]);return l}var c=u._triangulationResults[t-u._startIndex],h=u.extrudeY?[(c.max[0]+c.min[0])/2,c.max[1]+i,(c.max[2]+c.min[2])/2]:[(c.max[0]+c.min[0])/2,(c.max[1]+c.min[1])/2,c.max[2]+i]},this._data=a,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(t),this._lastHoverDataIndex=0},_initMeshes:function(){var t=this;function e(){var e=new a["a"].Mesh({name:"Polygon",material:new a["a"].Material({shader:t._shadersMap.lambert}),geometry:new a["a"].Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return i.a.util.extend(e.geometry,c["a"]),e}var n=e(),r=new a["a"].Mesh({material:new a["a"].Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new s["a"]({useNativeLine:!1})});this.rootNode.add(n),this.rootNode.add(r),n.material.define("both","VERTEX_COLOR"),n.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=n,this._linesMesh=r,this.rootNode.add(this._groundMesh)},_getShader:function(t){var e=this._shadersMap[t];return e||(console.warn("Unkown shading "+t),e=this._shadersMap.lambert),e.__shading=t,e},_prepareMesh:function(t,e,n,r,i){for(var o=0,s=0,u=0,l=0,c=r;c<i;c++){var h=this._getRegionPolygonInfo(c),f=this._getRegionLinesInfo(c,t,this._linesMesh.geometry);o+=h.vertexCount,s+=h.triangleCount,u+=f.vertexCount,l+=f.triangleCount}var d=this._polygonMesh,p=d.geometry;["position","normal","texcoord0","color"].forEach(function(t){p.attributes[t].init(o)}),p.indices=o>65535?new Uint32Array(3*s):new Uint16Array(3*s),d.material.shader!==e&&d.material.attachShader(e,!0),a["a"].setMaterialFromModel(e.__shading,d.material,t,n),u>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(u),this._linesMesh.geometry.setTriangleCount(l)),this._dataIndexOfVertex=new Uint32Array(o),this._vertexRangeOfDataIndex=new Uint32Array(2*(i-r))},_updateRegionMesh:function(t,e,n,r){for(var i=t.getData(),o=0,s=0,l=!1,c=this._polygonMesh,h=this._linesMesh,f=n;f<r;f++){var d=t.getRegionModel(f),p=d.getModel("itemStyle"),m=p.get("color"),g=u["a"].firstNotNull(p.get("opacity"),1),v=i.getItemVisual(f,"color",!0);null!=v&&i.hasValue(f)&&(m=v),i.setItemVisual(f,"color",m),i.setItemVisual(f,"opacity",g),m=a["a"].parseColor(m);var _=a["a"].parseColor(p.get("borderColor"));m[3]*=g,_[3]*=g;var y=m[3]<.99;c.material.set("color",[1,1,1,1]),l=l||y;for(var x=u["a"].firstNotNull(d.get("height",!0),t.get("regionHeight")),b=this._updatePolygonGeometry(t,c.geometry,f,x,o,s,m),w=o;w<b.vertexOffset;w++)this._dataIndexOfVertex[w]=f;this._vertexRangeOfDataIndex[2*(f-n)]=o,this._vertexRangeOfDataIndex[2*(f-n)+1]=b.vertexOffset,o=b.vertexOffset,s=b.triangleOffset;var T=p.get("borderWidth"),S=T>0;S&&(T*=e.getDevicePixelRatio(),this._updateLinesGeometry(h.geometry,t,f,x,T,t.coordinateSystem.transform)),h.invisible=!S,h.material.set({color:_})}c=this._polygonMesh;c.material.transparent=l,c.material.depthMask=!l,c.geometry.updateBoundingBox(),c.frontFace=this.extrudeY?a["a"].Mesh.CCW:a["a"].Mesh.CW,c.material.get("normalMap")&&c.geometry.generateTangents(),c.seriesIndex=t.seriesIndex,c.on("mousemove",this._onmousemove,this),c.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(t){var e=t.getModel("debug.wireframe");if(e.get("show")){var n=a["a"].parseColor(e.get("lineStyle.color")||"rgba(0,0,0,0.5)"),r=u["a"].firstNotNull(e.get("lineStyle.width"),1),i=this._polygonMesh;i.geometry.generateBarycentric(),i.material.define("both","WIREFRAME_TRIANGLE"),i.material.set("wireframeLineColor",n),i.material.set("wireframeLineWidth",r)}},_onmousemove:function(t){var e=this._dataIndexOfVertex[t.triangle[0]];null==e&&(e=-1),e!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(e),this._labelsBuilder.updateLabels([e])),this._lastHoverDataIndex=e,this._polygonMesh.dataIndex=e},_onmouseout:function(t){t.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(t,e,n){var r=t.getModel("groundPlane",t);if(this._groundMesh.invisible=!r.get("show",!0),!this._groundMesh.invisible){var i=t.get("shading"),o=this._groundMaterials[i];o||(console.warn("Unkown shading "+i),o=this._groundMaterials.lambert),a["a"].setMaterialFromModel(i,o,r,n),o.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=o,this._groundMesh.material.set("color",a["a"].parseColor(r.get("color"))),this._groundMesh.scale.set(e.size[0],e.size[2],1)}},_triangulation:function(t,e,n){this._triangulationResults=[];for(var r=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0],a=t.coordinateSystem,s=e;s<n;s++){for(var u=[],l=t.getRegionPolygonCoords(s),c=0;c<l.length;c++){var h=l[c].exterior,f=l[c].interiors,p=[],m=[];if(!(h.length<3)){for(var g=0,v=0;v<h.length;v++){var _=h[v];p[g++]=_[0],p[g++]=_[1]}for(v=0;v<f.length;v++)if(!(f[v].length<3)){for(var y=p.length/2,x=0;x<f[v].length;x++){_=f[v][x];p.push(_[0]),p.push(_[1])}m.push(y)}var b=Object(o["a"])(p,m),w=new Float64Array(p.length/2*3),T=[],S=[1/0,1/0,1/0],E=[-1/0,-1/0,-1/0],M=0;for(v=0;v<p.length;)d.set(T,p[v++],0,p[v++]),a&&a.transform&&d.transformMat4(T,T,a.transform),d.min(S,S,T),d.max(E,E,T),w[M++]=T[0],w[M++]=T[1],w[M++]=T[2];d.min(r,r,S),d.max(i,i,E),u.push({points:w,indices:b,min:S,max:E})}}this._triangulationResults.push(u)}this._geoBoundingBox=[r,i]},_getRegionPolygonInfo:function(t){for(var e=this._triangulationResults[t-this._startIndex],n=0,r=0,i=0;i<e.length;i++)n+=e[i].points.length/3,r+=e[i].indices.length/3;var a=2*n+4*n,o=2*r+2*n;return{vertexCount:a,triangleCount:o}},_updatePolygonGeometry:function(t,e,n,r,i,a,o){var s=t.get("projectUVOnGround"),u=e.attributes.position,l=e.attributes.normal,c=e.attributes.texcoord0,h=e.attributes.color,f=this._triangulationResults[n-this._startIndex],p=h.value&&o,m=e.indices,g=this.extrudeY?1:2,v=this.extrudeY?2:1,_=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],y=d.mul([],this._geoBoundingBox[0],_),x=d.mul([],this._geoBoundingBox[1],_),b=Math.max(x[0]-y[0],x[2]-y[2]);function w(t,e,n){for(var r=t.points,a=r.length,s=[],l=[],f=0;f<a;f+=3)s[0]=r[f],s[g]=e,s[v]=r[f+2],l[0]=(r[f]*_[0]-y[0])/b,l[1]=(r[f+2]*_[v]-y[2])/b,u.set(i,s),p&&h.set(i,o),c.set(i++,l)}function T(t,e,n){var r=i;w(t,e,n);for(var o=t.indices.length,s=0;s<o;s++)m[3*a+s]=t.indices[s]+r;a+=t.indices.length/3}for(var S=this.extrudeY?[0,1,0]:[0,0,1],E=d.negate([],S),M=0;M<f.length;M++){var A=i,C=f[M];T(C,0,0),T(C,r,0);for(var O=C.points.length/3,D=0;D<O;D++)l.set(A+D,E),l.set(A+D+O,S);var L=[0,3,1,1,3,2],I=[[],[],[],[]],P=[],R=[],N=[],k=[],F=0;for(D=0;D<O;D++){for(var B=(D+1)%O,z=(C.points[3*B]-C.points[3*D])*_[0],U=(C.points[3*B+2]-C.points[3*D+2])*_[v],G=Math.sqrt(z*z+U*U),j=0;j<4;j++){var H=0===j||3===j,V=3*(H?D:B);I[j][0]=C.points[V],I[j][g]=j>1?r:0,I[j][v]=C.points[V+2],u.set(i+j,I[j]),s?(k[0]=(C.points[V]*_[0]-y[0])/b,k[1]=(C.points[V+2]*_[v]-y[v])/b):(k[0]=(H?F:F+G)/b,k[1]=(I[j][g]*_[g]-y[g])/b),c.set(i+j,k)}d.sub(P,I[1],I[0]),d.sub(R,I[3],I[0]),d.cross(N,P,R),d.normalize(N,N);for(j=0;j<4;j++)l.set(i+j,N),p&&h.set(i+j,o);for(j=0;j<6;j++)m[3*a+j]=L[j]+i;i+=4,a+=2,F+=G}}return e.dirty(),{vertexOffset:i,triangleOffset:a}},_getRegionLinesInfo:function(t,e,n){var r=0,i=0,a=e.getRegionModel(t),o=a.getModel("itemStyle"),s=o.get("borderWidth");if(s>0){var u=e.getRegionPolygonCoords(t);u.forEach(function(t){var e=t.exterior,a=t.interiors;r+=n.getPolylineVertexCount(e),i+=n.getPolylineTriangleCount(e);for(var o=0;o<a.length;o++)r+=n.getPolylineVertexCount(a[o]),i+=n.getPolylineTriangleCount(a[o])},this)}return{vertexCount:r,triangleCount:i}},_updateLinesGeometry:function(t,e,n,r,i,a){function o(t){for(var e=new Float64Array(3*t.length),n=0,i=[],o=0;o<t.length;o++)i[0]=t[o][0],i[1]=r+.1,i[2]=t[o][1],a&&d.transformMat4(i,i,a),e[n++]=i[0],e[n++]=i[1],e[n++]=i[2];return e}var s=[1,1,1,1],u=e.getRegionPolygonCoords(n);u.forEach(function(e){var n=e.exterior,r=e.interiors;t.addPolyline(o(n),s,i);for(var a=0;a<r.length;a++)t.addPolyline(o(r[a]),s,i)})},highlight:function(t){var e=this._data;if(e){var n=e.getItemModel(t),r=n.getModel("emphasis.itemStyle"),o=r.get("color"),s=u["a"].firstNotNull(r.get("opacity"),e.getItemVisual(t,"opacity"),1);if(null==o){var l=e.getItemVisual(t,"color");o=i.a.color.lift(l,-.4)}null==s&&(s=e.getItemVisual(t,"opacity"));var c=a["a"].parseColor(o);c[3]*=s,this._setColorOfDataIndex(e,t,c)}},downplay:function(t){var e=this._data;if(e){var n=e.getItemVisual(t,"color"),r=u["a"].firstNotNull(e.getItemVisual(t,"opacity"),1),i=a["a"].parseColor(n);i[3]*=r,this._setColorOfDataIndex(e,t,i)}},_setColorOfDataIndex:function(t,e,n){if(!(e<this._startIndex&&e>this._endIndex)){e-=this._startIndex;for(var r=this._vertexRangeOfDataIndex[2*e];r<this._vertexRangeOfDataIndex[2*e+1];r++)this._polygonMesh.geometry.attributes.color.set(r,n);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}},e["a"]=p},function(t,e,n){"use strict";var r=n(97),i=n(6),a=i["a"].vec3,o=a.create(),s=a.create(),u=a.create();e["a"]={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(t,e){var n=this.indices;if(0===e){var r=this.attributes.position;t=t.array;this._triangleZList&&this._triangleZList.length===this.triangleCount||(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new n.constructor(n.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var i,l=0,c=0;c<n.length;){r.get(n[c++],o),r.get(n[c++],s),r.get(n[c++],u);var h=a.sqrDist(o,t),f=a.sqrDist(s,t),d=a.sqrDist(u,t),p=Math.min(h,f);p=Math.min(p,d),3===c?(i=p,p=0):p-=i,this._triangleZList[l++]=p}}var m=this._sortedTriangleIndices;for(c=0;c<m.length;c++)m[c]=c;if(this.triangleCount<2e4)0===e&&this._simpleSort(!0);else for(c=0;c<3;c++)this._progressiveQuickSort(3*e+c);var g=this._indicesTmp,v=this._triangleZListTmp,_=this._triangleZList;for(c=0;c<this.triangleCount;c++){var y=3*m[c],x=3*c;g[x++]=n[y++],g[x++]=n[y++],g[x]=n[y],v[c]=_[m[c]]}var b=this._indicesTmp;this._indicesTmp=this.indices,this.indices=b;b=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=b,this.dirtyIndices()},_simpleSort:function(t){var e=this._triangleZList,n=this._sortedTriangleIndices;function i(t,n){return e[n]-e[t]}t?Array.prototype.sort.call(n,i):r["a"].sort(n,i,0,n.length-1)},_progressiveQuickSort:function(t){var e=this._triangleZList,n=this._sortedTriangleIndices;this._quickSort=this._quickSort||new r["a"],this._quickSort.step(n,function(t,n){return e[n]-e[t]},t)}}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(81),o=n(63),s=n(2),u=1,l=2;function c(t,e,n){this._labelsMesh=new o["a"],this._labelTextureSurface=new a["a"]({width:512,height:512,devicePixelRatio:n.getDevicePixelRatio(),onupdate:function(){n.getZr().refresh()}}),this._api=n,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}c.prototype.getLabelPosition=function(t,e,n){return[0,0,0]},c.prototype.getLabelDistance=function(t,e,n){return 0},c.prototype.getMesh=function(){return this._labelsMesh},c.prototype.updateData=function(t,e,n){null==e&&(e=0),null==n&&(n=t.count()),this._labelsVisibilitiesBits&&this._labelsVisibilitiesBits.length===n-e||(this._labelsVisibilitiesBits=new Uint8Array(n-e));for(var r=["label","show"],i=["emphasis","label","show"],a=e;a<n;a++){var o=t.getItemModel(a),s=o.get(r),c=o.get(i);null==c&&(c=s);var h=(s?u:0)|(c?l:0);this._labelsVisibilitiesBits[a-e]=h}this._start=e,this._end=n,this._data=t},c.prototype.updateLabels=function(t){if(this._data){t=t||[];for(var e=t.length>0,n={},r=0;r<t.length;r++)n[t[r]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var a=["label"],o=["emphasis","label"],c=this._data.hostModel,h=this._data,f=c.getModel(a),d=c.getModel(o,f),p={left:"right",right:"left",top:"center",bottom:"center"},m={left:"middle",right:"middle",top:"bottom",bottom:"top"},g=this._start;g<this._end;g++){var v=!1;e&&n[g]&&(v=!0);var _=this._labelsVisibilitiesBits[g-this._start]&(v?l:u);if(_){var y=h.getItemModel(g),x=y.getModel(v?o:a,v?d:f),b=x.get("distance")||0,w=x.get("position"),T=x.getModel("textStyle"),S=this._api.getDevicePixelRatio(),E=c.getFormattedLabel(g,v?"emphasis":"normal");if(null==E||""===E)return;var M=new i.a.graphic.Text;i.a.graphic.setTextStyle(M.style,T,{text:E,textFill:T.get("color")||h.getItemVisual(g,"color")||"#000",textAlign:"left",textVerticalAlign:"top",opacity:s["a"].firstNotNull(T.get("opacity"),h.getItemVisual(g,"opacity"),1)});var A=M.getBoundingRect(),C=1.2;A.height*=C;var O=this._labelTextureSurface.add(M),D=p[w]||"center",L=m[w]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(g,w,b),[A.width*S,A.height*S],O,D,L,this.getLabelDistance(g,w,b)*S)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},e["a"]=c},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(239),s=n(240),u=n(66),l=n(9),c=n(2),h=20,f=-10;function d(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}function p(t,e){this.rootNode=new a["a"].Node,this.is2D=t,this._labelsBuilder=new u["a"](256,256,e),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=e,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}p.prototype={constructor:p,highlightOnMouseover:!0,update:function(t,e,n,r,i){var o=this._prevMesh;this._prevMesh=this._mesh,this._mesh=o;var u=t.getData();if(null==r&&(r=0),null==i&&(i=u.count()),this._startDataIndex=r,this._endDataIndex=i-1,!this._mesh){var l=this._prevMesh&&this._prevMesh.material;this._mesh=new s["a"]({renderOrder:10,frustumCulling:!1}),l&&(this._mesh.material=l)}l=this._mesh.material;var c=this._mesh.geometry,h=c.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var d=this._getSymbolInfo(t,r,i),p=n.getDevicePixelRatio(),m=t.getModel("itemStyle").getItemStyle(),g=t.get("large"),v=1;d.maxSize>2?(v=this._updateSymbolSprite(t,m,d,p),l.enableTexture("sprite")):l.disableTexture("sprite"),h.position.init(i-r);var _=[];if(g){l.undefine("VERTEX_SIZE"),l.undefine("VERTEX_COLOR");var y=u.getVisual("color"),x=u.getVisual("opacity");a["a"].parseColor(y,_),_[3]*=x,l.set({color:_,u_Size:d.maxSize*this._sizeScale})}else l.set({color:[1,1,1,1]}),l.define("VERTEX_SIZE"),l.define("VERTEX_COLOR"),h.size.init(i-r),h.color.init(i-r),this._originalOpacity=new Float32Array(i-r);for(var b=u.getLayout("points"),w=h.position.value,T=0;T<i-r;T++){var S=3*T,E=2*T;if(this.is2D?(w[S]=b[E],w[S+1]=b[E+1],w[S+2]=f):(w[S]=b[S],w[S+1]=b[S+1],w[S+2]=b[S+2]),!g){y=u.getItemVisual(T,"color"),x=u.getItemVisual(T,"opacity");a["a"].parseColor(y,_),_[3]*=x,h.color.set(T,_),_[3]<.99&&!0;var M=u.getItemVisual(T,"symbolSize");M=M instanceof Array?Math.max(M[0],M[1]):M,isNaN(M)&&(M=0),h.size.value[T]=M*v*this._sizeScale,this._originalOpacity[T]=_[3]}}this._mesh.sizeScale=v,c.updateBoundingBox(),c.dirty(),this._updateMaterial(t,m);var A=t.coordinateSystem;if(A&&A.viewGL){var C=A.viewGL.isLinearSpace()?"define":"undefine";l[C]("fragment","SRGB_DECODE")}g||this._updateLabelBuilder(t,r,i),this._updateHandler(t,e,n),this._updateAnimation(t),this._api=n},getPointsMesh:function(){return this._mesh},updateLabels:function(t){this._labelsBuilder.updateLabels(t)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},_updateSymbolSprite:function(t,e,n,r){n.maxSize=Math.min(2*n.maxSize,200);var i=[];return n.aspect>1?(i[0]=n.maxSize,i[1]=n.maxSize/n.aspect):(i[1]=n.maxSize,i[0]=n.maxSize*n.aspect),i[0]=i[0]||1,i[1]=i[1]||1,this._symbolType===n.type&&d(this._symbolSize,i)&&this._lineWidth===e.lineWidth||(o["a"].createSymbolSprite(n.type,i,{fill:"#fff",lineWidth:e.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(i[0]/2,10)},this._spriteImageCanvas),o["a"].createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),h,this._mesh.material.get("sprite").image),this._symbolType=n.type,this._symbolSize=i,this._lineWidth=e.lineWidth),this._spriteImageCanvas.width/n.maxSize*r},_updateMaterial:function(t,e){var n="lighter"===t.get("blendMode")?a["a"].additiveBlend:null,r=this._mesh.material;r.blend=n,r.set("lineWidth",e.lineWidth/h);var i=a["a"].parseColor(e.stroke);r.set("strokeColor",i),r.transparent=!0,r.depthMask=!1,r.depthTest=!this.is2D,r.sortVertices=!this.is2D},_updateLabelBuilder:function(t,e,n){var r=t.getData(),i=this._mesh.geometry,a=i.attributes.position.value,o=(e=this._startDataIndex,this._mesh.sizeScale);this._labelsBuilder.updateData(r,e,n),this._labelsBuilder.getLabelPosition=function(t,n,r){var i=3*(t-e);return[a[i],a[i+1],a[i+2]]},this._labelsBuilder.getLabelDistance=function(t,n,r){var a=i.attributes.size.get(t-e)/o;return a/2+r},this._labelsBuilder.updateLabels()},_updateAnimation:function(t){a["a"].updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,t)},_updateHandler:function(t,e,n){var r,i=t.getData(),a=this._mesh,o=this,s=-1,u=t.coordinateSystem&&"cartesian3D"===t.coordinateSystem.type;u&&(r=t.coordinateSystem.model),a.seriesIndex=t.seriesIndex,a.off("mousemove"),a.off("mouseout"),a.on("mousemove",function(e){var l=e.vertexIndex+o._startDataIndex;l!==s&&(this.highlightOnMouseover&&(this.downplay(i,s),this.highlight(i,l),this._labelsBuilder.updateLabels([l])),u&&n.dispatchAction({type:"grid3DShowAxisPointer",value:[i.get(t.coordDimToDataDim("x")[0],l),i.get(t.coordDimToDataDim("y")[0],l),i.get(t.coordDimToDataDim("z")[0],l)],grid3DIndex:r.componentIndex})),a.dataIndex=l,s=l},this),a.on("mouseout",function(t){var e=t.vertexIndex+o._startDataIndex;this.highlightOnMouseover&&(this.downplay(i,e),this._labelsBuilder.updateLabels()),s=-1,a.dataIndex=-1,u&&n.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:r.componentIndex})},this)},updateLayout:function(t,e,n){var r=t.getData();if(this._mesh){var i=this._mesh.geometry.attributes.position.value,a=r.getLayout("points");if(this.is2D)for(var o=0;o<a.length/2;o++){var s=3*o,u=2*o;i[s]=a[u],i[s+1]=a[u+1],i[s+2]=f}else for(o=0;o<a.length;o++)i[o]=a[o];this._mesh.geometry.dirty(),n.getZr().refresh()}},updateView:function(t){if(this._mesh){var e=new l["a"];l["a"].mul(e,t.viewMatrix,this._mesh.worldTransform),l["a"].mul(e,t.projectionMatrix,e),this._mesh.updateNDCPosition(e,this.is2D,this._api)}},highlight:function(t,e){if(!(e>this._endDataIndex||e<this._startDataIndex)){var n=t.getItemModel(e),r=n.getModel("emphasis.itemStyle"),o=r.get("color"),s=r.get("opacity");if(null==o){var u=t.getItemVisual(e,"color");o=i.a.color.lift(u,-.4)}null==s&&(s=t.getItemVisual(e,"opacity"));var l=a["a"].parseColor(o);l[3]*=s,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,l),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(t,e){if(!(e>this._endDataIndex||e<this._startDataIndex)){var n=t.getItemVisual(e,"color"),r=t.getItemVisual(e,"opacity"),i=a["a"].parseColor(n);i[3]*=r,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,i),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(t){if(this._originalOpacity){for(var e=this._mesh.geometry,n=0;n<e.vertexCount;n++){var r=this._originalOpacity[n]*t;e.attributes.color.value[4*n+3]=r}e.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(t){this._mesh&&this._setPositionTextureToMesh(this._mesh,t),this._positionTexture=t},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(t){if(t!==this._sizeScale){if(this._mesh){var e=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",e/this._sizeScale*t);var n=this._mesh.geometry.attributes;if(n.size.value)for(var r=0;r<n.size.value.length;r++)n.size.value[r]=n.size.value[r]/this._sizeScale*t}this._sizeScale=t}},_setPositionTextureToMesh:function(t,e){e&&t.material.set("positionTexture",e),t.material[e?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(t,e,n){if(t.get("large")){var r=c["a"].firstNotNull(t.get("symbolSize"),1);return r instanceof Array?(l=Math.max(r[0],r[1]),i=r[0]/r[1]):(l=r,i=1),{maxSize:r,type:t.get("symbol"),aspect:i}}for(var i,a=t.getData(),o=!1,s=a.getItemVisual(0,"symbol")||"circle",u=!1,l=0,h=e;h<n;h++){r=a.getItemVisual(h,"symbolSize");var f,d=a.getItemVisual(h,"symbol");if(r instanceof Array)f=r[0]/r[1],l=Math.max(Math.max(r[0],r[1]),l);else{if(isNaN(r))return;f=1,l=Math.max(r,l)}null!=i&&Math.abs(f-i)>.05&&(o=!0),d!==s&&(u=!0),s=d,i=f}return o&&console.warn("Different symbol width / height ratio will be ignored."),u&&console.warn("Different symbol type will be ignored."),{maxSize:l,type:s,aspect:i}}},e["a"]=p},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(114),i=function(t){this._list=new r["a"],this._map={},this._maxSize=t||10};i.prototype.setMaxSize=function(t){this._maxSize=t},i.prototype.put=function(t,e){if(!this._map.hasOwnProperty(t)){var n=this._list.length();if(n>=this._maxSize&&n>0){var r=this._list.head;this._list.remove(r),delete this._map[r.key]}var i=this._list.insert(e);i.key=t,this._map[t]=i}},i.prototype.get=function(t){var e=this._map[t];if(this._map.hasOwnProperty(t))return e!==this._list.tail&&(this._list.remove(e),this._list.insertEntry(e)),e.value},i.prototype.remove=function(t){var e=this._map[t];"undefined"!==typeof e&&(delete this._map[t],this._list.remove(e))},i.prototype.clear=function(){this._list.clear(),this._map={}},e["a"]=i},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](2);return t[0]=0,t[1]=0,t},clone:function(t){var e=new r["a"](2);return e[0]=t[0],e[1]=t[1],e},fromValues:function(t,e){var n=new r["a"](2);return n[0]=t,n[1]=e,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}};i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t},i.random=function(t,e){e=e||1;var n=2*GLMAT_RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},i.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,a,o){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}(),e["a"]=i},function(t,e,n){"use strict";e["a"]="@export clay.prez.vertex\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\n@import clay.chunk.skinning_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec3 P = pos;\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = (skinMatrixWS * vec4(pos, 1.0)).xyz;\n#endif\n gl_Position = WVP * vec4(P, 1.0);\n v_Texcoord = uv;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n}\n@end"},function(t,e,n){"use strict";var r=n(35),i=n(11),a=r["a"].extend({material:null,geometry:null,mode:i["a"].TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:i["a"].BACK,frontFace:i["a"].CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(t){},afterRender:function(t,e){},getBoundingBox:function(t,e){return e=r["a"].prototype.getBoundingBox.call(this,t,e),this.geometry&&this.geometry.boundingBox&&e.union(this.geometry.boundingBox),e},clone:function(){var t=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var e=r["a"].prototype.clone.call(this);e.geometry=this.geometry,e.material=this.material;for(var n=0;n<t.length;n++){var i=t[n];e[i]!==this[i]&&(e[i]=this[i])}return e}}()});a.POINTS=i["a"].POINTS,a.LINES=i["a"].LINES,a.LINE_LOOP=i["a"].LINE_LOOP,a.LINE_STRIP=i["a"].LINE_STRIP,a.TRIANGLES=i["a"].TRIANGLES,a.TRIANGLE_STRIP=i["a"].TRIANGLE_STRIP,a.TRIANGLE_FAN=i["a"].TRIANGLE_FAN,a.BACK=i["a"].BACK,a.FRONT=i["a"].FRONT,a.FRONT_AND_BACK=i["a"].FRONT_AND_BACK,a.CW=i["a"].CW,a.CCW=i["a"].CCW,e["a"]=a},function(t,e,n){"use strict";var r={isPowerOfTwo:function(t){return 0===(t&t-1)},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}};e["a"]=r},function(t,e,n){"use strict";var r=n(3),i=n(21),a=n(12),o=n(33),s=function(t,e){this.normal=t||new r["a"](0,1,0),this.distance=e||0};s.prototype={constructor:s,distanceToPoint:function(t){return a["a"].dot(t.array,this.normal.array)-this.distance},projectPoint:function(t,e){e||(e=new r["a"]);var n=this.distanceToPoint(t);return a["a"].scaleAndAdd(e.array,t.array,this.normal.array,-n),e._dirty=!0,e},normalize:function(){var t=1/a["a"].len(this.normal.array);a["a"].scale(this.normal.array,t),this.distance*=t},intersectFrustum:function(t){for(var e=t.vertices,n=this.normal.array,r=a["a"].dot(e[0].array,n)>this.distance,i=1;i<8;i++)if(a["a"].dot(e[i].array,n)>this.distance!=r)return!0},intersectLine:function(){var t=a["a"].create();return function(e,n,i){var o=this.distanceToPoint(e),s=this.distanceToPoint(n);if(o>0&&s>0||o<0&&s<0)return null;var u=this.normal.array,l=this.distance,c=e.array;a["a"].sub(t,n.array,e.array),a["a"].normalize(t,t);var h=a["a"].dot(u,t);if(0===h)return null;i||(i=new r["a"]);var f=(a["a"].dot(u,c)-l)/h;return a["a"].scaleAndAdd(i.array,c,t,-f),i._dirty=!0,i}}(),applyTransform:function(){var t=i["a"].create(),e=o["a"].create(),n=o["a"].create();return n[3]=1,function(r){r=r.array,a["a"].scale(n,this.normal.array,this.distance),o["a"].transformMat4(n,n,r),this.distance=a["a"].dot(n,this.normal.array),i["a"].invert(t,r),i["a"].transpose(t,t),e[3]=0,a["a"].copy(e,this.normal.array),o["a"].transformMat4(e,e,t),a["a"].copy(this.normal.array,e)}}(),copy:function(t){a["a"].copy(this.normal.array,t.normal.array),this.normal._dirty=!0,this.distance=t.distance},clone:function(){var t=new s;return t.copy(this),t}},e["a"]=s},function(t,e,n){"use strict";var r=n(42);e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(15),i=n(43),a=n(9),o=n(3),s=n(18),u=n(14),l=new a["a"],c=r["a"].extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var t={px:h("px",this.depthSegments,this.heightSegments),nx:h("nx",this.depthSegments,this.heightSegments),py:h("py",this.widthSegments,this.depthSegments),ny:h("ny",this.widthSegments,this.depthSegments),pz:h("pz",this.widthSegments,this.heightSegments),nz:h("nz",this.widthSegments,this.heightSegments)},e=["position","texcoord0","normal"],n=0,r=0;for(var i in t)n+=t[i].vertexCount,r+=t[i].indices.length;for(var a=0;a<e.length;a++)this.attributes[e[a]].init(n);this.indices=new u["a"].Uint16Array(r);var o=0,l=0;for(var i in t){var c=t[i];for(a=0;a<e.length;a++)for(var f=e[a],d=c.attributes[f].value,p=c.attributes[f].size,m="normal"===f,g=0;g<d.length;g++){var v=d[g];this.inside&&m&&(v=-v),this.attributes[f].value[g+p*l]=v}var _=c.indices.length;for(g=0;g<c.indices.length;g++)this.indices[g+o]=l+c.indices[this.inside?_-g-1:g];o+=c.indices.length,l+=c.vertexCount}this.boundingBox=new s["a"],this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function h(t,e,n){l.identity();var r=new i["a"]({widthSegments:e,heightSegments:n});switch(t){case"px":a["a"].translate(l,l,o["a"].POSITIVE_X),a["a"].rotateY(l,l,Math.PI/2);break;case"nx":a["a"].translate(l,l,o["a"].NEGATIVE_X),a["a"].rotateY(l,l,-Math.PI/2);break;case"py":a["a"].translate(l,l,o["a"].POSITIVE_Y),a["a"].rotateX(l,l,-Math.PI/2);break;case"ny":a["a"].translate(l,l,o["a"].NEGATIVE_Y),a["a"].rotateX(l,l,Math.PI/2);break;case"pz":a["a"].translate(l,l,o["a"].POSITIVE_Z);break;case"nz":a["a"].translate(l,l,o["a"].NEGATIVE_Z),a["a"].rotateY(l,l,Math.PI);break}return r.applyTransform(l),r}e["a"]=c},function(t,e,n){"use strict";var r=n(5),i=n(27),a=n(4),o=n(10),s=n(16),u=n(19),l=n(8),c=n(42),h=n(36),f=n(62),d=n(14),p=n(61),m=n(127),g=n(128),v={},_=["px","nx","py","ny","pz","nz"];v.prefilterEnvironmentMap=function(t,e,n,s,m){m&&s||(s=v.generateNormalDistribution(),m=v.integrateBRDF(t,s)),n=n||{};var y=n.width||64,x=n.height||64,b=n.type||e.type,w=new i["a"]({width:y,height:x,type:b,flipY:!1,mipmaps:[]});w.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var T=Math.min(y,x),S=Math.log(T)/Math.log(2)+1,E=new u["a"]({shader:new l["a"]({vertex:l["a"].source("clay.skybox.vertex"),fragment:g["a"]})});E.set("normalDistribution",s),n.encodeRGBM&&E.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&E.define("fragment","RGBM_DECODE");var M,A=new h["a"];if("texture2D"===e.textureType){var C=new i["a"]({width:y,height:x,type:b===a["a"].FLOAT?a["a"].HALF_FLOAT:b});p["a"].panoramaToCubeMap(t,e,C,{encodeRGBM:n.decodeRGBM}),e=C}M=new c["a"]({scene:A,material:E}),M.material.set("environmentMap",e);var O=new f["a"]({texture:w});n.encodeRGBM&&(b=w.type=a["a"].UNSIGNED_BYTE);for(var D=new r["a"]({width:y,height:x,type:b}),L=new o["a"]({depthBuffer:!1}),I=d["a"][b===a["a"].UNSIGNED_BYTE?"Uint8Array":"Float32Array"],P=0;P<S;P++){w.mipmaps[P]={pixels:{}},M.material.set("roughness",P/(S-1));for(var R=D.width,N=2*Math.atan(R/(R-.5))/Math.PI*180,k=0;k<_.length;k++){var F=new I(D.width*D.height*4);L.attach(D),L.bind(t);var B=O.getCamera(_[k]);B.fov=N,t.render(A,B),t.gl.readPixels(0,0,D.width,D.height,a["a"].RGBA,b,F),L.unbind(t),w.mipmaps[P].pixels[_[k]]=F}D.width/=2,D.height/=2,D.dirty()}return L.dispose(t),D.dispose(t),M.dispose(t),s.dispose(t),{environmentMap:w,brdfLookup:m,normalDistribution:s,maxMipmapLevel:S}},v.integrateBRDF=function(t,e){e=e||v.generateNormalDistribution();var n=new o["a"]({depthBuffer:!1}),i=new s["a"]({fragment:m["a"]}),u=new r["a"]({width:512,height:256,type:a["a"].HALF_FLOAT,wrapS:a["a"].CLAMP_TO_EDGE,wrapT:a["a"].CLAMP_TO_EDGE,minFilter:a["a"].NEAREST,magFilter:a["a"].NEAREST,useMipmap:!1});return i.setUniform("normalDistribution",e),i.setUniform("viewportSize",[512,256]),i.attachOutput(u),i.render(t,n),n.dispose(t),u},v.generateNormalDistribution=function(t,e){t=t||256,e=e||1024;for(var n=new r["a"]({width:t,height:e,type:a["a"].FLOAT,minFilter:a["a"].NEAREST,magFilter:a["a"].NEAREST,wrapS:a["a"].CLAMP_TO_EDGE,wrapT:a["a"].CLAMP_TO_EDGE,useMipmap:!1}),i=new Float32Array(e*t*4),o=[],s=0;s<t;s++){for(var u=s/t,l=u*u,c=0;c<e;c++){var h=(c<<16|c>>>16)>>>0;h=((1431655765&h)<<1|(2863311530&h)>>>1)>>>0,h=((858993459&h)<<2|(3435973836&h)>>>2)>>>0,h=((252645135&h)<<4|(4042322160&h)>>>4)>>>0,h=(((16711935&h)<<8|(4278255360&h)>>>8)>>>0)/4294967296;var f=Math.sqrt((1-h)/(1+(l*l-1)*h));o[c]=f}for(c=0;c<e;c++){var d=4*(c*t+s),p=(f=o[c],Math.sqrt(1-f*f)),m=c/e,g=2*Math.PI*m;i[d]=p*Math.cos(g),i[d+1]=f,i[d+2]=p*Math.sin(g),i[d+3]=1}}return n.pixels=i,n},e["a"]=v},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},clone:function(t){var e=new r["a"](4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},transpose:function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*a-i*r;return o?(o=1/o,t[0]=a*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null},adjoint:function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*s+a*u,t[1]=i*s+o*u,t[2]=r*l+a*c,t[3]=i*l+o*c,t}};i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=r*-s+a*u,t[3]=i*-s+o*u,t},i.scale=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=a*u,t[3]=o*u,t},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e["a"]=i},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var e=new r["a"](6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=n*a-r*i;return u?(u=1/u,t[0]=a*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-a*o)*u,t[5]=(r*o-n*s)*u,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=n[0],c=n[1],h=n[2],f=n[3],d=n[4],p=n[5];return t[0]=r*l+a*c,t[1]=i*l+o*c,t[2]=r*h+a*f,t[3]=i*h+o*f,t[4]=r*d+a*p+s,t[5]=i*d+o*p+u,t}};i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*l,t[1]=i*c+o*l,t[2]=r*-l+a*c,t[3]=i*-l+o*c,t[4]=s,t[5]=u,t},i.scale=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=i*l,t[2]=a*c,t[3]=o*c,t[4]=s,t[5]=u,t},i.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=r*l+a*c+s,t[5]=i*l+o*c+u,t},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e["a"]=i},function(t,e){var n="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=n},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(5);function o(t,e,n,r,i,a,o){this._zr=t,this._x=0,this._y=0,this._rowHeight=0,this.width=r,this.height=i,this.offsetX=e,this.offsetY=n,this.dpr=o,this.gap=a}function s(t){t=t||{},t.width=t.width||512,t.height=t.height||512,t.devicePixelRatio=t.devicePixelRatio||1,t.gap=null==t.gap?2:t.gap;var e=document.createElement("canvas");e.width=t.width*t.devicePixelRatio,e.height=t.height*t.devicePixelRatio,this._canvas=e,this._texture=new a["a"]({image:e,flipY:!1});var n=this;this._zr=i.a.zrender.init(e);var r=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){r.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},this._dpr=t.devicePixelRatio,this._coords={},this.onupdate=t.onupdate,this._gap=t.gap,this._textureAtlasNodes=[new o(this._zr,0,0,t.width,t.height,this._gap,this._dpr)],this._nodeWidth=t.width,this._nodeHeight=t.height,this._currentNodeIdx=0}o.prototype={constructor:o,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(t,e,n){var r=t.getBoundingRect();null==e&&(e=r.width),null==n&&(n=r.height),e*=this.dpr,n*=this.dpr,this._fitElement(t,e,n);var i=this._x,a=this._y,o=this.width*this.dpr,s=this.height*this.dpr,u=this.gap;if(i+e+u>o&&(i=this._x=0,a+=this._rowHeight+u,this._y=a,this._rowHeight=0),this._x+=e+u,this._rowHeight=Math.max(this._rowHeight,n),a+n+u>s)return null;t.position[0]+=this.offsetX*this.dpr+i,t.position[1]+=this.offsetY*this.dpr+a,this._zr.add(t);var l=[this.offsetX/this.width,this.offsetY/this.height],c=[[i/o+l[0],a/s+l[1]],[(i+e)/o+l[0],(a+n)/s+l[1]]];return c},_fitElement:function(t,e,n){var r=t.getBoundingRect(),i=e/r.width,a=n/r.height;t.position=[-r.x*i,-r.y*a],t.scale=[i,a],t.update()}},s.prototype={clear:function(){for(var t=0;t<this._textureAtlasNodes.length;t++)this._textureAtlasNodes[t].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var t=4096/this._dpr,e=this._textureAtlasNodes,n=e.length,r=n*this._nodeWidth%t,i=Math.floor(n*this._nodeWidth/t)*this._nodeHeight;if(!(i>=t)){var a=(r+this._nodeWidth)*this._dpr,s=(i+this._nodeHeight)*this._dpr;try{this._zr.resize({width:a,height:s})}catch(l){this._canvas.width=a,this._canvas.height=s}var u=new o(this._zr,r,i,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(u),u}console.error("Too much labels. Some will be ignored.")},add:function(t,e,n){if(this._coords[t.id])return console.warn("Element already been add"),this._coords[t.id];var r=this._getCurrentNode().add(t,e,n);if(!r){var i=this._expand();if(!i)return;r=i.add(t,e,n)}return this._coords[t.id]=r,r},getCoordsScale:function(){var t=this._dpr;return[this._nodeWidth/this._canvas.width*t,this._nodeHeight/this._canvas.height*t]},getCoords:function(t){return this._coords[t]}},e["a"]=s},function(t,e,n){var r=n(83),i=n(84),a=r.applyTransform,o=Math.min,s=Math.max;function u(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}u.prototype={constructor:u,union:function(t){var e=o(t.x,this.x),n=o(t.y,this.y);this.width=s(t.x+t.width,this.x+this.width)-e,this.height=s(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],r=[];return function(i){if(i){t[0]=n[0]=this.x,t[1]=r[1]=this.y,e[0]=r[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,a(t,t,i),a(e,e,i),a(n,n,i),a(r,r,i),this.x=o(t[0],e[0],n[0],r[0]),this.y=o(t[1],e[1],n[1],r[1]);var u=s(t[0],e[0],n[0],r[0]),l=s(t[1],e[1],n[1],r[1]);this.width=u-this.x,this.height=l-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,r=t.height/e.height,a=i.create();return i.translate(a,a,[-e.x,-e.y]),i.scale(a,a,[n,r]),i.translate(a,a,[t.x,t.y]),a},intersect:function(t){if(!t)return!1;t instanceof u||(t=u.create(t));var e=this,n=e.x,r=e.x+e.width,i=e.y,a=e.y+e.height,o=t.x,s=t.x+t.width,l=t.y,c=t.y+t.height;return!(r<o||s<n||a<l||c<i)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new u(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},u.create=function(t){return new u(t.x,t.y,t.width,t.height)};var l=u;t.exports=l},function(t,e){var n="undefined"===typeof Float32Array?Array:Float32Array;function r(t,e){var r=new n(2);return null==t&&(t=0),null==e&&(e=0),r[0]=t,r[1]=e,r}function i(t,e){return t[0]=e[0],t[1]=e[1],t}function a(t){var e=new n(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e,n){return t[0]=e,t[1]=n,t}function s(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function u(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function c(t){return Math.sqrt(f(t))}var h=c;function f(t){return t[0]*t[0]+t[1]*t[1]}var d=f;function p(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function m(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function g(t,e){return t[0]*e[0]+t[1]*e[1]}function v(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function _(t,e){var n=c(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function y(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var x=y;function b(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var w=b;function T(t,e){return t[0]=-e[0],t[1]=-e[1],t}function S(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function E(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function M(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function A(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}e.create=r,e.copy=i,e.clone=a,e.set=o,e.add=s,e.scaleAndAdd=u,e.sub=l,e.len=c,e.length=h,e.lenSquare=f,e.lengthSquare=d,e.mul=p,e.div=m,e.dot=g,e.scale=v,e.normalize=_,e.distance=y,e.dist=x,e.distanceSquare=b,e.distSquare=w,e.negate=T,e.lerp=S,e.applyTransform=E,e.min=M,e.max=A},function(t,e){var n="undefined"===typeof Float32Array?Array:Float32Array;function r(){var t=new n(6);return i(t),t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],u=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t}function s(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function u(t,e,n){var r=e[0],i=e[2],a=e[4],o=e[1],s=e[3],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=-r*l+o*c,t[2]=i*c+s*l,t[3]=-i*l+c*s,t[4]=c*a+l*u,t[5]=c*u-l*a,t}function l(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function c(t,e){var n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5],u=n*o-a*r;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-o*i)*u,t[5]=(a*i-n*s)*u,t):null}function h(t){var e=r();return a(e,t),e}e.create=r,e.identity=i,e.copy=a,e.mul=o,e.translate=s,e.rotate=u,e.scale=l,e.invert=c,e.clone=h},function(t,e,n){var r=n(13),i=1e-4;function a(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}function o(t,e,n,r){var i=e[1]-e[0],a=n[1]-n[0];if(0===i)return 0===a?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/i*a+n[0]}function s(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return"string"===typeof t?a(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function u(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function l(t){return t.sort(function(t,e){return t-e}),t}function c(t){if(t=+t,isNaN(t))return 0;var e=1,n=0;while(Math.round(t*e)/e!==t)e*=10,n++;return n}function h(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var r=+e.slice(n+1);return r<0?-r:0}var i=e.indexOf(".");return i<0?0:e.length-1-i}function f(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),a=Math.round(n(Math.abs(e[1]-e[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function d(t,e,n){if(!t[e])return 0;var i=r.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===i)return 0;var a=Math.pow(10,n),o=r.map(t,function(t){return(isNaN(t)?0:t)/i*a*100}),s=100*a,u=r.map(o,function(t){return Math.floor(t)}),l=r.reduce(u,function(t,e){return t+e},0),c=r.map(o,function(t,e){return t-u[e]});while(l<s){for(var h=Number.NEGATIVE_INFINITY,f=null,d=0,p=c.length;d<p;++d)c[d]>h&&(h=c[d],f=d);++u[f],c[f]=0,++l}return u[e]/a}var p=9007199254740991;function m(t){var e=2*Math.PI;return(t%e+e)%e}function g(t){return t>-i&&t<i}var v=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function _(t){if(t instanceof Date)return t;if("string"===typeof t){var e=v.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function y(t){return Math.pow(10,x(t))}function x(t){return Math.floor(Math.log(t)/Math.LN10)}function b(t,e){var n,r=x(t),i=Math.pow(10,r),a=t/i;return n=e?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,t=n*i,r>=-20?+t.toFixed(r<0?-r:0):t}function w(t){t.sort(function(t,e){return s(t,e,0)?-1:1});for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,a=t[r].close,o=0;o<2;o++)i[o]<=e&&(i[o]=e,a[o]=o?1:1-n),e=i[o],n=a[o];i[0]===i[1]&&a[0]*a[1]!==1?t.splice(r,1):r++}return t;function s(t,e,n){return t.interval[n]<e.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]===(n?-1:1)||!n&&s(t,e,1))}}function T(t){return t-parseFloat(t)>=0}e.linearMap=o,e.parsePercent=s,e.round=u,e.asc=l,e.getPrecision=c,e.getPrecisionSafe=h,e.getPixelPrecision=f,e.getPercentWithPrecision=d,e.MAX_SAFE_INTEGER=p,e.remRadian=m,e.isRadianAroundZero=g,e.parseDate=_,e.quantity=y,e.nice=b,e.reformIntervals=w,e.isNumeric=T},function(t,e,n){"use strict";var r=n(5),i=n(11),a=n(23),o=function(){this._pool={},this._allocatedTextures=[]};o.prototype={constructor:o,get:function(t){var e=l(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]);var n=this._pool[e];if(!n.length){var i=new r["a"](t);return this._allocatedTextures.push(i),i}return n.pop()},put:function(t){var e=l(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]);var n=this._pool[e];n.push(t)},clear:function(t){for(var e=0;e<this._allocatedTextures.length;e++)this._allocatedTextures[e].dispose(t);this._pool={},this._allocatedTextures=[]}};var s={width:512,height:512,type:i["a"].UNSIGNED_BYTE,format:i["a"].RGBA,wrapS:i["a"].CLAMP_TO_EDGE,wrapT:i["a"].CLAMP_TO_EDGE,minFilter:i["a"].LINEAR_MIPMAP_LINEAR,magFilter:i["a"].LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},u=Object.keys(s);function l(t){a["a"].defaultsWithPropList(t,s,u),c(t);for(var e="",n=0;n<u.length;n++){var r=u[n],i=t[r].toString();e+=i}return e}function c(t){var e=h(t.width,t.height);t.format===i["a"].DEPTH_COMPONENT&&(t.useMipmap=!1),e&&t.useMipmap||(t.minFilter==i["a"].NEAREST_MIPMAP_NEAREST||t.minFilter==i["a"].NEAREST_MIPMAP_LINEAR?t.minFilter=i["a"].NEAREST:t.minFilter!=i["a"].LINEAR_MIPMAP_LINEAR&&t.minFilter!=i["a"].LINEAR_MIPMAP_NEAREST||(t.minFilter=i["a"].LINEAR)),e||(t.wrapS=i["a"].CLAMP_TO_EDGE,t.wrapT=i["a"].CLAMP_TO_EDGE)}function h(t,e){return 0===(t&t-1)&&0===(e&e-1)}e["a"]=o},function(t,e,n){"use strict";e["a"]="@export clay.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n@export clay.compositor.kernel.gaussian_13\nfloat gaussianKernel[13];\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n@end\n@export clay.compositor.gaussian_blur\n#define SHADER_NAME gaussian_blur\nuniform sampler2D texture;varying vec2 v_Texcoord;\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main (void)\n{\n @import clay.compositor.kernel.gaussian_9\n vec2 off = blurSize / textureSize;\n off *= vec2(1.0 - blurDir, blurDir);\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n for (int i = 0; i < 9; i++) {\n float w = gaussianKernel[i];\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\n sum += texel * w;\n weightAll += w;\n }\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\n}\n@end\n"},function(t,e,n){"use strict";e["a"]="\n@export clay.compositor.lut\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform sampler2D lookup;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n float blueColor = tex.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec4 newColor1 = texture2D(lookup, texPos1);\n vec4 newColor2 = texture2D(lookup, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.output\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = tex.rgb;\n#ifdef OUTPUT_ALPHA\n gl_FragColor.a = tex.a;\n#else\n gl_FragColor.a = 1.0;\n#endif\n gl_FragColor = encodeHDR(gl_FragColor);\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.bright\nuniform sampler2D texture;\nuniform float threshold : 1;\nuniform float scale : 1.0;\nuniform vec2 textureSize: [512, 512];\nvarying vec2 v_Texcoord;\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvec4 median(vec4 a, vec4 b, vec4 c)\n{\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n#ifdef ANTI_FLICKER\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\n texel = median(median(texel, s1, s2), s3, s4);\n#endif\n float lum = dot(texel.rgb , lumWeight);\n vec4 color;\n if (lum > threshold && texel.a > 0.0)\n {\n color = vec4(texel.rgb * scale, texel.a * scale);\n }\n else\n {\n color = vec4(0.0);\n }\n gl_FragColor = encodeHDR(color);\n}\n@end\n"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.downsample\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nfloat brightness(vec3 c)\n{\n return max(max(c.r, c.g), c.b);\n}\n@import clay.util.clamp_sample\nvoid main()\n{\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n#ifdef ANTI_FLICKER\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n float s1w = 1.0 / (brightness(s1) + 1.0);\n float s2w = 1.0 / (brightness(s2) + 1.0);\n float s3w = 1.0 / (brightness(s3) + 1.0);\n float s4w = 1.0 / (brightness(s4) + 1.0);\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n vec4 color = vec4(\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n 1.0\n );\n#else\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n color *= 0.25;\n#endif\n gl_FragColor = encodeHDR(color);\n}\n@end"},function(t,e,n){"use strict";e["a"]="\n@export clay.compositor.upsample\n#define HIGH_QUALITY\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nuniform float sampleScale: 0.5;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main()\n{\n#ifdef HIGH_QUALITY\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n gl_FragColor = encodeHDR(s / 16.0);\n#else\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.hdr.composite\n#define TONEMAPPING\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\nvarying vec2 v_Texcoord;\n@import clay.util.srgb\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nfloat eyeAdaption(float fLum)\n{\n return mix(0.2, fLum, 0.5);\n}\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n float blueColor = color.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec4 newColor1 = texture2D(lut, texPos1);\n vec4 newColor2 = texture2D(lut, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n return newColor.rgb;\n}\n#endif\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = vec4(0.0);\n vec4 originalTexel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n texel = decodeHDR(texture2D(texture, v_Texcoord));\n originalTexel = texel;\n#endif\n#ifdef BLOOM_ENABLED\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\n texel.rgb += bloomTexel.rgb * bloomIntensity;\n texel.a += bloomTexel.a * bloomIntensity;\n#endif\n#ifdef LENSFLARE_ENABLED\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n texel.a = min(texel.a, 1.0);\n#ifdef LUM_ENABLED\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n float exposureBias = adaptedLumDest * exposure;\n#else\n float exposureBias = exposure;\n#endif\n#ifdef TONEMAPPING\n texel.rgb *= exposureBias;\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n texel = linearTosRGB(texel);\n#ifdef LUT_ENABLED\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n#ifdef COLOR_CORRECTION\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n#ifdef VIGNETTE\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n gl_FragColor = encodeHDR(texel);\n#ifdef DEBUG\n #if DEBUG == 1\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n #elif DEBUG == 2\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n #elif DEBUG == 3\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n #endif\n#endif\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\n }\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.blend\n#define SHADER_NAME blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n gl_FragColor = encodeHDR(tex);\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.fxaa\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\nvarying vec2 v_Texcoord;\n#define FXAA_REDUCE_MIN (1.0/128.0)\n#define FXAA_REDUCE_MUL (1.0/8.0)\n#define FXAA_SPAN_MAX 8.0\n@import clay.util.rgbm\nvoid main()\n{\n vec2 resolution = 1.0 / viewport.zw;\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\n vec3 rgbM = rgbaM.xyz;\n float opacity = rgbaM.w;\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\n float lumaNW = dot( rgbNW, luma );\n float lumaNE = dot( rgbNE, luma );\n float lumaSW = dot( rgbSW, luma );\n float lumaSE = dot( rgbSE, luma );\n float lumaM = dot( rgbM, luma );\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n vec2 dir;\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n dir * rcpDirMin)) * resolution;\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA *= 0.5;\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\n rgbB *= 0.25;\n rgbB += rgbA * 0.5;\n float lumaB = dot( rgbB, luma );\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n {\n gl_FragColor = vec4( rgbA, opacity );\n }\n else {\n gl_FragColor = vec4( rgbB, opacity );\n }\n}\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r);e["a"]={getFilledRegions:function(t,e){var n,r=(t||[]).slice();if("string"===typeof e?(e=i.a.getMap(e),n=e&&e.geoJson):e&&e.features&&(n=e),!n)return console.error("Map "+e+" not exists. You can download map file on http://echarts.baidu.com/download-map.html"),n.features||console.error("Invalid GeoJSON for map3D"),[];for(var a={},o=n.features,s=0;s<r.length;s++)a[r[s].name]=r[s];for(s=0;s<o.length;s++){var u=o[s].properties.name;a[u]||r.push({name:u})}return r},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}}},function(t,e,n){"use strict";function r(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function i(t,e,n,i,a){var o=n,s=t[e];r(t,e,i);for(var u=n;u<i;u++)a(t[u],s)<0&&(r(t,u,o),o++);return r(t,i,o),o}function a(t,e,n,r){if(n<r){var o=Math.floor((n+r)/2),s=i(t,o,n,r,e);a(t,e,n,s-1),a(t,e,s+1,r)}}function o(){this._parts=[]}o.prototype.step=function(t,e,n){var r=t.length;if(0===n){this._parts=[],this._sorted=!1;var o=Math.floor(r/2);this._parts.push({pivot:o,left:0,right:r-1}),this._currentSortPartIdx=0}if(!this._sorted){var s=this._parts;if(0===s.length)return this._sorted=!0,!0;if(s.length<512){for(var u=0;u<s.length;u++)s[u].pivot=i(t,s[u].pivot,s[u].left,s[u].right,e);var l=[];for(u=0;u<s.length;u++){var c=s[u].left,h=s[u].pivot-1;h>c&&l.push({pivot:Math.floor((h+c)/2),left:c,right:h});c=s[u].pivot+1,h=s[u].right;h>c&&l.push({pivot:Math.floor((h+c)/2),left:c,right:h})}s=this._parts=l}else for(u=0;u<Math.floor(s.length/10);u++){var f=s.length-1-this._currentSortPartIdx;if(a(t,e,s[f].left,s[f].right),this._currentSortPartIdx++,this._currentSortPartIdx===s.length)return this._sorted=!0,!0}return!1}},o.sort=a,e["a"]=o},function(t,e,n){"use strict";var r=n(99),i=n(0),a=n.n(i),o=n(47),s=n.n(o),u=n(22),l=n(2);function c(t,e){var n=t.getBoxLayoutParams(),r=s.a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio());var i=this.getGeoBoundingRect(),a=i.width/i.height*(t.get("aspectScale")||.75),o=t.get("boxWidth"),u=t.get("boxDepth"),l=t.get("boxHeight");null==l&&(l=5),isNaN(o)&&isNaN(u)&&(o=100),isNaN(u)?u=o/a:isNaN(o)&&(o=u/a),this.setSize(o,l,u),this.regionHeight=t.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(l-this.regionHeight,0))}function h(t,e){var n=[1/0,-1/0];if(t.eachSeries(function(t){if(t.coordinateSystem===this&&"series.map3D"!==t.type){var e=t.getData(),r=t.coordDimToDataDim("alt"),i=r&&r[0];if(i){var a=e.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}},this),n&&isFinite(n[1]-n[0])){var r=a.a.helper.createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new a.a.Axis("altitude",r),this.resize(this.model,e)}}var f=function(t){console.error("Map "+t+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")},d=0,p={dimensions:r["a"].prototype.dimensions,create:function(t,e){var n=[];if(!a.a.getMap)throw new Error("geo3D component depends on geo component");function r(t,r){var i=p.createGeo3D(t);t.__viewGL=t.__viewGL||new u["a"],i.viewGL=t.__viewGL,t.coordinateSystem=i,i.model=t,n.push(i),i.resize=c,i.resize(t,e),i.update=h}return t.eachComponent("geo3D",function(t,e){r(t,e)}),t.eachSeriesByType("map3D",function(t,e){var n=t.get("coordinateSystem");null==n&&(n="geo3D"),"geo3D"===n&&r(t,e)}),t.eachSeries(function(e){if("geo3D"===e.get("coordinateSystem")){if("series.map3D"===e.type)return;var n=e.getReferringComponents("geo3D")[0];if(n||(n=t.getComponent("geo3D")),!n)throw new Error('geo "'+l["a"].firstNotNull(e.get("geo3DIndex"),e.get("geo3DId"),0)+'" not found');e.coordinateSystem=n.coordinateSystem}}),n},createGeo3D:function(t){var e,n=t.get("map");if("string"===typeof n?(e=n,n=a.a.getMap(n)):n&&n.features&&(n={geoJson:n}),n||f(n),!n.geoJson.features)throw new Error("Invalid GeoJSON for map3D");return null==e&&(e="GEO_ANONYMOUS_"+d++),new r["a"](e+d++,e,n&&n.geoJson,n&&n.specialAreas,t.get("nameMap"))}};a.a.registerCoordinateSystem("geo3D",p),e["a"]=p},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(6),o=n(205),s=n.n(o),u=n(206),l=n.n(u),c=a["a"].vec3,h=a["a"].mat4,f=[s.a,l.a];function d(t,e,n,r,i){this.name=t,this.map=e,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(n,r,i),this.transform=h.identity(new Float64Array(16)),this.invTransform=h.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}d.prototype={constructor:d,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(t,e,n){var r=i.a.parseGeoJSON||i.a.parseGeoJson;try{this.regions=t?r(t):[]}catch(c){throw"Invalid geoJson format\n"+c}e=e||{},n=n||{};for(var a=this.regions,o={},s=0;s<a.length;s++){var u=a[s].name;u=n[u]||u,a[s].name=u,o[u]=a[s],this.addGeoCoord(u,a[s].center);var l=e[u];l&&a[s].transformTo(l.left,l.top,l.width,l.height)}this._regionsMap=o,this._geoRect=null,f.forEach(function(t){t(this)},this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var t,e=this.regions,n=0;n<e.length;n++){var r=e[n].getBoundingRect();t=t||r.clone(),t.union(r)}return this._geoRect=t||new i.a.graphic.BoundingRect(0,0,0,0)},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getRegion:function(t){return this._regionsMap[t]},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},setSize:function(t,e,n){this.size=[t,e,n];var r=this.getGeoBoundingRect(),i=t/r.width,a=-n/r.height,o=-t/2-r.x*i,s=n/2-r.y*a,u=this.extrudeY?[o,0,s]:[o,s,0],l=this.extrudeY?[i,1,a]:[i,a,1],c=this.transform;h.identity(c),h.translate(c,c,u),h.scale(c,c,l),h.invert(this.invTransform,c)},dataToPoint:function(t,e){e=e||[];var n=this.extrudeY?1:2,r=this.extrudeY?2:1,i=t[2];return isNaN(i)&&(i=0),e[0]=t[0],e[r]=t[1],this.altitudeAxis?e[n]=this.altitudeAxis.dataToCoord(i):e[n]=0,e[n]+=this.regionHeight,c.transformMat4(e,e,this.transform),e},pointToData:function(t,e){}},e["a"]=d},function(t,e,n){"use strict";var r=n(6),i=r["a"].mat4,a=512,o=.6435011087932844,s=Math.PI,u=.1;function l(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}l.prototype={constructor:l,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(t){this.bearing=t.bearing,this.pitch=t.pitch,this.center=t.center,this.zoom=t.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,a)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var t=.5/Math.tan(o/2)*this.height*u,e=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,n=o/2,r=Math.PI/2+e,s=Math.sin(n)*t/Math.sin(Math.PI-r-n),l=Math.cos(Math.PI/2-e)*s+t,c=1.1*l;this.pitch>50&&(c=1e3);var h=[];i.perspective(h,o,this.width/this.height,1,c),this.viewGL.camera.projectionMatrix.setArray(h),this.viewGL.camera.decomposeProjectionMatrix();h=i.identity([]);var f=this.dataToPoint(this.center);i.scale(h,h,[1,-1,1]),i.translate(h,h,[0,0,-t]),i.rotateX(h,h,e),i.rotateZ(h,h,-this.bearing/180*Math.PI),i.translate(h,h,[-f[0]*this.getScale()*u,-f[1]*this.getScale()*u,0]),this.viewGL.camera.viewMatrix.array=h;var d=[];i.invert(d,h),this.viewGL.camera.worldTransform.array=d,this.viewGL.camera.decomposeWorldTransform();var p,m=a*this.getScale();if(this.altitudeExtent&&!isNaN(this.boxHeight)){var g=this.altitudeExtent[1]-this.altitudeExtent[0];p=this.boxHeight/g*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)}else p=m/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*u;this.viewGL.rootNode.scale.set(this.getScale()*u,this.getScale()*u,p)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(t,e){return this.projectOnTileWithScale(t,this.getScale()*a,e)},projectOnTileWithScale:function(t,e,n){var r=t[0],i=t[1],a=r*s/180,o=i*s/180,u=e*(a+s)/(2*s),l=e*(s-Math.log(Math.tan(s/4+.5*o)))/(2*s);return n=n||[],n[0]=u,n[1]=l,n},unprojectFromTile:function(t,e){return this.unprojectOnTileWithScale(t,this.getScale()*a,e)},unprojectOnTileWithScale:function(t,e,n){var r=t[0],i=t[1],a=r/e*(2*s)-s,o=2*(Math.atan(Math.exp(s-i/e*(2*s)))-s/4);return n=n||[],n[0]=180*a/s,n[1]=180*o/s,n},dataToPoint:function(t,e){return e=this.projectOnTileWithScale(t,a,e),e[0]-=this._origin[0],e[1]-=this._origin[1],e[2]=isNaN(t[2])?0:t[2],isNaN(t[2])||(e[2]=t[2],this.altitudeExtent&&(e[2]-=this.altitudeExtent[0])),e}},e["a"]=l},function(t,e,n){"use strict";var r=n(2),i=n(1),a=n(22);e["a"]=function(t,e,n){function o(t,e){var n=e.getWidth(),r=e.getHeight(),i=e.getDevicePixelRatio();this.viewGL.setViewport(0,0,n,r,i),this.width=n,this.height=r,this.altitudeScale=t.get("altitudeScale"),this.boxHeight=t.get("boxHeight")}function s(t,e){if("auto"!==this.model.get("boxHeight")){var n=[1/0,-1/0];t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData(),r=t.coordDimToDataDim("alt")[0];if(r){var i=e.getDataExtent(r,!0);n[0]=Math.min(n[0],i[0]),n[1]=Math.max(n[1],i[1])}}},this),n&&isFinite(n[1]-n[0])&&(this.altitudeExtent=n)}}return{dimensions:e.prototype.dimensions,create:function(u,l){var c=[];return u.eachComponent(t,function(t){var n=t.__viewGL;n||(n=t.__viewGL=new a["a"],n.setRootNode(new i["a"].Node));var r=new e;r.viewGL=t.__viewGL,r.resize=o,r.resize(t,l),c.push(r),t.coordinateSystem=r,r.model=t,r.update=s}),u.eachSeries(function(e){if(e.get("coordinateSystem")===t){var n=e.getReferringComponents(t)[0];if(n||(n=u.getComponent(t)),!n)throw new Error(t+' "'+r["a"].firstNotNull(e.get(t+"Index"),e.get(t+"Id"),0)+'" not found');e.coordinateSystem=n.coordinateSystem}}),n&&n(c,u,l),c}}}},function(t,e,n){"use strict";e["a"]="\n@export ecgl.displayShadow.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_WorldPosition;\n\nvarying vec3 v_Normal;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end\n\n\n@export ecgl.displayShadow.fragment\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform float roughness: 0.2;\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.ssaoMap.header\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n float shadow = 1.0;\n\n @import ecgl.common.ssaoMap.main\n\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\n }\n#endif\n\n shadow *= 0.5 + ao * 0.5;\n shadow = clamp(shadow, 0.0, 1.0);\n\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\n}\n\n@end"},function(t,e,n){"use strict";var r=n(84),i=n.n(r),a=n(83),o=n.n(a);function s(t){this.viewGL=t}s.prototype.reset=function(t,e){this._updateCamera(e.getWidth(),e.getHeight(),e.getDevicePixelRatio()),this._viewTransform=i.a.create(),this.updateTransform(t,e)},s.prototype.updateTransform=function(t,e){var n=t.coordinateSystem;n.getRoamTransform&&(i.a.invert(this._viewTransform,n.getRoamTransform()),this._setCameraTransform(this._viewTransform),e.getZr().refresh())},s.prototype.dataToPoint=function(t,e,n){n=t.dataToPoint(e,null,n);var r=this._viewTransform;r&&o.a.applyTransform(n,n,r)},s.prototype.removeTransformInPoint=function(t){return this._viewTransform&&o.a.applyTransform(t,t,this._viewTransform),t},s.prototype.getZoom=function(){if(this._viewTransform){var t=this._viewTransform;return 1/Math.max(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]))}return 1},s.prototype._setCameraTransform=function(t){var e=this.viewGL.camera;e.position.set(t[4],t[5],0),e.scale.set(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]),1)},s.prototype._updateCamera=function(t,e,n){this.viewGL.setViewport(0,0,t,e,n);var r=this.viewGL.camera;r.left=r.top=0,r.bottom=e,r.right=t,r.near=0,r.far=100},e["a"]=s},function(t,e,n){(function(t){var n;"undefined"!==typeof window?n=window.__DEV__:"undefined"!==typeof t&&(n=t.__DEV__),"undefined"===typeof n&&(n=!0);var r=n;e.__DEV__=r}).call(e,n(68))},function(t,e,n){"use strict";var r=n(15),i=n(0),a=n.n(i),o=n(38),s=n(6),u=s["a"].vec2,l=[[0,0],[1,1]],c=r["a"].extend(function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new r["a"].Attribute("position","float",2,"POSITION"),normal:new r["a"].Attribute("normal","float",2),offset:new r["a"].Attribute("offset","float",1),color:new r["a"].Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.offset.init(t),e.normal.init(t)),t>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(this.indices=0===t?null:this.vertexCount>65535?new Uint32Array(3*t):new Uint16Array(3*t))},_getCubicCurveApproxStep:function(t,e,n,r){var i=u.dist(t,e)+u.dist(n,e)+u.dist(r,n),a=1/(i+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(l)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(l)},getPolylineVertexCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/2}return this.useNativeLine?2*(e-1):2*(e-1)+2},getPolylineTriangleCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/2}return this.useNativeLine?0:2*(e-1)},addCubicCurve:function(t,e,n,r,i,a){null==a&&(a=1);var o=t[0],s=t[1],u=e[0],l=e[1],c=n[0],h=n[1],f=r[0],d=r[1],p=this._getCubicCurveApproxStep(t,e,n,r),m=p*p,g=m*p,v=3*p,_=3*m,y=6*m,x=6*g,b=o-2*u+c,w=s-2*l+h,T=3*(u-c)-o+f,S=3*(l-h)-s+d,E=o,M=s,A=(u-o)*v+b*_+T*g,C=(l-s)*v+w*_+S*g,O=b*y+T*x,D=w*y+S*x,L=T*x,I=S*x,P=0,R=0,N=Math.ceil(1/p),k=new Float32Array(3*(N+1)),F=(k=[],0);for(R=0;R<N+1;R++)k[F++]=E,k[F++]=M,E+=A,M+=C,A+=O,C+=D,O+=L,D+=I,P+=p,P>1&&(E=A>0?Math.min(E,f):Math.max(E,f),M=C>0?Math.min(M,d):Math.max(M,d));this.addPolyline(k,i,a)},addLine:function(t,e,n,r){this.addPolyline([t,e],n,r)},addPolyline:function(){var t=u.create(),e=u.create(),n=u.create(),r=u.create(),i=[],a=[],o=[];return function(s,l,c,h,f){if(s.length){var d="number"!==typeof s[0];if(null==f&&(f=d?s.length:s.length/2),!(f<2)){null==h&&(h=0),null==c&&(c=1),this._itemVertexOffsets.push(this._vertexOffset);for(var p,m=d?"number"!==typeof l[0]:l.length/4===f,g=this.attributes.position,v=this.attributes.color,_=this.attributes.offset,y=this.attributes.normal,x=this.indices,b=this._vertexOffset,w=0;w<f;w++){if(d)i=s[w+h],p=m?l[w+h]:l;else{var T=2*w+h;if(i=i||[],i[0]=s[T],i[1]=s[T+1],m){var S=4*w+h;p=p||[],p[0]=l[S],p[1]=l[S+1],p[2]=l[S+2],p[3]=l[S+3]}else p=l}if(this.useNativeLine)w>1&&(g.copy(b,b-1),v.copy(b,b-1),b++);else{var E;if(w<f-1){if(d)u.copy(a,s[w+1]);else{T=2*(w+1)+h;a=a||[],a[0]=s[T],a[1]=s[T+1]}if(w>0){u.sub(t,i,o),u.sub(e,a,i),u.normalize(t,t),u.normalize(e,e),u.add(r,t,e),u.normalize(r,r);var M=c/2*Math.min(1/u.dot(t,r),2);n[0]=-r[1],n[1]=r[0],E=M}else u.sub(t,a,i),u.normalize(t,t),n[0]=-t[1],n[1]=t[0],E=c/2}else u.sub(t,i,o),u.normalize(t,t),n[0]=-t[1],n[1]=t[0],E=c/2;y.set(b,n),y.set(b+1,n),_.set(b,E),_.set(b+1,-E),u.copy(o,i),g.set(b,i),g.set(b+1,i),v.set(b,p),v.set(b+1,p),b+=2}if(this.useNativeLine)v.set(b,p),g.set(b,i),b++;else if(w>0){var A=3*this._faceOffset;x=this.indices;x[A]=b-4,x[A+1]=b-3,x[A+2]=b-2,x[A+3]=b-3,x[A+4]=b-1,x[A+5]=b-2,this._faceOffset+=2}}this._vertexOffset=b}}}}(),setItemColor:function(t,e){for(var n=this._itemVertexOffsets[t],r=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,e);this.dirty("color")}});a.a.util.defaults(c.prototype,o["a"]),e["a"]=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(107),n(154),n(201),n(207),n(213),n(219),n(225),n(232),n(236),n(243),n(249),n(252),n(256),n(259),n(262),n(275),n(281)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(108),o=n(109),s=n(153),u=n(1),l={version:"1.1.1",dependencies:{echarts:"4.1.0",claygl:"1.2.1"}},c=l.dependencies;function h(t){throw new Error(t+" version is too old, needs "+c[t]+" or higher")}function f(t,e){t.replace(".","")-0<c[e].replace(".","")-0&&h(e),console.log("Loaded "+e+", version "+t)}function d(t){this._layers={},this._zr=t}f(a["a"],"claygl"),f(i.a.version,"echarts"),d.prototype.update=function(t,e){var n=this,r=e.getZr();if(r.getWidth()&&r.getHeight()){for(var a in this._layers)this._layers[a].removeViewsAll();t.eachComponent(function(n,r){if("series"!==n){var i=e.getViewOfComponentModel(r),a=r.coordinateSystem;if(i.__ecgl__){if(a){if(!a.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+r.id);o=a.viewGL}else{if(!r.viewGL)return void console.error("Can't find viewGL of component "+r.id);o=a.viewGL}var o=a.viewGL,l=s(r);l.addView(o),i.afterRender&&i.afterRender(r,t,e,l),u(i.groupGL,r.get("silent"))}}}),t.eachSeries(function(n){var r=e.getViewOfSeriesModel(n),i=n.coordinateSystem;if(r.__ecgl__){if(i&&!i.viewGL&&!r.viewGL)return void console.error("Can't find viewGL of series "+r.id);var a=i&&i.viewGL||r.viewGL,o=s(n);o.addView(a),r.afterRender&&r.afterRender(n,t,e,o),u(r.groupGL,n.get("silent"))}})}else console.warn("Dom has no width or height");function s(t){var e;e=(t.coordinateSystem&&t.coordinateSystem.model,t.get("zlevel"));var a=n._layers,s=a[e];if(!s){if(s=a[e]=new o["a"]("gl-"+e,r),r.painter.isSingleCanvas()){s.virtual=!0;var u=new i.a.graphic.Image({z:1e4,style:{image:s.renderer.canvas},silent:!0});s.__hostImage=u,r.add(u)}r.painter.insertLayer(e,s)}return s.__hostImage&&s.__hostImage.setStyle({width:s.renderer.getWidth(),height:s.renderer.getHeight()}),s}function u(t,e){t&&t.traverse(function(t){t.isRenderable&&t.isRenderable()&&(t.ignorePicking=null!=t.$ignorePicking?t.$ignorePicking:e)})}};var p=i.a.init;i.a.init=function(){var t=p.apply(this,arguments);return t.getZr().painter.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=document.createElement("canvas"),n=t.pixelRatio||this.dpr;e.width=this.getWidth()*n,e.height=this.getHeight()*n;var r=e.getContext("2d");r.dpr=n,r.clearRect(0,0,e.width,e.height),t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(0,0,e.width,e.height));var i,a=this.storage.getDisplayList(!0),o={},s=this;function u(t,e){var n,i=s._zlevelList;null==t&&(t=-1/0);for(var a=0;a<i.length;a++){var o=i[a],u=s._layers[o];if(!u.__builtin__&&o>t&&o<e){n=u;break}}n&&n.renderToCanvas&&(r.save(),n.renderToCanvas(r),r.restore())}for(var l={ctx:r},c=0;c<a.length;c++){var h=a[c];h.zlevel!==i&&(u(i,h.zlevel),i=h.zlevel),this._doPaintEl(h,l,!0,o)}return u(i,1/0),e},t},i.a.registerPostUpdate(function(t,e){var n=e.getZr(),r=n.__egl=n.__egl||new d(n);r.update(t,e)}),i.a.registerPreprocessor(s["a"]),i.a.graphicGL=u["a"]},function(t,e,n){"use strict";e["a"]="1.2.1"},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(52),o=n(117),s=n(4),u=n(1),l=n(53),c=n(80),h=n.n(c),f=function(t,e){this.id=t,this.zr=e;try{this.renderer=new a["a"]({clearBit:0,devicePixelRatio:e.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(e.painter.getWidth(),e.painter.getHeight())}catch(r){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",void console.error(r)}this.onglobalout=this.onglobalout.bind(this),e.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var n=this.dom.style;n.position="absolute",n.left="0",n.top="0",this.views=[],this._picking=new o["a"]({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new i.a.graphic.Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null};function d(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)}f.prototype.addView=function(t){if(t.layer!==this){var e=this._viewsToDispose.indexOf(t);e>=0&&this._viewsToDispose.splice(e,1),this.views.push(t),t.layer=this;var n=this.zr;t.scene.traverse(function(t){t.__zr=n,t.addAnimatorsToZr&&t.addAnimatorsToZr(n)})}},f.prototype.removeView=function(t){if(t.layer===this){var e=this.views.indexOf(t);e>=0&&(this.views.splice(e,1),t.scene.traverse(d,this),t.layer=null,this._viewsToDispose.push(t))}},f.prototype.removeViewsAll=function(){this.views.forEach(function(t){t.scene.traverse(d,this),t.layer=null,this._viewsToDispose.push(t)},this),this.views.length=0},f.prototype.resize=function(t,e){var n=this.renderer;n.resize(t,e)},f.prototype.clear=function(){var t=this.renderer.gl,e=this._backgroundColor||[0,0,0,0];t.clearColor(e[0],e[1],e[2],e[3]),t.depthMask(!0),t.colorMask(!0,!0,!0,!0),t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT)},f.prototype.clearDepth=function(){var t=this.renderer.gl;t.clear(t.DEPTH_BUFFER_BIT)},f.prototype.clearColor=function(){var t=this.renderer.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},f.prototype.needsRefresh=function(){this.zr.refresh()},f.prototype.refresh=function(t){this._backgroundColor=t?u["a"].parseColor(t):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var e=0;e<this.views.length;e++)this.views[e].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(e=0;e<this._viewsToDispose.length;e++)this._viewsToDispose[e].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},f.prototype.renderToCanvas=function(t){this._startAccumulating(!0),t.drawImage(this.dom,0,0,t.canvas.width,t.canvas.height)},f.prototype._doRender=function(t){this.clear(),this.renderer.saveViewport();for(var e=0;e<this.views.length;e++)this.views[e].render(this.renderer,t);this.renderer.restoreViewport()},f.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var p=1;function m(t){for(var e=0;e<t.length;e++)t[e].__used__=0}function g(t,e){for(var n=0;n<e.length;n++)e[n].__used__||e[n].dispose(t)}function v(t,e){t.__used__=t.__used__||0,t.__used__++,1===t.__used__&&e.push(t)}function _(t,e,n){var r,i;t.traverse(function(t){if(t.isRenderable()){var a=t.geometry,o=t.material;if(o!==r)for(var u=o.getTextureUniforms(),l=0;l<u.length;l++){var c=u[l],h=o.uniforms[c].value;if(h)if(h instanceof s["a"])v(h,e);else if(h instanceof Array)for(var f=0;f<h.length;f++)h[f]instanceof s["a"]&&v(h[f],e)}a!==i&&v(a,n),r=o,i=a}});for(var a=0;a<t.lights.length;a++)t.lights[a].cubemap&&v(t.lights[a].cubemap,e)}f.prototype._startAccumulating=function(t){var e=this;this._stopAccumulating();for(var n=!1,r=0;r<this.views.length;r++)n=this.views[r].needsAccumulate()||n;function i(r){if(e._accumulatingId&&r===e._accumulatingId){for(var a=!0,o=0;o<e.views.length;o++)a=e.views[o].isAccumulateFinished()&&n;a||(e._doRender(!0),t?i(r):h()(function(){i(r)}))}}n&&(this._accumulatingId=p++,t?i(e._accumulatingId):this._accumulatingTimeout=setTimeout(function(){i(e._accumulatingId)},50))},f.prototype._trackAndClean=function(){var t=[],e=[];this._textureList&&(m(this._textureList),m(this._geometriesList));for(var n=0;n<this.views.length;n++)_(this.views[n].scene,t,e);this._textureList&&(g(this.renderer,this._textureList),g(this.renderer,this._geometriesList)),this._textureList=t,this._geometriesList=e},f.prototype.dispose=function(){this._stopAccumulating(),this.renderer.disposeScene(this.scene),this.zr.off("globalout",this.onglobalout)},f.prototype.onmousedown=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY);e&&(this._dispatchEvent("mousedown",t,e),this._dispatchDataEvent("mousedown",t,e)),this._downX=t.offsetX,this._downY=t.offsetY}},f.prototype.onmousemove=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY),n=e&&e.target,r=this._hovered;this._hovered=e,r&&n!==r.target&&(r.relatedTarget=n,this._dispatchEvent("mouseout",t,r),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",t,e),e&&(this.zr.setCursorStyle("pointer"),r&&n===r.target||this._dispatchEvent("mouseover",t,e)),this._dispatchDataEvent("mousemove",t,e)}},f.prototype.onmouseup=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY);e&&(this._dispatchEvent("mouseup",t,e),this._dispatchDataEvent("mouseup",t,e)),this._upX=t.offsetX,this._upY=t.offsetY}},f.prototype.onclick=f.prototype.dblclick=function(t){if(!t.target||!t.target.__isGLToZRProxy){var e=this._upX-this._downX,n=this._upY-this._downY;if(!(Math.sqrt(e*e+n*n)>20)){t=t.event;var r=this.pickObject(t.offsetX,t.offsetY);r&&(this._dispatchEvent(t.type,t,r),this._dispatchDataEvent(t.type,t,r));var i=this._clickToSetFocusPoint(t);if(i){var a=i.view.setDOFFocusOnPoint(i.distance);a&&this.zr.refresh()}}}},f.prototype._clickToSetFocusPoint=function(t){for(var e=this.renderer,n=e.viewport,r=this.views.length-1;r>=0;r--){var i=this.views[r];if(i.hasDOF()&&i.containPoint(t.offsetX,t.offsetY)){this._picking.scene=i.scene,this._picking.camera=i.camera,e.viewport=i.viewport;var a=this._picking.pick(t.offsetX,t.offsetY,!0);if(a)return a.view=i,a}}e.viewport=n},f.prototype.onglobalout=function(t){var e=this._hovered;e&&this._dispatchEvent("mouseout",t,{target:e.target})},f.prototype.pickObject=function(t,e){for(var n=[],r=this.renderer,i=r.viewport,a=0;a<this.views.length;a++){var o=this.views[a];o.containPoint(t,e)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,r.viewport=o.viewport,this._picking.pickAll(t,e,n))}return r.viewport=i,n.sort(function(t,e){return t.distance-e.distance}),n[0]},f.prototype._dispatchEvent=function(t,e,n){n||(n={});var r=n.target;n.cancelBubble=!1,n.event=e,n.type=t,n.offsetX=e.offsetX,n.offsetY=e.offsetY;while(r)if(r.trigger(t,n),r=r.getParent(),n.cancelBubble)break;this._dispatchToView(t,n)},f.prototype._dispatchDataEvent=function(t,e,n){var r=n&&n.target,i=r&&r.dataIndex,a=r&&r.seriesIndex,o=r&&r.eventData,s=!1,u=this._zrEventProxy;u.position=[e.offsetX,e.offsetY],u.update();var l={target:u};"mousemove"===t&&(null!=i?i!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(u.dataIndex=this._lastDataIndex,u.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(l,"mouseout",e)),s=!0):null!=o&&o!==this._lastEventData&&(null!=this._lastEventData&&(u.eventData=this._lastEventData,this.zr.handler.dispatchToElement(l,"mouseout",e)),s=!0),this._lastEventData=o,this._lastDataIndex=i,this._lastSeriesIndex=a),u.eventData=o,u.dataIndex=i,u.seriesIndex=a,(null!=o||parseInt(i,10)>=0&&parseInt(a,10)>=0)&&(this.zr.handler.dispatchToElement(l,t,e),s&&this.zr.handler.dispatchToElement(l,"mouseover",e))},f.prototype._dispatchToView=function(t,e){for(var n=0;n<this.views.length;n++)this.views[n].containPoint(e.offsetX,e.offsetY)&&this.views[n].trigger(t,e)},i.a.util.extend(f.prototype,l["a"]),e["a"]=f},function(t,e,n){"use strict";function r(t,e,n){"object"==typeof e&&(n=e,e=null);var r,o=this;if(!(t instanceof Function))for(var s in r=[],t)t.hasOwnProperty(s)&&r.push(s);var u=function(e){if(o.apply(this,arguments),t instanceof Function?i(this,t.call(this,e)):a(this,t,r),this.constructor===u)for(var n=u.__initializers__,s=0;s<n.length;s++)n[s].apply(this,arguments)};u.__super__=o,o.__initializers__?u.__initializers__=o.__initializers__.slice():u.__initializers__=[],e&&u.__initializers__.push(e);var l=function(){};return l.prototype=o.prototype,u.prototype=new l,u.prototype.constructor=u,i(u.prototype,n),u.extend=o.extend,u.derive=o.extend,u}function i(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function a(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}}e["a"]={extend:r,derive:r}},function(t,e,n){"use strict";var r=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB"],i=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];function a(t){for(var e={},n={},a=0;a<r.length;a++){var o=r[a];u(o)}for(a=0;a<i.length;a++){var s=i[a];n[s]=t.getParameter(t[s])}function u(n){var r=t.getExtension(n);r||(r=t.getExtension("MOZ_"+n)),r||(r=t.getExtension("WEBKIT_"+n)),e[n]=r}this.getExtension=function(t){return t in e||u(t),e[t]},this.getParameter=function(t){return n[t]},this.getMaxJointNumber=function(){return 15}}e["a"]=a},function(t,e,n){"use strict";function r(t){var e=new XMLHttpRequest;e.open("get",t.url),e.responseType=t.responseType||"text",t.onprogress&&(e.onprogress=function(e){if(e.lengthComputable){var n=e.loaded/e.total;t.onprogress(n,e.loaded,e.total)}else t.onprogress(null)}),e.onload=function(n){e.status>=400?t.onerror&&t.onerror():t.onload&&t.onload(e.response)},t.onerror&&(e.onerror=t.onerror),e.send(null)}e["a"]={get:r}},function(t,e,n){"use strict";var r=n(69),i={},a={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(t){return t=Math.round(t),t<0?0:t>255?255:t}function s(t){return t=Math.round(t),t<0?0:t>360?360:t}function u(t){return t<0?0:t>1?1:t}function l(t){return t.length&&"%"===t.charAt(t.length-1)?o(parseFloat(t)/100*255):o(parseInt(t,10))}function c(t){return t.length&&"%"===t.charAt(t.length-1)?u(parseFloat(t)/100):u(parseFloat(t))}function h(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function f(t,e,n){return t+(e-t)*n}function d(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function p(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var m=new r["a"](20),g=null;function v(t,e){g&&p(g,e),g=m.put(t,g||e.slice())}function _(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=c(t[1]),i=c(t[2]),a=i<=.5?i*(r+1):i+r-i*r,s=2*i-a;return e=e||[],d(e,o(255*h(s,a,n+1/3)),o(255*h(s,a,n)),o(255*h(s,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function y(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o,l=(s+o)/2;if(0===u)e=0,n=0;else{n=l<.5?u/(s+o):u/(2-s-o);var c=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,f=((s-a)/6+u/2)/u;r===s?e=f-h:i===s?e=1/3+c-f:a===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,l];return null!=t[3]&&d.push(t[3]),d}}i.parse=function(t,e){if(t){e=e||[];var n=m.get(t);if(n)return p(e,n);t+="";var r=t.replace(/ /g,"").toLowerCase();if(r in a)return p(e,a[r]),v(t,e),e;if("#"!==r.charAt(0)){var i=r.indexOf("("),o=r.indexOf(")");if(-1!==i&&o+1===r.length){var s=r.substr(0,i),u=r.substr(i+1,o-(i+1)).split(","),h=1;switch(s){case"rgba":if(4!==u.length)return void d(e,0,0,0,1);h=c(u.pop());case"rgb":return 3!==u.length?void d(e,0,0,0,1):(d(e,l(u[0]),l(u[1]),l(u[2]),h),v(t,e),e);case"hsla":return 4!==u.length?void d(e,0,0,0,1):(u[3]=c(u[3]),_(u,e),v(t,e),e);case"hsl":return 3!==u.length?void d(e,0,0,0,1):(_(u,e),v(t,e),e);default:return}}d(e,0,0,0,1)}else{if(4===r.length){var f=parseInt(r.substr(1),16);return f>=0&&f<=4095?(d(e,(3840&f)>>4|(3840&f)>>8,240&f|(240&f)>>4,15&f|(15&f)<<4,1),v(t,e),e):void d(e,0,0,0,1)}if(7===r.length){f=parseInt(r.substr(1),16);return f>=0&&f<=16777215?(d(e,(16711680&f)>>16,(65280&f)>>8,255&f,1),v(t,e),e):void d(e,0,0,0,1)}}}},i.parseToFloat=function(t,e){if(e=i.parse(t,e),e)return e[0]/=255,e[1]/=255,e[2]/=255,e},i.lift=function(t,e){var n=i.parse(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0;return i.stringify(n,4===n.length?"rgba":"rgb")}},i.toHex=function(t){var e=i.parse(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},i.fastLerp=function(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),s=e[i],l=e[a],c=r-i;return n[0]=o(f(s[0],l[0],c)),n[1]=o(f(s[1],l[1],c)),n[2]=o(f(s[2],l[2],c)),n[3]=u(f(s[3],l[3],c)),n}},i.fastMapToColor=i.fastLerp,i.lerp=function(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),a=Math.floor(r),s=Math.ceil(r),l=i.parse(e[a]),c=i.parse(e[s]),h=r-a,d=i.stringify([o(f(l[0],c[0],h)),o(f(l[1],c[1],h)),o(f(l[2],c[2],h)),u(f(l[3],c[3],h))],"rgba");return n?{color:d,leftIndex:a,rightIndex:s,value:r}:d}},i.mapToColor=i.lerp,i.modifyHSL=function(t,e,n,r){if(t=i.parse(t),t)return t=y(t),null!=e&&(t[0]=s(e)),null!=n&&(t[1]=c(n)),null!=r&&(t[2]=c(r)),i.stringify(_(t),"rgba")},i.modifyAlpha=function(t,e){if(t=i.parse(t),t&&null!=e)return t[3]=u(e),i.stringify(t,"rgba")},i.stringify=function(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}},e["a"]=i},function(t,e,n){"use strict";var r=function(){this.head=null,this.tail=null,this._length=0};r.prototype.insert=function(t){var e=new r.Entry(t);return this.insertEntry(e),e},r.prototype.insertAt=function(t,e){if(!(t<0)){var n=this.head,i=0;while(n&&i!=t)n=n.next,i++;if(n){var a=new r.Entry(e),o=n.prev;o?(o.next=a,a.prev=o):this.head=a,a.next=n,n.prev=a}else this.insert(e)}},r.prototype.insertBeforeEntry=function(t,e){var n=new r.Entry(t),i=e.prev;i?(i.next=n,n.prev=i):this.head=n,n.next=e,e.prev=n,this._length++},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._length++},r.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._length--},r.prototype.removeAt=function(t){if(!(t<0)){var e=this.head,n=0;while(e&&n!=t)e=e.next,n++;return e?(this.remove(e),e.value):void 0}},r.prototype.getHead=function(){if(this.head)return this.head.value},r.prototype.getTail=function(){if(this.tail)return this.tail.value},r.prototype.getAt=function(t){if(!(t<0)){var e=this.head,n=0;while(e&&n!=t)e=e.next,n++;return e.value}},r.prototype.indexOf=function(t){var e=this.head,n=0;while(e){if(e.value===t)return n;e=e.next,n++}},r.prototype.length=function(){return this._length},r.prototype.isEmpty=function(){return 0===this._length},r.prototype.forEach=function(t,e){var n=this.head,r=0,i="undefined"!=typeof e;while(n)i?t.call(e,n.value,r):t(n.value,r),n=n.next,r++},r.prototype.clear=function(){this.tail=this.head=null,this._length=0},r.Entry=function(t){this.value=t,this.next=null,this.prev=null},e["a"]=r},function(t,e,n){"use strict";var r=n(116),i=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function a(t,e,n){function r(t,n,r,i){var o="";isNaN(n)&&(n=n in e?e[n]:a[n]),isNaN(r)&&(r=r in e?e[r]:a[r]);for(var s=parseInt(n);s<parseInt(r);s++)o+="{"+i.replace(/float\s*\(\s*_idx_\s*\)/g,s.toFixed(1)).replace(/_idx_/g,s)+"}";return o}var a={};for(var o in n)a[o+"_COUNT"]=n[o];return t.replace(i,r)}function o(t,e,n){var r=[];if(e)for(var i in e){var a=e[i];a>0&&r.push("#define "+i.toUpperCase()+"_COUNT "+a)}if(n)for(var o=0;o<n.length;o++){var s=n[o];r.push("#define "+s.toUpperCase()+"_ENABLED")}for(var s in t){var u=t[s];null===u?r.push("#define "+s):r.push("#define "+s+" "+u.toString())}return r.join("\n")}function s(t){for(var e=[],n=0;n<t.length;n++)e.push("#extension GL_"+t[n]+" : enable");return e.join("\n")}function u(t){return["precision",t,"float"].join(" ")+";\n"+["precision",t,"int"].join(" ")+";\n"+["precision",t,"sampler2D"].join(" ")+";\n"}function l(t){this._renderer=t,this._cache={}}l.prototype.getProgram=function(t,e,n){var i=this._cache,l=t.isSkinnedMesh&&t.isSkinnedMesh(),c="s"+e.shader.shaderID+"m"+e.getProgramKey();n&&(c+="se"+n.getProgramKey(t.lightGroup)),l&&(c+=","+t.joints.length);var h=i[c];if(h)return h;var f=n?n.getLightsNumbers(t.lightGroup):{},d=this._renderer,p=d.gl,m=e.getEnabledTextures(),g="";if(l){var v={SKINNING:null,JOINT_COUNT:t.joints.length};t.joints.length>d.getMaxJointNumber()&&(v.USE_SKIN_MATRICES_TEXTURE=null),g="\n"+o(v)+"\n"}var _=g+o(e.vertexDefines,f,m),y=g+o(e.fragmentDefines,f,m),x=_+"\n"+e.shader.vertex,b=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(t){return null!=d.getGLExtension(t)});b.indexOf("EXT_shader_texture_lod")>=0&&(y+="\n#define SUPPORT_TEXTURE_LOD"),b.indexOf("OES_standard_derivatives")>=0&&(y+="\n#define SUPPORT_STANDARD_DERIVATIVES");var w=s(b)+"\n"+u(e.precision)+"\n"+y+"\n"+e.shader.fragment,T=a(x,e.vertexDefines,f),S=a(w,e.fragmentDefines,f);h=new r["a"];h.uniformSemantics=e.shader.uniformSemantics,h.attributes=e.shader.attributes;var E=h.buildProgram(p,e.shader,T,S);return h.__error=E,i[c]=h,h},e["a"]=l},function(t,e,n){"use strict";var r=n(14),i=n(7),a=1,o=2,s=3,u={};function l(t){for(var e=t.split("\n"),n=0,r=e.length;n<r;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function c(t,e,n){if(!t.getShaderParameter(e,t.COMPILE_STATUS))return[t.getShaderInfoLog(e),l(n)].join("\n")}var h=new r["a"].Float32Array(16),f=i["a"].extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(t){this._textureSlot=0,t.gl.useProgram(this._program)},hasUniform:function(t){var e=this._locations[t];return null!==e&&void 0!==e},useTextureSlot:function(t,e,n){e&&(t.gl.activeTexture(t.gl.TEXTURE0+n),e.isRenderable()?e.bind(t):e.unbind(t))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(t){this._textureSlot=t||0},takeCurrentTextureSlot:function(t,e){var n=this._textureSlot;return this.useTextureSlot(t,e,n),this._textureSlot++,n},setUniform:function(t,e,n,i){var a=this._locations,o=a[n];if(null===o||void 0===o)return!1;switch(e){case"m4":if(!(i instanceof Float32Array)){for(var s=0;s<i.length;s++)h[s]=i[s];i=h}t.uniformMatrix4fv(o,!1,i);break;case"2i":t.uniform2i(o,i[0],i[1]);break;case"2f":t.uniform2f(o,i[0],i[1]);break;case"3i":t.uniform3i(o,i[0],i[1],i[2]);break;case"3f":t.uniform3f(o,i[0],i[1],i[2]);break;case"4i":t.uniform4i(o,i[0],i[1],i[2],i[3]);break;case"4f":t.uniform4f(o,i[0],i[1],i[2],i[3]);break;case"1i":t.uniform1i(o,i);break;case"1f":t.uniform1f(o,i);break;case"1fv":t.uniform1fv(o,i);break;case"1iv":t.uniform1iv(o,i);break;case"2iv":t.uniform2iv(o,i);break;case"2fv":t.uniform2fv(o,i);break;case"3iv":t.uniform3iv(o,i);break;case"3fv":t.uniform3fv(o,i);break;case"4iv":t.uniform4iv(o,i);break;case"4fv":t.uniform4fv(o,i);break;case"m2":case"m2v":t.uniformMatrix2fv(o,!1,i);break;case"m3":case"m3v":t.uniformMatrix3fv(o,!1,i);break;case"m4v":if(Array.isArray(i)&&Array.isArray(i[0])){var u=new r["a"].Float32Array(16*i.length),l=0;for(s=0;s<i.length;s++)for(var c=i[s],f=0;f<16;f++)u[l++]=c[f];t.uniformMatrix4fv(o,!1,u)}else t.uniformMatrix4fv(o,!1,i);break}return!0},setUniformOfSemantic:function(t,e,n){var r=this.uniformSemantics[e];return!!r&&this.setUniform(t,r.type,r.symbol,n)},enableAttributes:function(t,e,n){var r,i=t.gl,l=this._program,c=this._locations;r=n?n.__enabledAttributeList:u[t.__uid__],r||(r=n?n.__enabledAttributeList=[]:u[t.__uid__]=[]);for(var h=[],f=0;f<e.length;f++){var d=e[f];if(this.attributes[d]){var p=c[d];if(null==p){if(p=i.getAttribLocation(l,d),-1===p){h[f]=-1;continue}c[d]=p}h[f]=p,r[p]?r[p]=o:r[p]=a}else h[f]=-1}for(f=0;f<r.length;f++)switch(r[f]){case a:i.enableVertexAttribArray(f),r[f]=s;break;case o:r[f]=s;break;case s:i.disableVertexAttribArray(f),r[f]=0;break}return h},buildProgram:function(t,e,n,r){var i=t.createShader(t.VERTEX_SHADER),a=t.createProgram();t.shaderSource(i,n),t.compileShader(i);var o=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(o,r),t.compileShader(o);var s=c(t,i,n);if(s)return s;if(s=c(t,o,r),s)return s;if(t.attachShader(a,i),t.attachShader(a,o),e.attributeSemantics["POSITION"])t.bindAttribLocation(a,0,e.attributeSemantics["POSITION"].symbol);else{var u=Object.keys(this.attributes);t.bindAttribLocation(a,0,u[0])}if(t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))return"Could not link program\n"+t.getProgramInfoLog(a);for(var l=0;l<e.uniforms.length;l++){var h=e.uniforms[l];this._locations[h]=t.getUniformLocation(a,h)}t.deleteShader(i),t.deleteShader(o),this._program=a,this.vertexCode=n,this.fragmentCode=r}});e["a"]=f},function(t,e,n){"use strict";var r=n(7),i=n(54),a=n(26),o=n(3),s=n(9),u=n(72),l=n(11),c=n(12),h=r["a"].extend({scene:null,camera:null,renderer:null},function(){this._ray=new i["a"],this._ndc=new a["a"]},{pick:function(t,e,n){var r=this.pickAll(t,e,[],n);return r[0]||null},pickAll:function(t,e,n,r){return this.renderer.screenToNDC(t,e,this._ndc),this.camera.castRay(this._ndc,this._ray),n=n||[],this._intersectNode(this.scene,n,r||!1),n.sort(this._intersectionCompareFunc),n},_intersectNode:function(t,e,n){t instanceof u["a"]&&t.isRenderable()&&(t.ignorePicking&&!n||!(t.mode===l["a"].TRIANGLES&&t.geometry.isUseIndices()||t.geometry.pickByRay||t.geometry.pick)||this._intersectRenderable(t,e));for(var r=0;r<t._children.length;r++)this._intersectNode(t._children[r],e,n)},_intersectRenderable:function(){var t=new o["a"],e=new o["a"],n=new o["a"],r=new i["a"],a=new s["a"];return function(i,u){var f=i.isSkinnedMesh();r.copy(this._ray),s["a"].invert(a,i.worldTransform),f||r.applyTransform(a);var d=i.geometry,p=f?i.skeleton.boundingBox:d.boundingBox;if(!p||r.intersectBoundingBox(p))if(d.pick)d.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,i,u);else if(d.pickByRay)d.pickByRay(r,i,u);else{var m,g,v=i.cullFace===l["a"].BACK&&i.frontFace===l["a"].CCW||i.cullFace===l["a"].FRONT&&i.frontFace===l["a"].CW,_=d.indices,y=d.attributes.position,x=d.attributes.weight,b=d.attributes.joint,w=[];if(y&&y.value&&_){if(f){g=i.skeleton.getSubSkinMatrices(i.__uid__,i.joints);for(var T=0;T<i.joints.length;T++){w[T]=w[T]||[];for(var S=0;S<16;S++)w[T][S]=g[16*T+S]}var E=[],M=[],A=[],C=[],O=[],D=d.attributes.skinnedPosition;D&&D.value||(d.createAttribute("skinnedPosition","f",3),D=d.attributes.skinnedPosition,D.init(d.vertexCount));for(T=0;T<d.vertexCount;T++){y.get(T,E),x.get(T,M),b.get(T,A),M[3]=1-M[0]-M[1]-M[2],c["a"].set(C,0,0,0);for(S=0;S<4;S++)A[S]>=0&&M[S]>1e-4&&(c["a"].transformMat4(O,E,w[A[S]]),c["a"].scaleAndAdd(C,C,O,M[S]));D.set(T,C)}}for(T=0;T<_.length;T+=3){var L=_[T],I=_[T+1],P=_[T+2],R=f?d.attributes.skinnedPosition:y;if(R.get(L,t.array),R.get(I,e.array),R.get(P,n.array),m=v?r.intersectTriangle(t,e,n,i.culling):r.intersectTriangle(t,n,e,i.culling),m){var N=new o["a"];f?o["a"].copy(N,m):o["a"].transformMat4(N,m,i.worldTransform),u.push(new h.Intersection(m,N,i,[L,I,P],T/3,o["a"].dist(N,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(t,e){return t.distance-e.distance}});h.Intersection=function(t,e,n,r,i,a){this.point=t,this.pointWorld=e,this.target=n,this.triangle=r,this.triangleIndex=i,this.distance=a},e["a"]=h},function(t,e,n){"use strict";var r=n(7),i=n(11),a=n(57),o=n(14);function s(t){return{byte:o["a"].Int8Array,ubyte:o["a"].Uint8Array,short:o["a"].Int16Array,ushort:o["a"].Uint16Array}[t]||o["a"].Float32Array}function u(t){return"attr_"+t}function l(t,e,n,r){switch(this.name=t,this.type=e,this.size=n,this.semantic=r||"",this.value=null,n){case 1:this.get=function(t){return this.value[t]},this.set=function(t,e){this.value[t]=e},this.copy=function(t,e){this.value[t]=this.value[t]};break;case 2:this.get=function(t,e){var n=this.value;return e[0]=n[2*t],e[1]=n[2*t+1],e},this.set=function(t,e){var n=this.value;n[2*t]=e[0],n[2*t+1]=e[1]},this.copy=function(t,e){var n=this.value;e*=2,t*=2,n[t]=n[e],n[t+1]=n[e+1]};break;case 3:this.get=function(t,e){var n=3*t,r=this.value;return e[0]=r[n],e[1]=r[n+1],e[2]=r[n+2],e},this.set=function(t,e){var n=3*t,r=this.value;r[n]=e[0],r[n+1]=e[1],r[n+2]=e[2]},this.copy=function(t,e){var n=this.value;e*=3,t*=3,n[t]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2]};break;case 4:this.get=function(t,e){var n=this.value,r=4*t;return e[0]=n[r],e[1]=n[r+1],e[2]=n[r+2],e[3]=n[r+3],e},this.set=function(t,e){var n=this.value,r=4*t;n[r]=e[0],n[r+1]=e[1],n[r+2]=e[2],n[r+3]=e[3]},this.copy=function(t,e){var n=this.value;e*=4,t*=4,n[t]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2],n[t+3]=n[e+3]}}}function c(t,e,n,r,i){this.name=t,this.type=e,this.buffer=n,this.size=r,this.semantic=i,this.symbol="",this.needsRemove=!1}function h(t){this.buffer=t,this.count=0}l.prototype.init=function(t){if(!this.value||this.value.length!=t*this.size){var e=s(this.type);this.value=new e(t*this.size)}},l.prototype.fromArray=function(t){var e,n=s(this.type);if(t[0]&&t[0].length){var r=0,i=this.size;e=new n(t.length*i);for(var a=0;a<t.length;a++)for(var o=0;o<i;o++)e[r++]=t[a][o]}else e=new n(t);this.value=e},l.prototype.clone=function(t){var e=new l(this.name,this.type,this.size,this.semantic);return t&&console.warn("todo"),e};var f=r["a"].extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new a["a"],this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var t=this.getEnabledAttributes(),e=0;e<t.length;e++)this.dirtyAttribute(t[e]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(t){this._cache.dirtyAll(u(t)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(t,e){if(t<this.triangleCount&&t>=0){e||(e=[]);var n=this.indices;return e[0]=n[3*t],e[1]=n[3*t+1],e[2]=n[3*t+2],e}},setTriangleIndices:function(t,e){var n=this.indices;n[3*t]=e[0],n[3*t+1]=e[1],n[3*t+2]=e[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(t){var e,n=this.vertexCount>65535?o["a"].Uint32Array:o["a"].Uint16Array;if(t[0]&&t[0].length){var r=0,i=3;e=new n(t.length*i);for(var a=0;a<t.length;a++)for(var s=0;s<i;s++)e[r++]=t[a][s]}else e=new n(t);this.indices=e},createAttribute:function(t,e,n,r){var i=new l(t,e,n,r);return this.attributes[t]&&this.removeAttribute(t),this.attributes[t]=i,this._attributeList.push(t),i},removeAttribute:function(t){var e=this._attributeList,n=e.indexOf(t);return n>=0&&(e.splice(n,1),delete this.attributes[t],!0)},getAttribute:function(t){return this.attributes[t]},getEnabledAttributes:function(){var t=this._enabledAttributes,e=this._attributeList;if(t)return t;for(var n=[],r=this.vertexCount,i=0;i<e.length;i++){var a=e[i],o=this.attributes[a];o.value&&o.value.length===r*o.size&&n.push(a)}return this._enabledAttributes=n,n},getBufferChunks:function(t){var e=this._cache;e.use(t.__uid__);var n=e.isDirty("attributes"),r=e.isDirty("indices");if(n||r){this._updateBuffer(t.gl,n,r);for(var i=this.getEnabledAttributes(),a=0;a<i.length;a++)e.fresh(u(i[a]));e.fresh("attributes"),e.fresh("indices")}return e.fresh("any"),e.get("chunks")},_updateBuffer:function(t,e,n){var r=this._cache,a=r.get("chunks"),o=!1;a||(a=[],a[0]={attributeBuffers:[],indicesBuffer:null},r.put("chunks",a),o=!0);var s=a[0],l=s.attributeBuffers,f=s.indicesBuffer;if(e||o){var d=this.getEnabledAttributes(),p={};if(!o)for(var m=0;m<l.length;m++)p[l[m].name]=l[m];for(var g=0;g<d.length;g++){var v,_,y=d[g],x=this.attributes[y];o||(v=p[y]),_=v?v.buffer:t.createBuffer(),r.isDirty(u(y))&&(t.bindBuffer(t.ARRAY_BUFFER,_),t.bufferData(t.ARRAY_BUFFER,x.value,this.dynamic?i["a"].DYNAMIC_DRAW:i["a"].STATIC_DRAW)),l[g]=new c(y,x.type,_,x.size,x.semantic)}for(m=g;m<l.length;m++)t.deleteBuffer(l[m].buffer);l.length=g}this.isUseIndices()&&(n||o)&&(f||(f=new h(t.createBuffer()),s.indicesBuffer=f),f.count=this.indices.length,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,f.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?i["a"].DYNAMIC_DRAW:i["a"].STATIC_DRAW))},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];t.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&t.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&s.deleteVertexArrayOES(l)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});Object.defineProperty&&(Object.defineProperty(f.prototype,"vertexCount",{enumerable:!1,get:function(){var t=this.attributes[this.mainAttribute];return t||(t=this.attributes[this._attributeList[0]]),t&&t.value?t.value.length/t.size:0}}),Object.defineProperty(f.prototype,"triangleCount",{enumerable:!1,get:function(){var t=this.indices;return t?t.length/3:0}})),f.STATIC_DRAW=i["a"].STATIC_DRAW,f.DYNAMIC_DRAW=i["a"].DYNAMIC_DRAW,f.STREAM_DRAW=i["a"].STREAM_DRAW,f.AttributeBuffer=c,f.IndicesBuffer=h,f.Attribute=l,e["a"]=f},function(t,e,n){"use strict";var r=n(120),i="uniform vec3 ",a="uniform float ",o="@export clay.header.",s="@end",u=":unconfigurable;";e["a"]=[o+"directional_light",i+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+u,i+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+u,s,o+"ambient_light",i+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+u,s,o+"ambient_sh_light",i+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+u,i+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+u,r["a"],s,o+"ambient_cubemap_light",i+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+u,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+u,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+u,s,o+"point_light",i+"pointLightPosition[POINT_LIGHT_COUNT]"+u,a+"pointLightRange[POINT_LIGHT_COUNT]"+u,i+"pointLightColor[POINT_LIGHT_COUNT]"+u,s,o+"spot_light",i+"spotLightPosition[SPOT_LIGHT_COUNT]"+u,i+"spotLightDirection[SPOT_LIGHT_COUNT]"+u,a+"spotLightRange[SPOT_LIGHT_COUNT]"+u,a+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+u,a+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+u,a+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+u,i+"spotLightColor[SPOT_LIGHT_COUNT]"+u,s].join("\n")},function(t,e,n){"use strict";e["a"]="vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}"},function(t,e,n){"use strict";e["a"]="@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end"},function(t,e,n){"use strict";var r=n(4),i=n(5),a=(n(27),542327876),o=131072,s=512,u=4;function l(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}var c=31,h=l("DXT1"),f=l("DXT3"),d=l("DXT5"),p=0,m=1,g=2,v=3,_=4,y=7,x=20,b=21,w=28,T={parse:function(t,e){var n=new Int32Array(t,0,c);if(n[p]!==a)return null;if(!n(x)&u)return null;var l,T,S=n(b),E=n[_],M=n[v],A=n[w]&s,C=n[g]&o;switch(S){case h:l=8,T=r["a"].COMPRESSED_RGB_S3TC_DXT1_EXT;break;case f:l=16,T=r["a"].COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case d:l=16,T=r["a"].COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var O=n[m]+4,D=A?6:1,L=1;C&&(L=Math.max(1,n[y]));for(var I=[],P=0;P<D;P++){var R=E,N=M;I[P]=new i["a"]({width:R,height:N,format:T});for(var k=[],F=0;F<L;F++){var B=Math.max(4,R)/4*Math.max(4,N)/4*l,z=new Uint8Array(t,O,B);O+=B,R*=.5,N*=.5,k[F]=z}I[P].pixels=k[0],C&&(I[P].mipmaps=k)}if(!e)return I[0];e.width=I[0].width,e.height=I[0].height,e.format=I[0].format,e.pixels=I[0].pixels,e.mipmaps=I[0].mipmaps}};e["a"]=T},function(t,e,n){"use strict";var r=n(4),i=n(5),a=String.fromCharCode,o=8,s=32767;function u(t,e,n,r){if(t[3]>0){var i=Math.pow(2,t[3]-128-8+r);e[n+0]=t[0]*i,e[n+1]=t[1]*i,e[n+2]=t[2]*i}else e[n+0]=0,e[n+1]=0,e[n+2]=0;return e[n+3]=1,e}function l(t,e,n){for(var r="",i=e;i<n;i++)r+=a(t[i]);return r}function c(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]}function h(t,e,n,r){var i=0,a=0,o=r;while(o>0)if(t[a][0]=e[n++],t[a][1]=e[n++],t[a][2]=e[n++],t[a][3]=e[n++],1===t[a][0]&&1===t[a][1]&&1===t[a][2]){for(var s=t[a][3]<<i>>>0;s>0;s--)c(t[a-1],t[a]),a++,o--;i+=8}else a++,o--,i=0;return n}function f(t,e,n,r){if(r<o|r>s)return h(t,e,n,r);var i=e[n++];if(2!=i)return h(t,e,n-1,r);if(t[0][1]=e[n++],t[0][2]=e[n++],i=e[n++],(t[0][2]<<8>>>0|i)>>>0!==r)return null;for(i=0;i<4;i++)for(var a=0;a<r;){var u=e[n++];if(u>128){u=(127&u)>>>0;var l=e[n++];while(u--)t[a++][i]=l}else while(u--)t[a++][i]=e[n++]}return n}var d={parseRGBE:function(t,e,n){null==n&&(n=0);var o=new Uint8Array(t),s=o.length;if("#?"===l(o,0,2)){for(var c=2;c<s;c++)if("\n"===a(o[c])&&"\n"===a(o[c+1]))break;if(!(c>=s)){c+=2;for(var h="";c<s;c++){var d=a(o[c]);if("\n"===d)break;h+=d}var p=h.split(" "),m=parseInt(p[1]),g=parseInt(p[3]);if(g&&m){for(var v=c+1,_=[],y=0;y<g;y++){_[y]=[];for(var x=0;x<4;x++)_[y][x]=0}for(var b=new Float32Array(g*m*4),w=0,T=0;T<m;T++){v=f(_,o,v,g);if(!v)return null;for(y=0;y<g;y++)u(_[y],b,w,n),w+=4}return e||(e=new i["a"]),e.width=g,e.height=m,e.pixels=b,e.type=r["a"].FLOAT,e}}}},parseRGBEFromPNG:function(t){}};e["a"]=d},function(t,e,n){"use strict";var r=n(5),i=n(3),a=n(26),o=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function s(t){return"_on"+t}var u=function(t){var e=this;this._texture=new r["a"]({anisotropic:32,flipY:!1,surface:this,dispose:function(t){e.dispose(),r["a"].prototype.dispose.call(this,t)}}),o.forEach(function(t){this[s(t)]=function(e){e.triangle&&this._meshes.forEach(function(n){this.dispatchEvent(t,n,e.triangle,e.point)},this)}},this),this._meshes=[],t&&this.setECharts(t),this.onupdate=null};u.prototype={constructor:u,getTexture:function(){return this._texture},setECharts:function(t){this._chart=t;var e=t.getDom();if(e instanceof HTMLCanvasElement){var n=this,r=t.getZr(),i=r.__oldRefreshImmediately||r.refreshImmediately;r.refreshImmediately=function(){i.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},r.__oldRefreshImmediately=i}else console.error("ECharts must init on canvas if it is used as texture."),e=document.createElement("canvas");this._texture.image=e,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var t=new i["a"],e=new i["a"],n=new i["a"],r=new a["a"],o=new a["a"],s=new a["a"],u=new a["a"],l=new i["a"];return function(c,h,f,d){var p=h.geometry,m=p.attributes.position,g=p.attributes.texcoord0,v=i["a"].dot,_=i["a"].cross;m.get(f[0],t.array),m.get(f[1],e.array),m.get(f[2],n.array),g.get(f[0],r.array),g.get(f[1],o.array),g.get(f[2],s.array),_(l,e,n);var y=v(t,l),x=v(d,l)/y;_(l,n,t);var b=v(d,l)/y;_(l,t,e);var w=v(d,l)/y;a["a"].scale(u,r,x),a["a"].scaleAndAdd(u,u,o,b),a["a"].scaleAndAdd(u,u,s,w);var T=u.x*this._chart.getWidth(),S=u.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(c,{zrX:T,zrY:S})}}(),attachToMesh:function(t){this._meshes.indexOf(t)>=0||(o.forEach(function(e){t.on(e,this[s(e)],this)},this),this._meshes.push(t))},detachFromMesh:function(t){var e=this._meshes.indexOf(t);e>=0&&this._meshes.splice(e,1),o.forEach(function(e){t.off(e,this[s(e)])},this)},dispose:function(){this._meshes.forEach(function(t){this.detachFromMesh(t)},this)}},e["a"]=u},function(t,e,n){"use strict";var r=n(24),i=n(77),a=r["a"].extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(t,e){if(t.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=i["a"].generateNormalDistribution(),this._brdfLookup=i["a"].integrateBRDF(t,this._normalDistribution));var n=this.cubemap;if(!n.__prefiltered){var r=i["a"].prefilterEnvironmentMap(t,n,{encodeRGBM:!0,width:e,height:e},this._normalDistribution,this._brdfLookup);this.cubemap=r.environmentMap,this.cubemap.__prefiltered=!0,n.dispose(t)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientCubemapLightCubemap:{type:"t",value:function(t){return t.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(t){return t._brdfLookup}}}});e["a"]=a},function(t,e,n){"use strict";e["a"]="\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end"},function(t,e,n){"use strict";e["a"]="#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n"},function(t,e,n){"use strict";e["a"]="#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n"},function(t,e,n){"use strict";var r=n(24),i=n(14),a=r["a"].extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new i["a"].Float32Array(27)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientSHLightCoefficients:{type:"3f",value:function(t){for(var e=t._coefficientsTmpArr,n=0;n<t.coefficients.length;n++)e[n]=t.coefficients[n];return e}}}});e["a"]=a},function(t,e,n){"use strict";var r=n(4),i=n(10),a=n(5),o=(n(16),n(14)),s=n(42),u=n(75),l=n(62),c=n(36),h=n(12),f=(n(131),{}),d=["px","nx","py","ny","pz","nz"];function p(t,e){var n=t[0],r=t[1],i=t[2];return 0===e?1:1===e?n:2===e?r:3===e?i:4===e?n*i:5===e?r*i:6===e?n*r:7===e?3*i*i-1:n*n-r*r}var m={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function g(t,e,n,r){for(var i=new o["a"].Float32Array(27),a=h["a"].create(),s=h["a"].create(),u=h["a"].create(),l=0;l<9;l++){for(var c=h["a"].create(),f=0;f<d.length;f++){for(var g=e[d[f]],v=h["a"].create(),_=0,y=0,x=m[d[f]],b=0;b<r;b++)for(var w=0;w<n;w++){a[0]=w/(n-1)*2-1,a[1]=b/(r-1)*2-1,a[2]=-1,h["a"].normalize(a,a),u[0]=a[x[0]]*x[3],u[1]=a[x[1]]*x[4],u[2]=a[x[2]]*x[5],s[0]=g[y++]/255,s[1]=g[y++]/255,s[2]=g[y++]/255;var T=g[y++]/255*8.12;s[0]*=T,s[1]*=T,s[2]*=T,h["a"].scaleAndAdd(v,v,s,p(u,l)*-a[2]),_+=-a[2]}h["a"].scaleAndAdd(c,c,v,1/_)}i[3*l]=c[0]/6,i[3*l+1]=c[1]/6,i[3*l+2]=c[2]/6}return i}f.projectEnvironmentMap=function(t,e,n){var o;n=n||{},n.lod=n.lod||0;var h=new c["a"],f=64;"texture2D"===e.textureType?o=new u["a"]({scene:h,environmentMap:e}):(f=e.image&&e.image.px?e.image.px.width:e.width,o=new s["a"]({scene:h,environmentMap:e}));var p=Math.ceil(f/Math.pow(2,n.lod)),m=Math.ceil(f/Math.pow(2,n.lod)),v=new a["a"]({width:p,height:m}),_=new i["a"];o.material.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&o.material.define("fragment","RGBM_DECODE"),o.material.set("lod",n.lod);for(var y=new l["a"]({texture:v}),x={},b=0;b<d.length;b++){x[d[b]]=new Uint8Array(p*m*4);var w=y.getCamera(d[b]);w.fov=90,_.attach(v),_.bind(t),t.render(h,w),t.gl.readPixels(0,0,p,m,r["a"].RGBA,r["a"].UNSIGNED_BYTE,x[d[b]]),_.unbind(t)}return o.dispose(t),_.dispose(t),v.dispose(t),g(t,x,p,m)},e["a"]=f},function(t,e,n){"use strict";e["a"]="uniform samplerCube environmentMap;\nvarying vec2 v_Texcoord;\n#define TEXTURE_SIZE 16\nmat3 front = mat3(\n 1.0, 0.0, 0.0,\n 0.0, 1.0, 0.0,\n 0.0, 0.0, 1.0\n);\nmat3 back = mat3(\n -1.0, 0.0, 0.0,\n 0.0, 1.0, 0.0,\n 0.0, 0.0, -1.0\n);\nmat3 left = mat3(\n 0.0, 0.0, -1.0,\n 0.0, 1.0, 0.0,\n 1.0, 0.0, 0.0\n);\nmat3 right = mat3(\n 0.0, 0.0, 1.0,\n 0.0, 1.0, 0.0,\n -1.0, 0.0, 0.0\n);\nmat3 up = mat3(\n 1.0, 0.0, 0.0,\n 0.0, 0.0, 1.0,\n 0.0, -1.0, 0.0\n);\nmat3 down = mat3(\n 1.0, 0.0, 0.0,\n 0.0, 0.0, -1.0,\n 0.0, 1.0, 0.0\n);\nfloat harmonics(vec3 normal){\n int index = int(gl_FragCoord.x);\n float x = normal.x;\n float y = normal.y;\n float z = normal.z;\n if(index==0){\n return 1.0;\n }\n else if(index==1){\n return x;\n }\n else if(index==2){\n return y;\n }\n else if(index==3){\n return z;\n }\n else if(index==4){\n return x*z;\n }\n else if(index==5){\n return y*z;\n }\n else if(index==6){\n return x*y;\n }\n else if(index==7){\n return 3.0*z*z - 1.0;\n }\n else{\n return x*x - y*y;\n }\n}\nvec3 sampleSide(mat3 rot)\n{\n vec3 result = vec3(0.0);\n float divider = 0.0;\n for (int i = 0; i < TEXTURE_SIZE * TEXTURE_SIZE; i++) {\n float x = mod(float(i), float(TEXTURE_SIZE));\n float y = float(i / TEXTURE_SIZE);\n vec2 sidecoord = ((vec2(x, y) + vec2(0.5, 0.5)) / vec2(TEXTURE_SIZE)) * 2.0 - 1.0;\n vec3 normal = normalize(vec3(sidecoord, -1.0));\n vec3 fetchNormal = rot * normal;\n vec3 texel = textureCube(environmentMap, fetchNormal).rgb;\n result += harmonics(fetchNormal) * texel * -normal.z;\n divider += -normal.z;\n }\n return result / divider;\n}\nvoid main()\n{\n vec3 result = (\n sampleSide(front) +\n sampleSide(back) +\n sampleSide(left) +\n sampleSide(right) +\n sampleSide(up) +\n sampleSide(down)\n ) / 6.0;\n gl_FragColor = vec4(result, 1.0);\n}"},function(t,e,n){"use strict";var r=n(15),i=n(18),a=r["a"].extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var t=this.heightSegments,e=this.widthSegments,n=this.attributes.position,r=this.attributes.texcoord0,a=this.attributes.normal,o=(e+1)*(t+1);n.init(o),r.init(o),a.init(o);var s,u,l,c,h,f,d,p,m,g,v,_=o>65535?Uint32Array:Uint16Array,y=this.indices=new _(e*t*6),x=this.radius,b=this.phiStart,w=this.phiLength,T=this.thetaStart,S=this.thetaLength,E=(x=this.radius,[]),M=[],A=0,C=1/x;for(d=0;d<=t;d++)for(f=0;f<=e;f++)c=f/e,h=d/t,s=-x*Math.cos(b+c*w)*Math.sin(T+h*S),u=x*Math.cos(T+h*S),l=x*Math.sin(b+c*w)*Math.sin(T+h*S),E[0]=s,E[1]=u,E[2]=l,M[0]=c,M[1]=h,n.set(A,E),r.set(A,M),E[0]*=C,E[1]*=C,E[2]*=C,a.set(A,E),A++;var O=e+1,D=0;for(d=0;d<t;d++)for(f=0;f<e;f++)m=d*O+f,p=d*O+f+1,v=(d+1)*O+f+1,g=(d+1)*O+f,y[D++]=p,y[D++]=m,y[D++]=v,y[D++]=m,y[D++]=g,y[D++]=v;this.boundingBox=new i["a"],this.boundingBox.max.set(x,x,x),this.boundingBox.min.set(-x,-x,-x)}});e["a"]=a},function(t,e,n){"use strict";var r=n(24),i=r["a"].extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}}});e["a"]=i},function(t,e,n){"use strict";var r=n(24),i=n(3),a=r["a"].extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new i["a"],t.__dir.copy(t.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=r["a"].prototype.clone.call(this);return t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}});e["a"]=a},function(t,e,n){"use strict";var r=n(24),i=r["a"].extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(t){return t.range}},pointLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=r["a"].prototype.clone.call(this);return t.range=this.range,t}});e["a"]=i},function(t,e,n){"use strict";var r=n(24),i=n(3),a=r["a"].extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(t){return t.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(t){return t.falloffFactor}},spotLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new i["a"],t.__dir.copy(t.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=r["a"].prototype.clone.call(this);return t.range=this.range,t.umbraAngle=this.umbraAngle,t.penumbraAngle=this.penumbraAngle,t.falloffFactor=this.falloffFactor,t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}});e["a"]=a},function(t,e,n){"use strict";var r=n(33),i=function(t,e,n,i){t=t||0,e=e||0,n=n||0,i=i||0,this.array=r["a"].fromValues(t,e,n,i),this._dirty=!0};i.prototype={constructor:i,add:function(t){return r["a"].add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n,r){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new i(this.x,this.y,this.z,this.w)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},dist:function(t){return r["a"].dist(this.array,t.array)},distance:function(t){return r["a"].distance(this.array,t.array)},div:function(t){return r["a"].div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return r["a"].divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return r["a"].dot(this.array,t.array)},len:function(){return r["a"].len(this.array)},length:function(){return r["a"].length(this.array)},lerp:function(t,e,n){return r["a"].lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return r["a"].min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return r["a"].max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return r["a"].negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r["a"].normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return r["a"].random(this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return r["a"].scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return r["a"].sqrDist(this.array,t.array)},squaredDistance:function(t){return r["a"].squaredDistance(this.array,t.array)},sqrLen:function(){return r["a"].sqrLen(this.array)},squaredLength:function(){return r["a"].squaredLength(this.array)},sub:function(t){return r["a"].sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return r["a"].subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return r["a"].transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return r["a"].transformQuat(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var a=Object.defineProperty;if(a){var o=i.prototype;a(o,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),a(o,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),a(o,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),a(o,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}i.add=function(t,e,n){return r["a"].add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n,i,a){r["a"].set(t.array,e,n,i,a),t._dirty=!0},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.dist=function(t,e){return r["a"].distance(t.array,e.array)},i.distance=i.dist,i.div=function(t,e,n){return r["a"].divide(t.array,e.array,n.array),t._dirty=!0,t},i.divide=i.div,i.dot=function(t,e){return r["a"].dot(t.array,e.array)},i.len=function(t){return r["a"].length(t.array)},i.lerp=function(t,e,n,i){return r["a"].lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return r["a"].min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return r["a"].max(t.array,e.array,n.array),t._dirty=!0,t},i.mul=function(t,e,n){return r["a"].multiply(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.negate=function(t,e){return r["a"].negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return r["a"].normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return r["a"].random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return r["a"].scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.sqrDist=function(t,e){return r["a"].sqrDist(t.array,e.array)},i.squaredDistance=i.sqrDist,i.sqrLen=function(t){return r["a"].sqrLen(t.array)},i.squaredLength=i.sqrLen,i.sub=function(t,e,n){return r["a"].subtract(t.array,e.array,n.array),t._dirty=!0,t},i.subtract=i.sub,i.transformMat4=function(t,e,n){return r["a"].transformMat4(t.array,e.array,n.array),t._dirty=!0,t},i.transformQuat=function(t,e,n){return r["a"].transformQuat(t.array,e.array,n.array),t._dirty=!0,t},e["a"]=i},function(t,e,n){"use strict";var r=n(78),i=function(){this.array=r["a"].create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},adjoint:function(){return r["a"].adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return r["a"].determinant(this.array)},identity:function(){return r["a"].identity(this.array),this._dirty=!0,this},invert:function(){return r["a"].invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r["a"].mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r["a"].rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return r["a"].transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.adjoint=function(t,e){return r["a"].adjoint(t.array,e.array),t._dirty=!0,t},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r["a"].determinant(t.array)},i.identity=function(t){return r["a"].identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r["a"].invert(t.array,e.array),t._dirty=!0,t},i.mul=function(t,e,n){return r["a"].mul(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.rotate=function(t,e,n){return r["a"].rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n.array),t._dirty=!0,t},i.transpose=function(t,e){return r["a"].transpose(t.array,e.array),t._dirty=!0,t},e["a"]=i},function(t,e,n){"use strict";var r=n(79),i=function(){this.array=r["a"].create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return r["a"].determinant(this.array)},identity:function(){return r["a"].identity(this.array),this._dirty=!0,this},invert:function(){return r["a"].invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r["a"].mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r["a"].rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return r["a"].translate(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r["a"].determinant(t.array)},i.identity=function(t){return r["a"].identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r["a"].invert(t.array,e.array),t._dirty=!0,t},i.mul=function(t,e,n){return r["a"].mul(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.rotate=function(t,e,n){return r["a"].rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n.array),t._dirty=!0,t},i.translate=function(t,e,n){return r["a"].translate(t.array,e.array,n.array),t._dirty=!0,t},e["a"]=i},function(t,e,n){"use strict";var r=n(34),i=function(){this.array=r["a"].create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return r["a"].adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return r["a"].determinant(this.array)},fromMat2d:function(t){return r["a"].fromMat2d(this.array,t.array),this._dirty=!0,this},fromMat4:function(t){return r["a"].fromMat4(this.array,t.array),this._dirty=!0,this},fromQuat:function(t){return r["a"].fromQuat(this.array,t.array),this._dirty=!0,this},identity:function(){return r["a"].identity(this.array),this._dirty=!0,this},invert:function(){return r["a"].invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r["a"].mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r["a"].rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return r["a"].translate(this.array,this.array,t.array),this._dirty=!0,this},normalFromMat4:function(t){return r["a"].normalFromMat4(this.array,t.array),this._dirty=!0,this},transpose:function(){return r["a"].transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.adjoint=function(t,e){return r["a"].adjoint(t.array,e.array),t._dirty=!0,t},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r["a"].determinant(t.array)},i.identity=function(t){return r["a"].identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r["a"].invert(t.array,e.array),t},i.mul=function(t,e,n){return r["a"].mul(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.fromMat2d=function(t,e){return r["a"].fromMat2d(t.array,e.array),t._dirty=!0,t},i.fromMat4=function(t,e){return r["a"].fromMat4(t.array,e.array),t._dirty=!0,t},i.fromQuat=function(t,e){return r["a"].fromQuat(t.array,e.array),t._dirty=!0,t},i.normalFromMat4=function(t,e){return r["a"].normalFromMat4(t.array,e.array),t._dirty=!0,t},i.rotate=function(t,e,n){return r["a"].rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n.array),t._dirty=!0,t},i.transpose=function(t,e){return r["a"].transpose(t.array,e.array),t._dirty=!0,t},i.translate=function(t,e,n){return r["a"].translate(t.array,e.array,n.array),t._dirty=!0,t},e["a"]=i},function(t,e,n){"use strict";var r=n(142),i=n.n(r),a={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(t,e){this._animators=this._animators||[];var n,r=this;if(t){for(var a=t.split("."),o=r,s=0,u=a.length;s<u;s++)o&&(o=o[a[s]]);o&&(n=o)}else n=r;if(null==n)throw new Error("Target "+t+" not exists");var l=this._animators,c=new i.a(n,e),h=this;return c.during(function(){h.__zr&&h.__zr.refresh()}).done(function(){var t=l.indexOf(c);t>=0&&l.splice(t,1)}),l.push(c),this.__zr&&this.__zr.animation.addAnimator(c),c},stopAnimation:function(t){this._animators=this._animators||[];for(var e=this._animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},addAnimatorsToZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.addAnimator(this._animators[e])},removeAnimatorsFromZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.removeAnimator(this._animators[e])}};e["a"]=a},function(t,e,n){var r=n(143),i=n(145),a=n(13),o=a.isArrayLike,s=Array.prototype.slice;function u(t,e){return t[e]}function l(t,e,n){t[e]=n}function c(t,e,n){return(e-t)*n+t}function h(t,e,n){return n>.5?e:t}function f(t,e,n,r,i){var a=t.length;if(1==i)for(var o=0;o<a;o++)r[o]=c(t[o],e[o],n);else{var s=a&&t[0].length;for(o=0;o<a;o++)for(var u=0;u<s;u++)r[o][u]=c(t[o][u],e[o][u],n)}}function d(t,e,n){var r=t.length,i=e.length;if(r!==i){var a=r>i;if(a)t.length=i;else for(var o=r;o<i;o++)t.push(1===n?e[o]:s.call(e[o]))}var u=t[0]&&t[0].length;for(o=0;o<t.length;o++)if(1===n)isNaN(t[o])&&(t[o]=e[o]);else for(var l=0;l<u;l++)isNaN(t[o][l])&&(t[o][l]=e[o][l])}function p(t,e,n){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===n){for(var i=0;i<r;i++)if(t[i]!==e[i])return!1}else{var a=t[0].length;for(i=0;i<r;i++)for(var o=0;o<a;o++)if(t[i][o]!==e[i][o])return!1}return!0}function m(t,e,n,r,i,a,o,s,u){var l=t.length;if(1==u)for(var c=0;c<l;c++)s[c]=g(t[c],e[c],n[c],r[c],i,a,o);else{var h=t[0].length;for(c=0;c<l;c++)for(var f=0;f<h;f++)s[c][f]=g(t[c][f],e[c][f],n[c][f],r[c][f],i,a,o)}}function g(t,e,n,r,i,a,o){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*o+(-3*(e-n)-2*s-u)*a+s*i+e}function v(t){if(o(t)){var e=t.length;if(o(t[0])){for(var n=[],r=0;r<e;r++)n.push(s.call(t[r]));return n}return s.call(t)}return t}function _(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function y(t){var e=t[t.length-1].value;return o(e&&e[0])?2:1}function x(t,e,n,a,s,u){var l=t._getter,v=t._setter,x="spline"===e,b=a.length;if(b){var w,T=a[0].value,S=o(T),E=!1,M=!1,A=S?y(a):0;a.sort(function(t,e){return t.time-e.time}),w=a[b-1].time;for(var C=[],O=[],D=a[0].value,L=!0,I=0;I<b;I++){C.push(a[I].time/w);var P=a[I].value;if(S&&p(P,D,A)||!S&&P===D||(L=!1),D=P,"string"==typeof P){var R=i.parse(P);R?(P=R,E=!0):M=!0}O.push(P)}if(u||!L){var N=O[b-1];for(I=0;I<b-1;I++)S?d(O[I],N,A):!isNaN(O[I])||isNaN(N)||M||E||(O[I]=N);S&&d(l(t._target,s),N,A);var k,F,B,z,U,G,j=0,H=0;if(E)var V=[0,0,0,0];var W=function(t,e){var n;if(e<0)n=0;else if(e<H){for(k=Math.min(j+1,b-1),n=k;n>=0;n--)if(C[n]<=e)break;n=Math.min(n,b-2)}else{for(n=j;n<b;n++)if(C[n]>e)break;n=Math.min(n-1,b-2)}j=n,H=e;var r=C[n+1]-C[n];if(0!==r)if(F=(e-C[n])/r,x)if(z=O[n],B=O[0===n?n:n-1],U=O[n>b-2?b-1:n+1],G=O[n>b-3?b-1:n+2],S)m(B,z,U,G,F,F*F,F*F*F,l(t,s),A);else{if(E)i=m(B,z,U,G,F,F*F,F*F*F,V,1),i=_(V);else{if(M)return h(z,U,F);i=g(B,z,U,G,F,F*F,F*F*F)}v(t,s,i)}else if(S)f(O[n],O[n+1],F,l(t,s),A);else{var i;if(E)f(O[n],O[n+1],F,V,1),i=_(V);else{if(M)return h(O[n],O[n+1],F);i=c(O[n],O[n+1],F)}v(t,s,i)}},X=new r({target:t._target,life:w,loop:t._loop,delay:t._delay,onframe:W,ondestroy:n});return e&&"spline"!==e&&(X.easing=e),X}}}var b=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||u,this._setter=r||l,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};b.prototype={when:function(t,e){var n=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==t&&n[r].push({time:0,value:v(i)})}n[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,r=this,i=0,a=function(){i--,i||r._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=x(this,t,a,this._tracks[o],o,e);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),n=s)}if(n){var u=n.onframe;n.onframe=function(t,e){u(t,e);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,r=0;r<e.length;r++){var i=e[r];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var w=b;t.exports=w},function(t,e,n){var r=n(144);function i(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}i.prototype={constructor:i,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,a="string"==typeof i?r[i]:i,o="function"===typeof a?a(n):n;return this.fire("frame",o),1==n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var a=i;t.exports=a},function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r))},elasticOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}},r=n;t.exports=r},function(t,e,n){var r=n(60),i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function a(t){return t=Math.round(t),t<0?0:t>255?255:t}function o(t){return t=Math.round(t),t<0?0:t>360?360:t}function s(t){return t<0?0:t>1?1:t}function u(t){return t.length&&"%"===t.charAt(t.length-1)?a(parseFloat(t)/100*255):a(parseInt(t,10))}function l(t){return t.length&&"%"===t.charAt(t.length-1)?s(parseFloat(t)/100):s(parseFloat(t))}function c(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function h(t,e,n){return t+(e-t)*n}function f(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var p=new r(20),m=null;function g(t,e){m&&d(m,e),m=p.put(t,m||e.slice())}function v(t,e){if(t){e=e||[];var n=p.get(t);if(n)return d(e,n);t+="";var r=t.replace(/ /g,"").toLowerCase();if(r in i)return d(e,i[r]),g(t,e),e;if("#"!==r.charAt(0)){var a=r.indexOf("("),o=r.indexOf(")");if(-1!==a&&o+1===r.length){var s=r.substr(0,a),c=r.substr(a+1,o-(a+1)).split(","),h=1;switch(s){case"rgba":if(4!==c.length)return void f(e,0,0,0,1);h=l(c.pop());case"rgb":return 3!==c.length?void f(e,0,0,0,1):(f(e,u(c[0]),u(c[1]),u(c[2]),h),g(t,e),e);case"hsla":return 4!==c.length?void f(e,0,0,0,1):(c[3]=l(c[3]),_(c,e),g(t,e),e);case"hsl":return 3!==c.length?void f(e,0,0,0,1):(_(c,e),g(t,e),e);default:return}}f(e,0,0,0,1)}else{if(4===r.length){var m=parseInt(r.substr(1),16);return m>=0&&m<=4095?(f(e,(3840&m)>>4|(3840&m)>>8,240&m|(240&m)>>4,15&m|(15&m)<<4,1),g(t,e),e):void f(e,0,0,0,1)}if(7===r.length){m=parseInt(r.substr(1),16);return m>=0&&m<=16777215?(f(e,(16711680&m)>>16,(65280&m)>>8,255&m,1),g(t,e),e):void f(e,0,0,0,1)}}}}function _(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=l(t[1]),i=l(t[2]),o=i<=.5?i*(r+1):i+r-i*r,s=2*i-o;return e=e||[],f(e,a(255*c(s,o,n+1/3)),a(255*c(s,o,n)),a(255*c(s,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function y(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o,l=(s+o)/2;if(0===u)e=0,n=0;else{n=l<.5?u/(s+o):u/(2-s-o);var c=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,f=((s-a)/6+u/2)/u;r===s?e=f-h:i===s?e=1/3+c-f:a===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,l];return null!=t[3]&&d.push(t[3]),d}}function x(t,e){var n=v(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:t[r]<0&&(n[r]=0);return C(n,4===n.length?"rgba":"rgb")}}function b(t){var e=v(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function w(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),u=e[i],l=e[o],c=r-i;return n[0]=a(h(u[0],l[0],c)),n[1]=a(h(u[1],l[1],c)),n[2]=a(h(u[2],l[2],c)),n[3]=s(h(u[3],l[3],c)),n}}var T=w;function S(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),u=v(e[i]),l=v(e[o]),c=r-i,f=C([a(h(u[0],l[0],c)),a(h(u[1],l[1],c)),a(h(u[2],l[2],c)),s(h(u[3],l[3],c))],"rgba");return n?{color:f,leftIndex:i,rightIndex:o,value:r}:f}}var E=S;function M(t,e,n,r){if(t=v(t),t)return t=y(t),null!=e&&(t[0]=o(e)),null!=n&&(t[1]=l(n)),null!=r&&(t[2]=l(r)),C(_(t),"rgba")}function A(t,e){if(t=v(t),t&&null!=e)return t[3]=s(e),C(t,"rgba")}function C(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}e.parse=v,e.lift=x,e.toHex=b,e.fastLerp=w,e.fastMapToColor=T,e.lerp=S,e.mapToColor=E,e.modifyHSL=M,e.modifyAlpha=A,e.stringify=C},function(t,e,n){"use strict";e["a"]="\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end"},function(t,e,n){"use strict";e["a"]="\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n"},function(t,e,n){"use strict";e["a"]="@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end"},function(t,e,n){"use strict";e["a"]="/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"},function(t,e,n){"use strict";e["a"]="@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"},function(t,e,n){"use strict";e["a"]="@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n"},function(t,e,n){"use strict";e["a"]="@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function o(t,e){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,r=t[e].emphasis;n&&(t[e]=n),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r)}}function s(t){o(t,"itemStyle"),o(t,"lineStyle"),o(t,"areaStyle"),o(t,"label")}function u(t){t&&(t instanceof Array||(t=[t]),i.a.util.each(t,function(t){if(t.axisLabel){var e=t.axisLabel;i.a.util.extend(e,e.textStyle),e.textStyle=null}}))}e["a"]=function(t){i.a.util.each(t.series,function(e){i.a.util.indexOf(a,e.type)>=0&&(s(e),"mapbox"===e.coordinateSystem&&(e.coordinateSystem="mapbox3D",t.mapbox3D=t.mapbox))}),u(t.xAxis3D),u(t.yAxis3D),u(t.zAxis3D),u(t.grid3D),o(t.geo3D)}},function(t,e,n){"use strict";n(155),n(159),n(160),n(167);var r=n(0),i=n.n(r);i.a.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},function(t,e){e.eachComponent({mainType:"grid3D",query:t},function(e){e.setView(t)})}),i.a.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},function(t,e){}),i.a.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},function(t,e){})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(156),o=i.a.extendComponentModel({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});function s(t,e){return e.type||(e.data?"category":"value")}i.a.helper.mixinAxisModelCommonMethods(o),Object(a["a"])("x",o,s,{name:"X"}),Object(a["a"])("y",o,s,{name:"Y"}),Object(a["a"])("z",o,s,{name:"Z"})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(157),o=n(158),s=n.n(o),u=["value","category","time","log"];e["a"]=function(t,e,n,r){i.a.util.each(u,function(o){e.extend({type:t+"Axis3D."+o,__ordinalMeta:null,mergeDefaultAndTheme:function(e,r){var a=r.getTheme();i.a.util.merge(e,a.get(o+"Axis3D")),i.a.util.merge(e,this.getDefaultOption()),e.type=n(t,e)},optionUpdated:function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=s.a.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:i.a.util.merge(i.a.util.clone(a["a"][o+"Axis3D"]),r||{},!0)})}),e.superClass.registerSubTypeDefaulter(t+"Axis3D",i.a.util.curry(n,t))}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},o=i.a.util.merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},a),s=i.a.util.merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},a),u=i.a.util.defaults({scale:!0,min:"dataMin",max:"dataMax"},s),l=i.a.util.defaults({logBase:10},s);l.scale=!0,e["a"]={categoryAxis3D:o,valueAxis3D:s,timeAxis3D:u,logAxis3D:l}},function(t,e,n){var r=n(13),i=r.createHashMap,a=r.isObject,o=r.map;function s(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}s.createByAxisModel=function(t){var e=t.option,n=e.data,r=n&&o(n,c);return new s({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})};var u=s.prototype;function l(t){return t._map||(t._map=i(t.categories))}function c(t){return a(t)&&null!=t.value?t.value:t+""}u.getOrdinal=function(t){return l(this).get(t)},u.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!==typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=l(this);return e=r.get(t),null==e&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e};var h=s;t.exports=h},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),u=i.a.extendComponentModel({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});i.a.util.merge(u.prototype,a["a"]),i.a.util.merge(u.prototype,o["a"]),i.a.util.merge(u.prototype,s["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(25),u=n(2),l=n(81),c=n(30),h=n(162),f=n(164),d=n(63),p=n(46),m=u["a"].firstNotNull;a["a"].Shader.import(p["a"]),["x","y","z"].forEach(function(t){i.a.extendComponentView({type:t+"Axis3D"})});var g={x:0,y:2,z:1};i.a.extendComponentView({type:"grid3D",__ecgl__:!0,init:function(t,e){var n=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]],r=["x","y","z"],i=new a["a"].Material({shader:a["a"].createShader("ecgl.color"),depthMask:!1,transparent:!0}),u=new a["a"].Material({shader:a["a"].createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});i.define("fragment","DOUBLE_SIDED"),i.define("both","VERTEX_COLOR"),this.groupGL=new a["a"].Node,this._control=new o["a"]({zr:e.getZr()}),this._control.init(),this._faces=n.map(function(t){var e=new h["a"](t,u,i);return this.groupGL.add(e.rootNode),e},this),this._axes=r.map(function(t){var e=new f["a"](t,u);return this.groupGL.add(e.rootNode),e},this);var p=e.getDevicePixelRatio();this._axisLabelSurface=new l["a"]({width:256,height:256,devicePixelRatio:p}),this._axisLabelSurface.onupdate=function(){e.getZr().refresh()},this._axisPointerLineMesh=new a["a"].Mesh({geometry:new s["a"]({useNativeLine:!1}),material:u,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new l["a"]({width:128,height:128,devicePixelRatio:p}),this._axisPointerLabelsMesh=new d["a"]({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new a["a"].Node,this._sceneHelper=new c["a"],this._sceneHelper.initLight(this._lightRoot)},render:function(t,e,n){this._model=t,this._api=n;var r=t.coordinateSystem;r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=t.getModel("viewControl");i.setFromViewControlModel(a,0),this._axisLabelSurface.clear(),i.off("update"),t.get("show")&&(this._faces.forEach(function(r){r.update(t,e,n)},this),this._axes.forEach(function(e){e.update(t,this._axisLabelSurface,n)},this)),i.on("update",this._onCameraChange.bind(this,t,n),this),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._initMouseHandler(t)},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},showAxisPointer:function(t,e,n,r){this._doShowAxisPointer(),this._updateAxisPointer(r.value)},hideAxisPointer:function(t,e,n,r){this._doHideAxisPointer()},_initMouseHandler:function(t){var e=t.coordinateSystem,n=e.viewGL;t.get("show")&&t.get("axisPointer.show")?n.on("mousemove",this._updateAxisPointerOnMousePosition,this):n.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(t){if(!t.target){for(var e,n=this._model,r=n.coordinateSystem,i=r.viewGL,o=i.castRay(t.offsetX,t.offsetY,new a["a"].Ray),s=0;s<this._faces.length;s++){var u=this._faces[s];if(!u.rootNode.invisible){u.plane.normal.dot(i.camera.worldTransform.z)<0&&u.plane.normal.negate();var l=o.intersectPlane(u.plane);if(l){var c=r.getAxis(u.faceInfo[0]),h=r.getAxis(u.faceInfo[1]),f=g[u.faceInfo[0]],d=g[u.faceInfo[1]];c.contain(l.array[f])&&h.contain(l.array[d])&&(e=l)}}}if(e){var p=r.pointToData(e.array,[],!0);this._updateAxisPointer(p),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(t,e){t.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var n=this._control;e.dispatchAction({type:"grid3DChangeCamera",alpha:n.getAlpha(),beta:n.getBeta(),distance:n.getDistance(),center:n.getCenter(),from:this.uid,grid3DId:t.id})},_updateFaceVisibility:function(){var t=this._control.getCamera(),e=new a["a"].Vector3;t.update();for(var n=0;n<this._faces.length/2;n++){for(var r=[],i=0;i<2;i++){var o=this._faces[2*n+i];o.rootNode.getWorldPosition(e),e.transformMat4(t.viewMatrix),r[i]=e.z}var s=r[0]>r[1]?0:1,u=this._faces[2*n+s],l=this._faces[2*n+1-s];u.rootNode.invisible=!0,l.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var t=this._model.coordinateSystem,e=t.getAxis("x"),n=t.getAxis("y"),r=t.getAxis("z"),i=r.getExtentMax(),a=r.getExtentMin(),o=e.getExtentMin(),s=e.getExtentMax(),u=n.getExtentMax(),l=n.getExtentMin(),c=this._axes[0].rootNode,h=this._axes[1].rootNode,f=this._axes[2].rootNode,d=this._faces,p=d[4].rootNode.invisible?l:u,m=d[2].rootNode.invisible?i:a,g=d[0].rootNode.invisible?o:s,v=d[2].rootNode.invisible?i:a,_=d[0].rootNode.invisible?s:o,y=d[4].rootNode.invisible?l:u;c.rotation.identity(),h.rotation.identity(),f.rotation.identity(),d[4].rootNode.invisible&&(this._axes[0].flipped=!0,c.rotation.rotateX(Math.PI)),d[0].rootNode.invisible&&(this._axes[1].flipped=!0,h.rotation.rotateZ(Math.PI)),d[4].rootNode.invisible&&(this._axes[2].flipped=!0,f.rotation.rotateY(Math.PI)),c.position.set(0,m,p),h.position.set(g,v,0),f.position.set(_,0,y),c.update(),h.update(),f.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var t=this._control.getCamera(),e=[new a["a"].Vector4,new a["a"].Vector4],n=new a["a"].Vector4;this.groupGL.getWorldPosition(n),n.w=1,n.transformMat4(t.viewMatrix).transformMat4(t.projectionMatrix),n.x/=n.w,n.y/=n.w,this._axes.forEach(function(r){for(var i=r.axisLineCoords,a=(r.labelsMesh.geometry,0);a<e.length;a++)e[a].setArray(i[a]),e[a].w=1,e[a].transformMat4(r.rootNode.worldTransform).transformMat4(t.viewMatrix).transformMat4(t.projectionMatrix),e[a].x/=e[a].w,e[a].y/=e[a].w;var o,s,u=e[1].x-e[0].x,l=e[1].y-e[0].y,c=(e[1].x+e[0].x)/2,h=(e[1].y+e[0].y)/2;Math.abs(l/u)<.5?(o="center",s=h>n.y?"bottom":"top"):(s="middle",o=c>n.x?"left":"right"),r.setSpriteAlign(o,s,this._api)},this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(t){var e=this._model.coordinateSystem,n=e.dataToPoint(t),r=this._axisPointerLineMesh,i=r.geometry,o=this._model.getModel("axisPointer"),s=this._api.getDevicePixelRatio();function l(t){return u["a"].firstNotNull(t.model.get("axisPointer.show"),o.get("show"))}function c(t){var e=t.model.getModel("axisPointer",o),n=e.getModel("lineStyle"),r=a["a"].parseColor(n.get("color")),i=m(n.get("width"),1),s=m(n.get("opacity"),1);return r[3]*=s,{color:r,lineWidth:i}}i.convertToDynamicArray(!0);for(var h=0;h<this._faces.length;h++){var f=this._faces[h];if(!f.rootNode.invisible){for(var d=f.faceInfo,p=d[3]<0?e.getAxis(d[2]).getExtentMin():e.getAxis(d[2]).getExtentMax(),v=g[d[2]],_=0;_<2;_++){var y=d[_],x=d[1-_],b=e.getAxis(y),w=e.getAxis(x);if(l(b)){var T=[0,0,0],S=[0,0,0],E=g[y],M=g[x];T[E]=S[E]=n[E],T[v]=S[v]=p,T[M]=w.getExtentMin(),S[M]=w.getExtentMax();var A=c(b);i.addLine(T,S,A.color,A.lineWidth*s)}}if(l(e.getAxis(d[2]))){T=n.slice(),S=n.slice();S[v]=p;A=c(e.getAxis(d[2]));i.addLine(T,S,A.color,A.lineWidth*s)}}}i.convertToTypedArray(),this._updateAxisPointerLabelsMesh(t),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(t){var e=this._model,n=this._axisPointerLabelsMesh,r=this._axisPointerLabelsSurface,a=e.coordinateSystem,o=e.getModel("axisPointer");n.geometry.convertToDynamicArray(!0),r.clear();var s={x:"y",y:"x",z:"y"};this._axes.forEach(function(e,u){var l=a.getAxis(e.dim),c=l.model,h=c.getModel("axisPointer",o),f=h.getModel("label"),d=h.get("lineStyle.color");if(f.get("show")&&h.get("show")){var p=t[u],m=f.get("formatter"),v=l.scale.getLabel(p);if(null!=m)v=m(v,t);else if("interval"===l.scale.type||"log"===l.scale.type){var _=i.a.number.getPrecisionSafe(l.scale.getTicks()[0]);v=p.toFixed(_+2)}var y=f.getModel("textStyle"),x=y.get("color"),b=new i.a.graphic.Text;i.a.graphic.setTextStyle(b.style,y,{text:v,textFill:x||d,textAlign:"left",textVerticalAlign:"top"});var w=r.add(b),T=b.getBoundingRect(),S=this._api.getDevicePixelRatio(),E=e.rootNode.position.toArray(),M=g[s[e.dim]];E[M]+=(e.flipped?-1:1)*f.get("margin"),E[g[e.dim]]=l.dataToCoord(t[u]),n.geometry.addSprite(E,[T.width*S,T.height*S],w,e.textAlign,e.textVerticalAlign)}},this),r.getZr().refreshImmediately(),n.material.set("uvScale",r.getCoordsScale()),n.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=n(70),i=n(12),a=n(33),o=n(78),s=n(79),u=n(34),l=n(21),c=n(55);e["a"]={vec2:r["a"],vec3:i["a"],vec4:a["a"],mat2:o["a"],mat2d:s["a"],mat3:u["a"],mat4:l["a"],quat:c["a"]}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(25),u=n(163),l=o["a"].firstNotNull,c={x:0,y:2,z:1};function h(t,e,n,r){var i=[0,0,0],a=r<0?n.getExtentMin():n.getExtentMax();i[c[n.dim]]=a,t.position.setArray(i),t.rotation.identity(),e.distance=-Math.abs(a),e.normal.set(0,0,0),"x"===n.dim?(t.rotation.rotateY(r*Math.PI/2),e.normal.x=-r):"z"===n.dim?(t.rotation.rotateX(-r*Math.PI/2),e.normal.y=-r):(r>0&&t.rotation.rotateY(Math.PI),e.normal.z=-r)}function f(t,e,n){this.rootNode=new a["a"].Node;var r=new a["a"].Mesh({geometry:new s["a"]({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),i=new a["a"].Mesh({geometry:new u["a"],material:n,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(i),this.rootNode.add(r),this.faceInfo=t,this.plane=new a["a"].Plane,this.linesMesh=r,this.quadsMesh=i}f.prototype.update=function(t,e,n){var r=t.coordinateSystem,i=[r.getAxis(this.faceInfo[0]),r.getAxis(this.faceInfo[1])],a=this.linesMesh.geometry,o=this.quadsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0),this._updateSplitLines(a,i,t,n),this._udpateSplitAreas(o,i,t,n),a.convertToTypedArray(),o.convertToTypedArray();var s=r.getAxis(this.faceInfo[2]);h(this.rootNode,this.plane,s,this.faceInfo[3])},f.prototype._updateSplitLines=function(t,e,n,r){var o=r.getDevicePixelRatio();e.forEach(function(r,s){var u=r.model,c=e[1-s].getExtent();if(!r.scale.isBlank()){var h=u.getModel("splitLine",n.getModel("splitLine"));if(h.get("show")){var f=h.getModel("lineStyle"),d=f.get("color"),p=l(f.get("opacity"),1),m=l(f.get("width"),1);d=i.a.util.isArray(d)?d:[d];for(var g=r.getTicksCoords({tickModel:h}),v=0,_=0;_<g.length;_++){var y=g[_].coord,x=a["a"].parseColor(d[v%d.length]);x[3]*=p;var b=[0,0,0],w=[0,0,0];b[s]=w[s]=y,b[1-s]=c[0],w[1-s]=c[1],t.addLine(b,w,x,m*o),v++}}}})},f.prototype._udpateSplitAreas=function(t,e,n,r){e.forEach(function(r,o){var s=r.model,u=e[1-o].getExtent();if(!r.scale.isBlank()){var c=s.getModel("splitArea",n.getModel("splitArea"));if(c.get("show")){var h=c.getModel("areaStyle"),f=h.get("color"),d=l(h.get("opacity"),1);f=i.a.util.isArray(f)?f:[f];for(var p=r.getTicksCoords({tickModel:c,clamp:!0}),m=0,g=[0,0,0],v=[0,0,0],_=0;_<p.length;_++){var y=p[_].coord,x=[0,0,0],b=[0,0,0];if(x[o]=b[o]=y,x[1-o]=u[0],b[1-o]=u[1],0!==_){var w=a["a"].parseColor(f[m%f.length]);w[3]*=d,t.addQuad([g,x,b,v],w),g=x,v=b,m++}else g=x,v=b}}}})},e["a"]=f},function(t,e,n){"use strict";var r=n(15),i=n(0),a=n.n(i),o=n(38),s=n(6),u=s["a"].vec3,l=r["a"].extend(function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new r["a"].Attribute("position","float",3,"POSITION"),normal:new r["a"].Attribute("normal","float",3,"NORMAL"),color:new r["a"].Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(t){var e=this.attributes,n=this.getQuadVertexCount()*t,r=this.getQuadTriangleCount()*t;this.vertexCount!==n&&(e.position.init(n),e.normal.init(n),e.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var t=u.create(),e=u.create(),n=u.create(),r=[0,3,1,3,2,1];return function(i,a){var o=this.attributes.position,s=this.attributes.normal,l=this.attributes.color;u.sub(t,i[1],i[0]),u.sub(e,i[2],i[1]),u.cross(n,t,e),u.normalize(n,n);for(var c=0;c<4;c++)o.set(this._vertexOffset+c,i[c]),l.set(this._vertexOffset+c,a),s.set(this._vertexOffset+c,n);var h=3*this._faceOffset;for(c=0;c<6;c++)this.indices[h+c]=r[c]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});a.a.util.defaults(l.prototype,o["a"]),e["a"]=l},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(25),s=n(2),u=n(63),l=s["a"].firstNotNull,c={x:0,y:2,z:1};function h(t,e){var n=new a["a"].Mesh({geometry:new o["a"]({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,renderOrder:2}),r=new u["a"];r.material.depthMask=!1;var i=new a["a"].Node;i.add(n),i.add(r),this.rootNode=i,this.dim=t,this.linesMesh=n,this.labelsMesh=r,this.axisLineCoords=null,this.labelElements=[]}var f={x:"y",y:"x",z:"y"};h.prototype.update=function(t,e,n){var r=t.coordinateSystem,o=r.getAxis(this.dim),s=this.linesMesh.geometry,u=this.labelsMesh.geometry;s.convertToDynamicArray(!0),u.convertToDynamicArray(!0);var h=o.model,d=o.getExtent(),p=n.getDevicePixelRatio(),m=h.getModel("axisLine",t.getModel("axisLine")),g=h.getModel("axisTick",t.getModel("axisTick")),v=h.getModel("axisLabel",t.getModel("axisLabel")),_=m.get("lineStyle.color");if(m.get("show")){var y=m.getModel("lineStyle"),x=[0,0,0],b=[0,0,0],w=c[o.dim];x[w]=d[0],b[w]=d[1],this.axisLineCoords=[x,b];var T=a["a"].parseColor(_),S=l(y.get("width"),1),E=l(y.get("opacity"),1);T[3]*=E,s.addLine(x,b,T,S*p)}if(g.get("show")){var M=g.getModel("lineStyle"),A=a["a"].parseColor(l(M.get("color"),_));S=l(M.get("width"),1);A[3]*=l(M.get("opacity"),1);for(var C=o.getTicksCoords(),O=g.get("length"),D=0;D<C.length;D++){var L=C[D].coord,I=(x=[0,0,0],b=[0,0,0],w=c[o.dim],c[f[o.dim]]);x[w]=b[w]=L,b[I]=O,s.addLine(x,b,A,S*p)}}this.labelElements=[];p=n.getDevicePixelRatio();if(v.get("show")){C=o.getTicksCoords();var P=h.get("data"),R=v.get("margin"),N=o.getViewLabels();for(D=0;D<N.length;D++){var k=N[D].tickValue,F=N[D].formattedLabel,B=N[D].rawLabel,z=(L=o.dataToCoord(k),[0,0,0]);w=c[o.dim],I=c[f[o.dim]];z[w]=z[w]=L,z[I]=R;var U=v;P&&P[k]&&P[k].textStyle&&(U=new i.a.Model(P[k].textStyle,v,h.ecModel));var G=l(U.get("color"),_),j=new i.a.graphic.Text;i.a.graphic.setTextStyle(j.style,U,{text:F,textFill:"function"===typeof G?G("category"===o.type?B:"value"===o.type?k+"":k,D):G,textVerticalAlign:"top",textAlign:"left"});var H=e.add(j),V=j.getBoundingRect();u.addSprite(z,[V.width*p,V.height*p],H),this.labelElements.push(j)}}if(h.get("name")){var W=h.getModel("nameTextStyle"),X=(z=[0,0,0],w=c[o.dim],I=c[f[o.dim]],l(W.get("color"),_)),q=W.get("borderColor");S=W.get("borderWidth");z[w]=z[w]=(d[0]+d[1])/2,z[I]=h.get("nameGap");j=new i.a.graphic.Text;i.a.graphic.setTextStyle(j.style,W,{text:h.get("name"),textFill:X,textStroke:q,lineWidth:S});H=e.add(j),V=j.getBoundingRect();u.addSprite(z,[V.width*p,V.height*p],H),j.__idx=this.labelElements.length,this.nameLabelElement=j}this.labelsMesh.material.set("textureAtlas",e.getTexture()),this.labelsMesh.material.set("uvScale",e.getCoordsScale()),s.convertToTypedArray(),u.convertToTypedArray()},h.prototype.setSpriteAlign=function(t,e,n){for(var r=n.getDevicePixelRatio(),i=this.labelsMesh.geometry,a=0;a<this.labelElements.length;a++){var o=this.labelElements[a],s=o.getBoundingRect();i.setSpriteAlign(a,[s.width*r,s.height*r],t,e)}var u=this.nameLabelElement;if(u){s=u.getBoundingRect();i.setSpriteAlign(u.__idx,[s.width*r,s.height*r],t,e),i.dirty()}this.textAlign=t,this.textVerticalAlign=e},e["a"]=h},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(15),o=n(38),s=[0,1,2,0,2,3],u=a["a"].extend(function(){return{attributes:{position:new a["a"].Attribute("position","float",3,"POSITION"),texcoord:new a["a"].Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new a["a"].Attribute("offset","float",2),color:new a["a"].Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(t){this._spriteCount=t;var e=4*t,n=2*t;this.vertexCount!==e&&(this.attributes.position.init(e),this.attributes.offset.init(e),this.attributes.color.init(e)),this.triangleCount!==n&&(this.indices=e>65535?new Uint32Array(3*n):new Uint16Array(3*n))},setSpriteAlign:function(t,e,n,r,i){var a,o,s,u;switch(null==n&&(n="left"),null==r&&(r="top"),i=i||0,n){case"left":a=i,s=e[0]+i;break;case"center":case"middle":a=-e[0]/2,s=e[0]/2;break;case"right":a=-e[0]-i,s=-i;break}switch(r){case"bottom":o=i,u=e[1]+i;break;case"middle":o=-e[1]/2,u=e[1]/2;break;case"top":o=-e[1]-i,u=-i;break}var l=4*t,c=this.attributes.offset;c.set(l,[a,u]),c.set(l+1,[s,u]),c.set(l+2,[s,o]),c.set(l+3,[a,o])},addSprite:function(t,e,n,r,i,a){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,t,e,n,r,i,a);for(var u=0;u<s.length;u++)this.indices[3*this._faceOffset+u]=s[u]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(t,e,n,r,i,a,o){for(var s=4*t,u=this.attributes,l=0;l<4;l++)u.position.set(s+l,e);var c=u.texcoord;c.set(s,[r[0][0],r[0][1]]),c.set(s+1,[r[1][0],r[0][1]]),c.set(s+2,[r[1][0],r[1][1]]),c.set(s+3,[r[0][0],r[1][1]]),this.setSpriteAlign(t,n,i,a,o)}});i.a.util.defaults(u.prototype,o["a"]),e["a"]=u},function(t,e,n){"use strict";e["a"]="@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end"},function(t,e,n){"use strict";var r=n(168),i=n(170),a=n(0),o=n.n(a),s=n(47),u=n.n(s),l=n(22),c=n(2);function h(t,e){var n=t.getBoxLayoutParams(),r=u.a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio());var i=t.get("boxWidth"),a=t.get("boxHeight"),o=t.get("boxDepth");["x","y","z"].forEach(function(e){if(!this.getAxis(e))throw new Error("Grid"+t.id+" don't have "+e+"Axis")},this),this.getAxis("x").setExtent(-i/2,i/2),this.getAxis("y").setExtent(o/2,-o/2),this.getAxis("z").setExtent(-a/2,a/2),this.size=[i,a,o]}function f(t,e){var n={};function r(t,e){n[t]=n[t]||[1/0,-1/0],n[t][0]=Math.min(e[0],n[t][0]),n[t][1]=Math.max(e[1],n[t][1])}t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();["x","y","z"].forEach(function(t){e.mapDimension(t,!0).forEach(function(n){r(t,e.getDataExtent(n,!0))})})}},this),["xAxis3D","yAxis3D","zAxis3D"].forEach(function(e){t.eachComponent(e,function(t){var r=e.charAt(0),a=t.getReferringComponents("grid3D")[0],s=a.coordinateSystem;if(s===this){var u=s.getAxis(r);if(u)console.warn("Can't have two %s in one grid3D",e);else{var l=o.a.helper.createScale(n[r]||[1/0,-1/0],t);u=new i["a"](r,l),u.type=t.get("type");var c="category"===u.type;u.onBand=c&&t.get("boundaryGap"),u.inverse=t.get("inverse"),t.axis=u,u.model=t,u.getLabelModel=function(){return t.getModel("axisLabel",a.getModel("axisLabel"))},u.getTickModel=function(){return t.getModel("axisTick",a.getModel("axisTick"))},s.addAxis(u)}}},this)},this),this.resize(this.model,e)}var d={dimensions:r["a"].prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("grid3D",function(t){t.__viewGL=t.__viewGL||new l["a"];var e=new r["a"];e.model=t,e.viewGL=t.__viewGL,t.coordinateSystem=e,n.push(e),e.resize=h,e.update=f});var i=["xAxis3D","yAxis3D","zAxis3D"];function a(t,e){return i.map(function(n){var r=t.getReferringComponents(n)[0];if(null==r&&(r=e.getComponent(n)),!r)throw new Error(n+' "'+c["a"].firstNotNull(t.get(n+"Index"),t.get(n+"Id"),0)+'" not found');return r})}return t.eachSeries(function(e){if("cartesian3D"===e.get("coordinateSystem")){var n=e.getReferringComponents("grid3D")[0];if(null==n){var r=a(e,t);n=r[0].getCoordSysModel();r.forEach(function(t){var e=t.getCoordSysModel();if(!e)throw new Error('grid3D "'+c["a"].firstNotNull(t.get("gridIndex"),t.get("gridId"),0)+'" not found');if(e!==n)throw new Error("xAxis3D, yAxis3D, zAxis3D must use the same grid")})}var i=n.coordinateSystem;e.coordinateSystem=i}}),n}};o.a.registerCoordinateSystem("grid3D",d)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(169),o=n.n(a);function s(t){o.a.call(this,t),this.size=[0,0,0]}s.prototype={constructor:s,type:"cartesian3D",dimensions:["x","y","z"],model:null,containPoint:function(t){return this.getAxis("x").contain(t[0])&&this.getAxis("y").contain(t[2])&&this.getAxis("z").contain(t[1])},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])&&this.getAxis("z").containData(t[2])},dataToPoint:function(t,e,n){return e=e||[],e[0]=this.getAxis("x").dataToCoord(t[0],n),e[2]=this.getAxis("y").dataToCoord(t[1],n),e[1]=this.getAxis("z").dataToCoord(t[2],n),e},pointToData:function(t,e,n){return e=e||[],e[0]=this.getAxis("x").coordToData(t[0],n),e[1]=this.getAxis("y").coordToData(t[2],n),e[2]=this.getAxis("z").coordToData(t[1],n),e}},i.a.util.inherits(s,o.a),e["a"]=s},function(t,e,n){var r=n(13);function i(t){return this._axes[t]}var a=function(t){this._axes={},this._dimList=[],this.name=t||""};a.prototype={constructor:a,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return r.map(this._dimList,i,this)},getAxesByScale:function(t){return t=t.toLowerCase(),r.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,r=t instanceof Array?[]:{},i=0;i<n.length;i++){var a=n[i],o=this._axes[a];r[a]=o[e](t[a])}return r}};var o=a;t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n.n(r);function a(t,e,n){i.a.Axis.call(this,t,e,n)}a.prototype={constructor:a,getExtentMin:function(){var t=this._extent;return Math.min(t[0],t[1])},getExtentMax:function(){var t=this._extent;return Math.max(t[0],t[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},i.a.util.inherits(a,i.a.Axis),e["a"]=a},function(t,e,n){var r=n(13),i=n(172),a=n(85);function o(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function s(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var u=r.normalizeCssArray,l=/([&<>"'])/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function h(t){return null==t?"":(t+"").replace(l,function(t,e){return c[e]})}var f=["a","b","c","d","e","f","g"],d=function(t,e){return"{"+t+(null==e?"":e)+"}"};function p(t,e,n){r.isArray(e)||(e=[e]);var i=e.length;if(!i)return"";for(var a=e[0].$vars||[],o=0;o<a.length;o++){var s=f[o];t=t.replace(d(s),d(s,0))}for(var u=0;u<i;u++)for(var l=0;l<a.length;l++){var c=e[u][a[l]];t=t.replace(d(f[l],u),n?h(c):c)}return t}function m(t,e,n){return r.each(e,function(e,r){t=t.replace("{"+r+"}",n?h(e):e)}),t}function g(t,e){t=r.isString(t)?{color:t,extraCssText:e}:t||{};var n=t.color,i=t.type;e=t.extraCssText;return n?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+h(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+h(n)+";"+(e||"")+'"></span>':""}function v(t,e){return t+="","0000".substr(0,e-t.length)+t}function _(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=a.parseDate(e),i=n?"UTC":"",o=r["get"+i+"FullYear"](),s=r["get"+i+"Month"]()+1,u=r["get"+i+"Date"](),l=r["get"+i+"Hours"](),c=r["get"+i+"Minutes"](),h=r["get"+i+"Seconds"](),f=r["get"+i+"Milliseconds"]();return t=t.replace("MM",v(s,2)).replace("M",s).replace("yyyy",o).replace("yy",o%100).replace("dd",v(u,2)).replace("d",u).replace("hh",v(l,2)).replace("h",l).replace("mm",v(c,2)).replace("m",c).replace("ss",v(h,2)).replace("s",h).replace("SSS",v(f,3)),t}function y(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}var x=i.truncateText,b=i.getBoundingRect;e.addCommas=o,e.toCamelCase=s,e.normalizeCssArray=u,e.encodeHTML=h,e.formatTpl=p,e.formatTplSimple=m,e.getTooltipMarker=g,e.formatTime=_,e.capitalFirst=y,e.truncateText=x,e.getTextRect=b},function(t,e,n){var r=n(82),i=n(173),a=n(13),o=a.getContext,s=a.extend,u=a.retrieve2,l=a.retrieve3,c=a.trim,h={},f=0,d=5e3,p=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,m="12px sans-serif",g={};function v(t,e){g[t]=e}function _(t,e){e=e||m;var n=t+":"+e;if(h[n])return h[n];for(var r=(t+"").split("\n"),i=0,a=0,o=r.length;a<o;a++)i=Math.max(D(r[a],e).width,i);return f>d&&(f=0,h={}),f++,h[n]=i,i}function y(t,e,n,r,i,a,o){return a?b(t,e,n,r,i,a,o):x(t,e,n,r,i,o)}function x(t,e,n,i,a,o){var s=L(t,e,a,o),u=_(t,e);a&&(u+=a[1]+a[3]);var l=s.outerHeight,c=w(0,u,n),h=T(0,l,i),f=new r(c,h,u,l);return f.lineHeight=s.lineHeight,f}function b(t,e,n,i,a,o,s){var u=I(t,{rich:o,truncate:s,font:e,textAlign:n,textPadding:a}),l=u.outerWidth,c=u.outerHeight,h=w(0,l,n),f=T(0,c,i);return new r(h,f,l,c)}function w(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function T(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function S(t,e,n){var r=e.x,i=e.y,a=e.height,o=e.width,s=a/2,u="left",l="top";switch(t){case"left":r-=n,i+=s,u="right",l="middle";break;case"right":r+=n+o,i+=s,l="middle";break;case"top":r+=o/2,i-=n,u="center",l="bottom";break;case"bottom":r+=o/2,i+=a+n,u="center";break;case"inside":r+=o/2,i+=s,u="center",l="middle";break;case"insideLeft":r+=n,i+=s,l="middle";break;case"insideRight":r+=o-n,i+=s,u="right",l="middle";break;case"insideTop":r+=o/2,i+=n,u="center";break;case"insideBottom":r+=o/2,i+=a-n,u="center",l="bottom";break;case"insideTopLeft":r+=n,i+=n;break;case"insideTopRight":r+=o-n,i+=n,u="right";break;case"insideBottomLeft":r+=n,i+=a-n,l="bottom";break;case"insideBottomRight":r+=o-n,i+=a-n,u="right",l="bottom";break}return{x:r,y:i,textAlign:u,textVerticalAlign:l}}function E(t,e,n,r,i){if(!e)return"";var a=(t+"").split("\n");i=M(e,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=A(a[o],i);return a.join("\n")}function M(t,e,n,r){r=s({},r),r.font=e;n=u(n,"...");r.maxIterations=u(r.maxIterations,2);var i=r.minChar=u(r.minChar,0);r.cnCharWidth=_("国",e);var a=r.ascCharWidth=_("a",e);r.placeholder=u(r.placeholder,"");for(var o=t=Math.max(0,t-1),l=0;l<i&&o>=a;l++)o-=a;var c=_(n);return c>o&&(n="",c=0),o=t-c,r.ellipsis=n,r.ellipsisWidth=c,r.contentWidth=o,r.containerWidth=t,r}function A(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var a=_(t,r);if(a<=n)return t;for(var o=0;;o++){if(a<=i||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?C(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;t=t.substr(0,s),a=_(t,r)}return""===t&&(t=e.placeholder),t}function C(t,e,n,r){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}function O(t){return _("国",t)}function D(t,e){return g.measureText(t,e)}function L(t,e,n,r){null!=t&&(t+="");var i=O(e),a=t?t.split("\n"):[],o=a.length*i,s=o;if(n&&(s+=n[0]+n[2]),t&&r){var u=r.outerHeight,l=r.outerWidth;if(null!=u&&s>u)t="",a=[];else if(null!=l)for(var c=M(l-(n?n[1]+n[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),h=0,f=a.length;h<f;h++)a[h]=A(a[h],c)}return{lines:a,height:o,outerHeight:s,lineHeight:i}}function I(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;var r,a=p.lastIndex=0;while(null!=(r=p.exec(t))){var o=r.index;o>a&&P(n,t.substring(a,o)),P(n,r[2],r[1]),a=p.lastIndex}a<t.length&&P(n,t.substring(a,t.length));var s=n.lines,c=0,h=0,f=[],d=e.textPadding,m=e.truncate,g=m&&m.outerWidth,v=m&&m.outerHeight;d&&(null!=g&&(g-=d[1]+d[3]),null!=v&&(v-=d[0]+d[2]));for(var y=0;y<s.length;y++){for(var x=s[y],b=0,w=0,T=0;T<x.tokens.length;T++){var S=x.tokens[T],M=S.styleName&&e.rich[S.styleName]||{},A=S.textPadding=M.textPadding,C=S.font=M.font||e.font,D=S.textHeight=u(M.textHeight,O(C));if(A&&(D+=A[0]+A[2]),S.height=D,S.lineHeight=l(M.textLineHeight,e.textLineHeight,D),S.textAlign=M&&M.textAlign||e.textAlign,S.textVerticalAlign=M&&M.textVerticalAlign||"middle",null!=v&&c+S.lineHeight>v)return{lines:[],width:0,height:0};S.textWidth=_(S.text,C);var L=M.textWidth,I=null==L||"auto"===L;if("string"===typeof L&&"%"===L.charAt(L.length-1))S.percentWidth=L,f.push(S),L=0;else{if(I){L=S.textWidth;var R=M.textBackgroundColor,N=R&&R.image;N&&(N=i.findExistImage(N),i.isImageReady(N)&&(L=Math.max(L,N.width*D/N.height)))}var k=A?A[1]+A[3]:0;L+=k;var F=null!=g?g-w:null;null!=F&&F<L&&(!I||F<k?(S.text="",S.textWidth=L=0):(S.text=E(S.text,F-k,C,m.ellipsis,{minChar:m.minChar}),S.textWidth=_(S.text,C),L=S.textWidth+k))}w+=S.width=L,M&&(b=Math.max(b,S.lineHeight))}x.width=w,x.lineHeight=b,c+=b,h=Math.max(h,w)}n.outerWidth=n.width=u(e.textWidth,h),n.outerHeight=n.height=u(e.textHeight,c),d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]);for(y=0;y<f.length;y++){S=f[y];var B=S.percentWidth;S.width=parseInt(B,10)/100*h}return n}function P(t,e,n){for(var r=""===e,i=e.split("\n"),a=t.lines,o=0;o<i.length;o++){var s=i[o],u={styleName:n,text:s,isLineHolder:!s&&!r};if(o)a.push({tokens:[u]});else{var l=(a[a.length-1]||(a[0]={tokens:[]})).tokens,c=l.length;1===c&&l[0].isLineHolder?l[0]=u:(s||!c||r)&&l.push(u)}}}function R(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&c(e)||t.textFont||t.font}g.measureText=function(t,e){var n=o();return n.font=e||m,n.measureText(t)},e.DEFAULT_FONT=m,e.$override=v,e.getWidth=_,e.getBoundingRect=y,e.adjustTextX=w,e.adjustTextY=T,e.adjustTextPositionOnRect=S,e.truncateText=E,e.getLineHeight=O,e.measureText=D,e.parsePlainText=L,e.parseRichText=I,e.makeFont=R},function(t,e,n){var r=n(60),i=new r(50);function a(t){if("string"===typeof t){var e=i.get(t);return e&&e.image}return t}function o(t,e,n,r,a){if(t){if("string"===typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=i.get(t),l={hostEl:n,cb:r,cbPayload:a};return o?(e=o.image,!u(e)&&o.pending.push(l)):(!e&&(e=new Image),e.onload=s,i.put(t,e.__cachedImgObj={image:e,pending:[l]}),e.src=e.__zrImageSrc=t),e}return t}return e}function s(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function u(t){return t&&t.width&&t.height}e.findExistImage=a,e.createOrUpdateImage=o,e.isImageReady=u},function(t,e,n){"use strict";var r=n(7),i=n(11),a=n(3),o=n(18),s=n(59),u=n(9),l=n(52),c=n(8),h=n(19),f=n(10),d=n(4),p=n(5),m=n(27),g=n(41),v=n(37),_=n(16),y=n(86),x=n(21),b=n(175),w=["px","nx","py","ny","pz","nz"];function T(t,e,n){if("alphaMap"===n)return t.material.get("diffuseMap");if("alphaCutoff"===n){if(t.material.isDefined("fragment","ALPHA_TEST")&&t.material.get("diffuseMap")){var r=t.material.get("alphaCutoff");return r||0}return 0}return e.get(n)}function S(t,e){var n=t.material,r=e.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)}c["a"]["import"](b["a"]);var E=r["a"].extend(function(){return{softShadow:E.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new f["a"],_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new y["a"]}},function(){this._gaussianPassH=new _["a"]({fragment:c["a"].source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new _["a"]({fragment:c["a"].source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new _["a"]({fragment:c["a"].source("clay.sm.debug_depth")})},{render:function(t,e,n,r){n||(n=e.getMainCamera()),this.trigger("beforerender",this,t,e,n),this._renderShadowPass(t,e,n,r),this.trigger("afterrender",this,t,e,n)},renderDebug:function(t,e){t.saveClear();var n=t.viewport,r=0,i=0,a=e||n.width/4,o=a;for(var s in this.softShadow===E.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM"),this._textures){var u=this._textures[s];t.setViewport(r,i,a*u.width/u.height,o),this._outputDepthPass.setUniform("depthMap",u),this._outputDepthPass.render(t),r+=a*u.width/u.height}t.setViewport(n),t.restoreClear()},_updateReceivers:function(t,e){if(e.receiveShadow?(this._receivers.push(e),e.material.set("shadowEnabled",1),e.material.set("pcfKernel",this.kernelPCF)):e.material.set("shadowEnabled",0),this.softShadow===E.VSM)e.material.define("fragment","USE_VSM"),e.material.undefine("fragment","PCF_KERNEL_SIZE");else{e.material.undefine("fragment","USE_VSM");var n=this.kernelPCF;n&&n.length?e.material.define("fragment","PCF_KERNEL_SIZE",n.length/2):e.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(t,e){var n=this;e.traverse(function(e){e.isRenderable()&&n._updateReceivers(t,e)});for(var r=0;r<e.lights.length;r++){var i=e.lights[r];i.castShadow&&!i.invisible&&this._lightsCastShadow.push(i)}},_renderShadowPass:function(t,e,n,r){for(var i in this._shadowMapNumber)this._shadowMapNumber[i]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var a=t.gl;if(r||e.update(),n&&n.update(),e.updateLights(),this._update(t,e),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,a.enable(a.DEPTH_TEST),a.depthMask(!0),a.disable(a.BLEND),a.clearColor(1,1,1,1);for(var o,s=[],u=[],l=[],c=[],h=[],f=[],d=0;d<this._lightsCastShadow.length;d++){var p=this._lightsCastShadow[d];if("DIRECTIONAL_LIGHT"===p.type){if(o){console.warn("Only one direectional light supported with shadow cascade");continue}if(p.shadowCascade>4){console.warn("Support at most 4 cascade");continue}p.shadowCascade>1&&(o=p),this.renderDirectionalLightShadow(t,e,n,p,h,c,l)}else"SPOT_LIGHT"===p.type?this.renderSpotLightShadow(t,e,p,u,s):"POINT_LIGHT"===p.type&&this.renderPointLightShadow(t,e,p,f);this._shadowMapNumber[p.type]++}for(var m in this._shadowMapNumber){var g=this._shadowMapNumber[m],v=m+"_SHADOWMAP_COUNT";for(d=0;d<this._receivers.length;d++){var _=this._receivers[d],y=_.material;y.fragmentDefines[v]!==g&&(g>0?y.define("fragment",v,g):y.isDefined("fragment",v)&&y.undefine("fragment",v))}}for(d=0;d<this._receivers.length;d++){_=this._receivers[d],y=_.material;o?y.define("fragment","SHADOW_CASCADE",o.shadowCascade):y.undefine("fragment","SHADOW_CASCADE")}var x=e.shadowUniforms;if(l.length>0){var b=l.map(E);if(x.directionalLightShadowMaps={value:l,type:"tv"},x.directionalLightMatrices={value:c,type:"m4v"},x.directionalLightShadowMapSizes={value:b,type:"1fv"},o){var w=h.slice(),T=h.slice();w.pop(),T.shift(),w.reverse(),T.reverse(),c.reverse(),x.shadowCascadeClipsNear={value:w,type:"1fv"},x.shadowCascadeClipsFar={value:T,type:"1fv"}}}if(s.length>0){var S=s.map(E);x=e.shadowUniforms;x.spotLightShadowMaps={value:s,type:"tv"},x.spotLightMatrices={value:u,type:"m4v"},x.spotLightShadowMapSizes={value:S,type:"1fv"}}f.length>0&&(x.pointLightShadowMaps={value:f,type:"tv"})}function E(t){return t.height}},renderDirectionalLightShadow:function(){var t=new s["a"],e=new u["a"],n=new o["a"],r=new u["a"],i=new u["a"],a=new u["a"],c=new u["a"];return function(o,s,h,f,d,p,m){var v=this._getDepthMaterial(f),_={getMaterial:function(t){return t.shadowDepthMaterial||v},isMaterialChanged:S,getUniform:T,ifRender:function(t){return t.castShadow},sortCompare:l["a"].opaqueSortCompare};if(!s.viewBoundingBoxLastFrame.isFinite()){var y=s.getBoundingBox();s.viewBoundingBoxLastFrame.copy(y).applyTransform(h.viewMatrix)}var b=Math.min(-s.viewBoundingBoxLastFrame.min.z,h.far),w=Math.max(-s.viewBoundingBoxLastFrame.max.z,h.near),M=this._getDirectionalLightCamera(f,s,h),A=a.array;c.copy(M.projectionMatrix),x["a"].invert(i.array,M.worldTransform.array),x["a"].multiply(i.array,i.array,h.worldTransform.array),x["a"].multiply(A,c.array,i.array);for(var C=[],O=h instanceof g["a"],D=(h.near+h.far)/(h.near-h.far),L=2*h.near*h.far/(h.near-h.far),I=0;I<=f.shadowCascade;I++){var P=w*Math.pow(b/w,I/f.shadowCascade),R=w+(b-w)*I/f.shadowCascade,N=P*f.cascadeSplitLogFactor+R*(1-f.cascadeSplitLogFactor);C.push(N),d.push(-(-N*D+L)/-N)}var k=this._getTexture(f,f.shadowCascade);m.push(k);var F=o.viewport,B=o.gl;this._frameBuffer.attach(k),this._frameBuffer.bind(o),B.clear(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT);for(I=0;I<f.shadowCascade;I++){var z=C[I],U=C[I+1];O?x["a"].perspective(e.array,h.fov/180*Math.PI,h.aspect,z,U):x["a"].ortho(e.array,h.left,h.right,h.bottom,h.top,z,U),t.setFromProjection(e),t.getTransformedBoundingBox(n,i),n.applyProjection(c);var G=n.min.array,j=n.max.array;G[0]=Math.max(G[0],-1),G[1]=Math.max(G[1],-1),j[0]=Math.min(j[0],1),j[1]=Math.min(j[1],1),r.ortho(G[0],j[0],G[1],j[1],1,-1),M.projectionMatrix.multiplyLeft(r);var H=f.shadowResolution||512;o.setViewport((f.shadowCascade-I-1)*H,0,H,H,1);var V=s.updateRenderList(M);o.renderPass(V.opaque,M,_),this.softShadow===E.VSM&&this._gaussianFilter(o,k,k.width);var W=new u["a"];W.copy(M.viewMatrix).multiplyLeft(M.projectionMatrix),p.push(W.array),M.projectionMatrix.copy(c)}this._frameBuffer.unbind(o),o.setViewport(F)}}(),renderSpotLightShadow:function(t,e,n,r,i){var a=this._getTexture(n),o=this._getSpotLightCamera(n),s=t.gl;this._frameBuffer.attach(a),this._frameBuffer.bind(t),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var c=this._getDepthMaterial(n),h={getMaterial:function(t){return t.shadowDepthMaterial||c},isMaterialChanged:S,getUniform:T,ifRender:function(t){return t.castShadow},sortCompare:l["a"].opaqueSortCompare},f=e.updateRenderList(o);t.renderPass(f.opaque,o,h),this._frameBuffer.unbind(t),this.softShadow===E.VSM&&this._gaussianFilter(t,a,a.width);var d=new u["a"];d.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),i.push(a),r.push(d.array)},renderPointLightShadow:function(t,e,n,r){var i=this._getTexture(n),s=t.gl;r.push(i);var u=this._getDepthMaterial(n),c={getMaterial:function(t){return t.shadowDepthMaterial||u},getUniform:T,sortCompare:l["a"].opaqueSortCompare},h={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},f=new o["a"],d=n.getWorldPosition().array,p=new o["a"],m=n.range;p.min.setArray(d),p.max.setArray(d);var g=new a["a"](m,m,m);p.max.add(g),p.min.sub(g);var v={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};e.traverse(function(t){if(t.isRenderable()&&t.castShadow){var e=t.geometry;if(!e.boundingBox){for(var n=0;n<w.length;n++)h[w[n]].push(t);return}if(f.transformFrom(e.boundingBox,t.worldTransform),!f.intersectBoundingBox(p))return;f.updateVertices();for(n=0;n<w.length;n++)v[w[n]]=!1;for(n=0;n<8;n++){var r=f.vertices[n],i=r[0]-d[0],a=r[1]-d[1],o=r[2]-d[2],s=Math.abs(i),u=Math.abs(a),l=Math.abs(o);s>u?s>l?v[i>0?"px":"nx"]=!0:v[o>0?"pz":"nz"]=!0:u>l?v[a>0?"py":"ny"]=!0:v[o>0?"pz":"nz"]=!0}for(n=0;n<w.length;n++)v[w[n]]&&h[w[n]].push(t)}});for(var _=0;_<6;_++){var y=w[_],x=this._getPointLightCamera(n,y);this._frameBuffer.attach(i,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+_),this._frameBuffer.bind(t),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),t.renderPass(h[y],x,c)}this._frameBuffer.unbind(t)},_getDepthMaterial:function(t){var e=this._lightMaterials[t.__uid__],n="POINT_LIGHT"===t.type;if(!e){var r=n?"clay.sm.distance.":"clay.sm.depth.";e=new h["a"]({precision:this.precision,shader:new c["a"](c["a"].source(r+"vertex"),c["a"].source(r+"fragment"))}),this._lightMaterials[t.__uid__]=e}return null!=t.shadowSlopeScale&&e.setUniform("slopeScale",t.shadowSlopeScale),null!=t.shadowBias&&e.setUniform("bias",t.shadowBias),this.softShadow===E.VSM?e.define("fragment","USE_VSM"):e.undefine("fragment","USE_VSM"),n&&(e.set("lightPosition",t.getWorldPosition().array),e.set("range",t.range)),e},_gaussianFilter:function(t,e,n){var r={width:n,height:n,type:d["a"].FLOAT},i=this._texturePool.get(r);this._frameBuffer.attach(i),this._frameBuffer.bind(t),this._gaussianPassH.setUniform("texture",e),this._gaussianPassH.setUniform("textureWidth",n),this._gaussianPassH.render(t),this._frameBuffer.attach(e),this._gaussianPassV.setUniform("texture",i),this._gaussianPassV.setUniform("textureHeight",n),this._gaussianPassV.render(t),this._frameBuffer.unbind(t),this._texturePool.put(i)},_getTexture:function(t,e){var n=t.__uid__,r=this._textures[n],a=t.shadowResolution||512;return e=e||1,r||(r="POINT_LIGHT"===t.type?new m["a"]:new p["a"],r.width=a*e,r.height=a,this.softShadow===E.VSM?(r.type=d["a"].FLOAT,r.anisotropic=4):(r.minFilter=i["a"].NEAREST,r.magFilter=i["a"].NEAREST,r.useMipmap=!1),this._textures[n]=r),r},_getPointLightCamera:function(t,e){this._lightCameras.point||(this._lightCameras.point={px:new g["a"],nx:new g["a"],py:new g["a"],ny:new g["a"],pz:new g["a"],nz:new g["a"]});var n=this._lightCameras.point[e];switch(n.far=t.range,n.fov=90,n.position.set(0,0,0),e){case"px":n.lookAt(a["a"].POSITIVE_X,a["a"].NEGATIVE_Y);break;case"nx":n.lookAt(a["a"].NEGATIVE_X,a["a"].NEGATIVE_Y);break;case"py":n.lookAt(a["a"].POSITIVE_Y,a["a"].POSITIVE_Z);break;case"ny":n.lookAt(a["a"].NEGATIVE_Y,a["a"].NEGATIVE_Z);break;case"pz":n.lookAt(a["a"].POSITIVE_Z,a["a"].NEGATIVE_Y);break;case"nz":n.lookAt(a["a"].NEGATIVE_Z,a["a"].NEGATIVE_Y);break}return t.getWorldPosition(n.position),n.update(),n},_getDirectionalLightCamera:function(){var t=new u["a"],e=new o["a"],n=new o["a"];return function(r,i,a){this._lightCameras.directional||(this._lightCameras.directional=new v["a"]);var o=this._lightCameras.directional;e.copy(i.viewBoundingBoxLastFrame),e.intersection(a.frustum.boundingBox),o.position.copy(e.min).add(e.max).scale(.5).transformMat4(a.worldTransform),o.rotation.copy(r.rotation),o.scale.copy(r.scale),o.updateWorldTransform(),u["a"].invert(t,o.worldTransform),u["a"].multiply(t,t,a.worldTransform),n.copy(e).applyTransform(t);var s=n.min.array,l=n.max.array;return o.position.set((s[0]+l[0])/2,(s[1]+l[1])/2,l[2]).transformMat4(o.worldTransform),o.near=0,o.far=-s[2]+l[2],isNaN(this.lightFrustumBias)?o.far*=4:o.far+=this.lightFrustumBias,o.left=s[0],o.right=l[0],o.top=l[1],o.bottom=s[1],o.update(!0),o}}(),_getSpotLightCamera:function(t){this._lightCameras.spot||(this._lightCameras.spot=new g["a"]);var e=this._lightCameras.spot;return e.fov=2*t.penumbraAngle,e.far=t.range,e.worldTransform.copy(t.worldTransform),e.updateProjectionMatrix(),x["a"].invert(e.viewMatrix.array,e.worldTransform.array),e},dispose:function(t){var e=t.gl||t;for(var n in this._frameBuffer&&this._frameBuffer.dispose(e),this._textures)this._textures[n].dispose(e);this._texturePool.clear(t.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var r=0;r<this._receivers.length;r++){var i=this._receivers[r];if(i.material){var a=i.material;a.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),a.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),a.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),a.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});E.VSM=1,E.PCF=2,e["a"]=E},function(t,e,n){"use strict";e["a"]="@export clay.sm.depth.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n@import clay.chunk.skinning_header\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nvoid main(){\n vec3 skinnedPosition = position;\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n skinnedPosition = (skinMatrixWS * vec4(position, 1.0)).xyz;\n#endif\n v_ViewPosition = worldViewProjection * vec4(skinnedPosition, 1.0);\n gl_Position = v_ViewPosition;\n v_Texcoord = texcoord;\n}\n@end\n@export clay.sm.depth.fragment\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.encode_float\nvoid main(){\n float depth = v_ViewPosition.z / v_ViewPosition.w;\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n#ifdef USE_VSM\n depth = depth * 0.5 + 0.5;\n float moment1 = depth;\n float moment2 = depth * depth;\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n moment2 += 0.25*(dx*dx+dy*dy);\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n@export clay.sm.debug_depth\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n@import clay.util.decode_float\nvoid main() {\n vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n float depth = decodeFloat(tex);\n gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n@end\n@export clay.sm.distance.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\nattribute vec3 position : POSITION;\n@import clay.chunk.skinning_header\nvarying vec3 v_WorldPosition;\nvoid main (){\n vec3 skinnedPosition = position;\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n skinnedPosition = (skinMatrixWS * vec4(position, 1.0)).xyz;\n#endif\n gl_Position = worldViewProjection * vec4(skinnedPosition , 1.0);\n v_WorldPosition = (world * vec4(skinnedPosition, 1.0)).xyz;\n}\n@end\n@export clay.sm.distance.fragment\nuniform vec3 lightPosition;\nuniform float range : 100;\nvarying vec3 v_WorldPosition;\n@import clay.util.encode_float\nvoid main(){\n float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n dist = dist / range;\n gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n@export clay.plugin.shadow_map_common\n@import clay.util.decode_float\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n vec4 tex = texture2D(map, uv);\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n float shadowContrib = tapShadowMap(map, uv, z);\n vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n }}\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#else\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n return shadowContrib / 9.0;\n#endif\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n return pcf(map, uv, z, textureSize, vec2(1.0));\n}\nfloat chebyshevUpperBound(vec2 moments, float z){\n float p = 0.0;\n z = z * 0.5 + 0.5;\n if (z <= moments.x) {\n p = 1.0;\n }\n float variance = moments.y - moments.x * moments.x;\n variance = max(variance, 0.0000001);\n float mD = moments.x - z;\n float pMax = variance / (variance + mD * mD);\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n return max(p, pMax);\n}\nfloat computeShadowContrib(\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n posInLightSpace.xyz /= posInLightSpace.w;\n float z = posInLightSpace.z;\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n #ifdef USE_VSM\n vec2 moments = texture2D(map, uv * scale + offset).xy;\n return chebyshevUpperBound(moments, z);\n #else\n return pcf(map, uv * scale + offset, z, textureSize, scale);\n #endif\n }\n return 1.0;\n}\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n float dist = length(direction);\n vec4 shadowTex = textureCube(map, direction);\n#ifdef USE_VSM\n vec2 moments = shadowTex.xy;\n float variance = moments.y - moments.x * moments.x;\n float mD = moments.x - dist;\n float p = variance / (variance + mD * mD);\n if(moments.x + 0.001 < dist){\n return clamp(p, 0.0, 1.0);\n }else{\n return 1.0;\n }\n#else\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n@end\n@export clay.plugin.compute_shadow_map\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#endif\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\nuniform bool shadowEnabled : true;\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n@import clay.plugin.shadow_map_common\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n spotLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n#ifdef SHADOW_CASCADE\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n / (gl_DepthRange.far - gl_DepthRange.near);\n float shadowContrib;\n shadowContribs[0] = 1.0;\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n if (\n depth >= shadowCascadeClipsNear[_idx_] &&\n depth <= shadowCascadeClipsFar[_idx_]\n ) {\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[0],\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n );\n shadowContribs[0] = shadowContrib;\n }\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#else\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n vec3 lightPosition;\n vec3 direction;\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n lightPosition = pointLightPosition[_idx_];\n direction = position - lightPosition;\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n }}\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n@end"},function(t,e,n){"use strict";var r=n(8),i=n(5),a=n(4),o=n(10),s=n(177),u=n(189),l=n(191),c=n(193),h=n(1),f=n(194),d=n(196),p=(n(9),n(197)),m=n(87),g=n(88),v=n(89),_=n(90),y=n(91),x=n(92),b=n(93),w=n(94),T=n(95),S=n(198),E=n(199);r["a"]["import"](m["a"]),r["a"]["import"](g["a"]),r["a"]["import"](v["a"]),r["a"]["import"](_["a"]),r["a"]["import"](y["a"]),r["a"]["import"](x["a"]),r["a"]["import"](b["a"]),r["a"]["import"](w["a"]),r["a"]["import"](T["a"]),r["a"]["import"](S["a"]),r["a"]["import"](E["a"]);var M={color:{parameters:{width:function(t){return t.getWidth()},height:function(t){return t.getHeight()}}}},A=["composite","FXAA"];function C(){this._sourceTexture=new i["a"]({type:a["a"].HALF_FLOAT}),this._depthTexture=new i["a"]({format:a["a"].DEPTH_COMPONENT,type:a["a"].UNSIGNED_INT}),this._framebuffer=new o["a"],this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,o["a"].DEPTH_ATTACHMENT),this._normalPass=new f["a"],this._compositor=Object(s["a"])(p["a"]);var t=this._compositor.getNodeByName("source");t.texture=this._sourceTexture;var e=this._compositor.getNodeByName("coc");this._sourceNode=t,this._cocNode=e,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map(function(t){return this._compositor.getNodeByName(t)},this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=A.map(function(t){return this._compositor.getNodeByName(t)},this);var n={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new u["a"](n),this._ssrPass=new l["a"](n),this._edgePass=new d["a"](n)}C.prototype.resize=function(t,e,n){n=n||1;t*=n,e*=n;var r=this._sourceTexture,i=this._depthTexture;r.width=t,r.height=e,i.width=t,i.height=e},C.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},C.prototype._getPrevNode=function(t){var e=A.indexOf(t.name)-1,n=this._finalNodesChain[e];while(n&&!this._compositor.getNodeByName(n.name))e-=1,n=this._finalNodesChain[e];return n},C.prototype._getNextNode=function(t){var e=A.indexOf(t.name)+1,n=this._finalNodesChain[e];while(n&&!this._compositor.getNodeByName(n.name))e+=1,n=this._finalNodesChain[e];return n},C.prototype._addChainNode=function(t){var e=this._getPrevNode(t),n=this._getNextNode(t);e&&(e.outputs=M,t.inputs.texture=e.name,n?(t.outputs=M,n.inputs.texture=t.name):t.outputs=null,this._compositor.addNode(t))},C.prototype._removeChainNode=function(t){var e=this._getPrevNode(t),n=this._getNextNode(t);e&&(n?(e.outputs=M,n.inputs.texture=e.name):e.outputs=null,this._compositor.removeNode(t))},C.prototype.updateNormal=function(t,e,n,r){this._ifRenderNormalPass()&&this._normalPass.update(t,e,n)},C.prototype.updateSSAO=function(t,e,n,r){this._ssaoPass.update(t,n,r)},C.prototype.enableSSAO=function(){this._enableSSAO=!0},C.prototype.disableSSAO=function(){this._enableSSAO=!1},C.prototype.enableSSR=function(){this._enableSSR=!0},C.prototype.disableSSR=function(){this._enableSSR=!1},C.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},C.prototype.getSourceFrameBuffer=function(){return this._framebuffer},C.prototype.getSourceTexture=function(){return this._sourceTexture},C.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},C.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},C.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()},C.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},C.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()},C.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()},C.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0},C.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1},C.prototype.enableEdge=function(){this._enableEdge=!0},C.prototype.disableEdge=function(){this._enableEdge=!1},C.prototype.setBloomIntensity=function(t){this._compositeNode.setParameter("bloomIntensity",t)},C.prototype.setSSAOParameter=function(t,e){switch(t){case"quality":var n={low:6,medium:12,high:32,ultra:62}[e]||12;this._ssaoPass.setParameter("kernelSize",n);break;case"radius":this._ssaoPass.setParameter(t,e),this._ssaoPass.setParameter("bias",e/200);break;case"intensity":this._ssaoPass.setParameter(t,e);break;default:console.warn("Unkown SSAO parameter "+t)}},C.prototype.setDOFParameter=function(t,e){switch(t){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(t,e);break;case"blurRadius":for(var n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].setParameter("blurRadius",e);break;case"quality":var r={low:4,medium:8,high:16,ultra:32}[e]||8;this._dofBlurKernelSize=r;for(n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].pass.material.define("POISSON_KERNEL_SIZE",r);this._dofBlurKernel=new Float32Array(2*r);break;default:console.warn("Unkown DOF parameter "+t)}},C.prototype.setSSRParameter=function(t,e){if(null!=e)switch(t){case"quality":var n={low:10,medium:15,high:30,ultra:80}[e]||20,r={low:32,medium:16,high:8,ultra:4}[e]||16;this._ssrPass.setParameter("maxIteration",n),this._ssrPass.setParameter("pixelStride",r);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-e,1),0));break;case"physical":this.setPhysicallyCorrectSSR(e);break;default:console.warn("Unkown SSR parameter "+t)}},C.prototype.setPhysicallyCorrectSSR=function(t){this._ssrPass.setPhysicallyCorrect(t)},C.prototype.setEdgeColor=function(t){var e=h["a"].parseColor(t);this._edgePass.setParameter("edgeColor",e)},C.prototype.setExposure=function(t){this._compositeNode.setParameter("exposure",Math.pow(2,t))},C.prototype.setColorLookupTexture=function(t,e){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?t:"none",e,{minFilter:h["a"].Texture.NEAREST,magFilter:h["a"].Texture.NEAREST,flipY:!1})},C.prototype.setColorCorrection=function(t,e){this._compositeNode.setParameter(t,e)},C.prototype.isSSREnabled=function(){return this._enableSSR},C.prototype.composite=function(t,e,n,r,i){var a=this._sourceTexture,o=a;this._enableEdge&&(this._edgePass.update(t,n,a,i),a=o=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(t,n,a,i),o=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=o,this._cocNode.setParameter("depth",this._depthTexture);for(var s=this._dofBlurKernel,u=this._dofBlurKernelSize,l=Math.floor(c["a"].length/2/u),h=i%l,f=0;f<2*u;f++)s[f]=c["a"][f+h*u*2];for(f=0;f<this._dofBlurNodes.length;f++)this._dofBlurNodes[f].setParameter("percent",i/30),this._dofBlurNodes[f].setParameter("poissonKernel",s);this._cocNode.setParameter("zNear",n.near),this._cocNode.setParameter("zFar",n.far),this._compositor.render(t,r)},C.prototype.dispose=function(t){this._sourceTexture.dispose(t),this._depthTexture.dispose(t),this._framebuffer.dispose(t),this._compositor.dispose(t),this._normalPass.dispose(t),this._ssaoPass.dispose(t)},e["a"]=C},function(t,e,n){"use strict";var r=n(178);e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(23),i=n(179),a=n(181),o=n(182),s=n(183),u=n(8),l=n(4),c=n(5),h=n(27),f=n(184);Object(f["a"])(u["a"]);var d=/^#source\((.*?)\)/;function p(t,e){var n=new i["a"];e=e||{};var r={textures:{},parameters:{}},a=function(i,a){for(var o=0;o<t.nodes.length;o++){var s=t.nodes[o],u=m(s,r,e);u&&n.addNode(u)}};for(var o in t.parameters){var s=t.parameters[o];r.parameters[o]=_(s)}return y(t,r,e,function(t){r.textures=t,a()}),n}function m(t,e,n){var r,i,l,c,h=t.type||"filter";if("filter"===h){var f=t.shader.trim(),p=d.exec(f);if(p?r=u["a"].source(p[1].trim()):"#"===f.charAt(0)&&(r=e.shaders[f.substr(1)]),r||(r=f),!r)return}if(t.inputs)for(var m in i={},t.inputs)"string"===typeof t.inputs[m]?i[m]=t.inputs[m]:i[m]={node:t.inputs[m].node,pin:t.inputs[m].pin};if(t.outputs)for(var m in l={},t.outputs){var g=t.outputs[m];l[m]={},null!=g.attachment&&(l[m].attachment=g.attachment),null!=g.keepLastFrame&&(l[m].keepLastFrame=g.keepLastFrame),null!=g.outputLastFrame&&(l[m].outputLastFrame=g.outputLastFrame),g.parameters&&(l[m].parameters=_(g.parameters))}if(c="scene"===h?new a["a"]({name:t.name,scene:n.scene,camera:n.camera,outputs:l}):"texture"===h?new o["a"]({name:t.name,outputs:l}):new s["a"]({name:t.name,shader:r,inputs:i,outputs:l}),c){if(t.parameters)for(var m in t.parameters){var v=t.parameters[m];"string"===typeof v&&(v=v.trim(),"#"===v.charAt(0)?v=e.textures[v.substr(1)]:c.on("beforerender",x(m,w(v)))),c.setParameter(m,v)}if(t.defines&&c.pass)for(var m in t.defines){v=t.defines[m];c.pass.material.define("fragment",m,v)}}return c}function g(t,e){return t}function v(t,e){return e}function _(t){var e={};if(!t)return e;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(n){var r=t[n];null!=r&&("string"===typeof r&&(r=l["a"][r]),e[n]=r)});var n=t.scale||1;return["width","height"].forEach(function(r){if(null!=t[r]){var i=t[r];"string"===typeof i?(i=i.trim(),e[r]=b(r,w(i),n)):e[r]=i}}),e.width||(e.width=g),e.height||(e.height=v),null!=t.useMipmap&&(e.useMipmap=t.useMipmap),e}function y(t,e,n,i){if(t.textures){var a={},o=0,s=!1,u=n.textureRootPath;r["a"].each(t.textures,function(t,e){var n,l=t.path,f=_(t.parameters);if(Array.isArray(l)&&6===l.length)u&&(l=l.map(function(t){return r["a"].relative2absolute(t,u)})),n=new h["a"](f);else{if("string"!==typeof l)return;u&&(l=r["a"].relative2absolute(l,u)),n=new c["a"](f)}n.load(l),o++,n.once("success",function(){a[e]=n,o--,0===o&&(i(a),s=!0)})}),0!==o||s||i(a)}else i({})}function x(t,e){return function(n){var r=n.getDevicePixelRatio(),i=n.getWidth(),a=n.getHeight(),o=e(i,a,r);this.setParameter(t,o)}}function b(t,e,n){return n=n||1,function(t){var r=t.getDevicePixelRatio(),i=t.getWidth()*n,a=t.getHeight()*n;return e(i,a,r)}}function w(t){var e=/^expr\((.*)\)$/.exec(t);if(e)try{var n=new Function("width","height","dpr","return "+e[1]);return n(1,1),n}catch(r){throw new Error("Invalid expression.")}}e["a"]=p},function(t,e,n){"use strict";var r=n(180),i=n(86),a=n(10),o=r["a"].extend(function(){return{_outputs:[],_texturePool:new i["a"],_frameBuffer:new a["a"]({depthBuffer:!1})}},{addNode:function(t){r["a"].prototype.addNode.call(this,t),t._compositor=this},render:function(t,e){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var n=0;n<this.nodes.length;n++)this.nodes[n].outputs||this._outputs.push(this.nodes[n])}for(n=0;n<this.nodes.length;n++)this.nodes[n].beforeFrame();for(n=0;n<this._outputs.length;n++)this._outputs[n].updateReference();for(n=0;n<this._outputs.length;n++)this._outputs[n].render(t,e);for(n=0;n<this.nodes.length;n++)this.nodes[n].afterFrame()},allocateTexture:function(t){return this._texturePool.get(t)},releaseTexture:function(t){this._texturePool.put(t)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(t){this._texturePool.clear(t)}});e["a"]=o},function(t,e,n){"use strict";var r=n(7),i=n(48),a=r["a"].extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(t){this.nodes.indexOf(t)>=0||(this.nodes.push(t),this._dirty=!0)},removeNode:function(t){"string"===typeof t&&(t=this.getNodeByName(t));var e=this.nodes.indexOf(t);e>=0&&(this.nodes.splice(e,1),this._dirty=!0)},getNodeByName:function(t){for(var e=0;e<this.nodes.length;e++)if(this.nodes[e].name===t)return this.nodes[e]},update:function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].clear();for(t=0;t<this.nodes.length;t++){var e=this.nodes[t];if(e.inputs)for(var n in e.inputs)if(e.inputs[n])if(!e.pass||e.pass.material.isUniformEnabled(n)){var r=e.inputs[n],i=this.findPin(r);i?e.link(n,i.node,i.pin):"string"===typeof r?console.warn("Node "+r+" not exist"):console.warn("Pin of "+r.node+"."+r.pin+" not exist")}else console.warn("Pin "+e.name+"."+n+" not used.")}},findPin:function(t){var e;if(("string"===typeof t||t instanceof i["a"])&&(t={node:t}),"string"===typeof t.node)for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n];r.name===t.node&&(e=r)}else e=t.node;if(e){var a=t.pin;if(a||e.outputs&&(a=Object.keys(e.outputs)[0]),e.outputs[a])return{node:e,pin:a}}}});e["a"]=a},function(t,e,n){"use strict";var r=n(48),i=n(11),a=n(10),o=r["a"].extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new a["a"]},{render:function(t){this._rendering=!0;var e,n=t.gl;if(this.trigger("beforerender"),this.outputs){var r=this.frameBuffer;for(var a in this.outputs){var o=this.updateParameter(a,t),s=this.outputs[a],u=this._compositor.allocateTexture(o);this._outputTextures[a]=u;var l=s.attachment||n.COLOR_ATTACHMENT0;"string"==typeof l&&(l=n[l]),r.attach(u,l)}r.bind(t);var c=t.getGLExtension("EXT_draw_buffers");if(c){var h=[];for(var l in this.outputs)l=parseInt(l),l>=n.COLOR_ATTACHMENT0&&l<=n.COLOR_ATTACHMENT0+8&&h.push(l);c.drawBuffersEXT(h)}t.saveClear(),t.clearBit=i["a"].DEPTH_BUFFER_BIT|i["a"].COLOR_BUFFER_BIT,e=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),t.restoreClear(),r.unbind(t)}else e=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",e),this._rendering=!1,this._rendered=!0}});e["a"]=o},function(t,e,n){"use strict";var r=n(48),i=r["a"].extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(t,e){return this.texture},beforeFrame:function(){},afterFrame:function(){}});e["a"]=i},function(t,e,n){"use strict";var r=n(16),i=n(48),a=i["a"].extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var t=new r["a"]({fragment:this.shader});this.pass=t},{render:function(t,e){this.trigger("beforerender",t),this._rendering=!0;var n=t.gl;for(var r in this.inputLinks){var i=this.inputLinks[r],a=i.node.getOutput(t,i.pin);this.pass.setUniform(r,a)}if(this.outputs){this.pass.outputs={};var o={};for(var s in this.outputs){var u=this.updateParameter(s,t);isNaN(u.width)&&this.updateParameter(s,t);var l=this.outputs[s],c=this._compositor.allocateTexture(u);this._outputTextures[s]=c;var h=l.attachment||n.COLOR_ATTACHMENT0;"string"===typeof h&&(h=n[h]),o[h]=c}for(var h in this._compositor.getFrameBuffer().bind(t),o)this._compositor.getFrameBuffer().attach(o[h],h);this.pass.render(t),this._compositor.getFrameBuffer().updateMipmap(t)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(t),this.pass.render(t,e);for(var r in this.inputLinks){i=this.inputLinks[r];i.node.removeReference(i.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",t)},updateParameter:function(t,e){var n,r,i=this.outputs[t],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)"width"!==s&&"height"!==s&&(o[s]=a[s]);return n=a.width instanceof Function?a.width.call(this,e):a.width,r=a.height instanceof Function?a.height.call(this,e):a.height,n=Math.ceil(n),r=Math.ceil(r),o.width===n&&o.height===r||this._outputTextures[t]&&this._outputTextures[t].dispose(e),o.width=n,o.height=r,o},setParameter:function(t,e){this.pass.setUniform(t,e)},getParameter:function(t){return this.pass.getUniform(t)},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},define:function(t,e){this.pass.material.define("fragment",t,e)},undefine:function(t){this.pass.material.undefine("fragment",t)},removeReference:function(t){if(this._outputReferences[t]--,0===this._outputReferences[t]){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}},clear:function(){i["a"].prototype.clear.call(this),this.pass.material.disableTexturesAll()}});e["a"]=a},function(t,e,n){"use strict";e["a"]=g;var r=n(185),i=n(87),a=n(186),o=n(88),s=n(187),u=n(89),l=n(90),c=n(91),h=n(92),f=n(93),d=n(188),p=n(94),m=n(95);function g(t){t["import"](r["a"]),t["import"](i["a"]),t["import"](a["a"]),t["import"](o["a"]),t["import"](s["a"]),t["import"](u["a"]),t["import"](l["a"]),t["import"](c["a"]),t["import"](h["a"]),t["import"](f["a"]),t["import"](d["a"]),t["import"](p["a"]),t["import"](m["a"])}},function(t,e,n){"use strict";e["a"]="@export clay.compositor.coloradjust\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float exposure : 0.0;\nuniform float gamma : 1.0;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\n float luminance = dot( color, w );\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.brightness\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = tex.rgb + vec3(brightness);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.contrast\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float contrast : 1.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.exposure\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float exposure : 0.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb * pow(2.0, exposure);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.gamma\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float gamma : 1.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = pow(tex.rgb, vec3(gamma));\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.saturation\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb;\n float luminance = dot(color, w);\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.hdr.log_lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n float luminance = dot(tex.rgb, w);\n luminance = log(luminance + 0.001);\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n@end\n@export clay.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\nuniform float frameTime : 0.02;\n@import clay.util.rgbm\nvoid main()\n{\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n@export clay.compositor.lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord );\n float luminance = dot(tex.rgb, w);\n gl_FragColor = vec4(vec3(luminance), 1.0);\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.vignette\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float darkness: 1;\nuniform float offset: 1;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = texel.rgb;\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.lensflare\n#define SAMPLE_NUMBER 8\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\nuniform vec2 textureSize : [512, 512];\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvec4 textureDistorted(\n in vec2 texcoord,\n in vec2 direction,\n in vec3 distortion\n) {\n return vec4(\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n 1.0\n );\n}\nvoid main()\n{\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n vec2 haloVec = normalize(ghostVec) * haloWidth;\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n vec4 result = vec4(0.0);\n for (int i = 0; i < SAMPLE_NUMBER; i++)\n {\n vec2 offset = fract(texcoord + ghostVec * float(i));\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n }\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n vec2 offset = fract(texcoord + haloVec);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n gl_FragColor = result;\n}\n@end"},function(t,e,n){"use strict";var r=n(9),i=n(3),a=n(5),o=n(4),s=n(16),u=n(8),l=n(10),c=n(49),h=n(190);function f(t){for(var e=new Uint8Array(t*t*4),n=0,r=new i["a"],a=0;a<t;a++)for(var o=0;o<t;o++)r.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),e[n++]=255*(.5*r.x+.5),e[n++]=255*(.5*r.y+.5),e[n++]=0,e[n++]=255;return e}function d(t){return new a["a"]({pixels:f(t),wrapS:o["a"].REPEAT,wrapT:o["a"].REPEAT,width:t,height:t})}function p(t,e,n){var r=new Float32Array(3*t);e=e||0;for(var i=0;i<t;i++){var a=Object(c["a"])(i+e,2)*(n?1:2)*Math.PI,o=Object(c["a"])(i+e,3)*Math.PI,s=Math.random(),u=Math.cos(a)*Math.sin(o)*s,l=Math.cos(o)*s,h=Math.sin(a)*Math.sin(o)*s;r[3*i]=u,r[3*i+1]=l,r[3*i+2]=h}return r}function m(t){t=t||{},this._ssaoPass=new s["a"]({fragment:u["a"].source("ecgl.ssao.estimate")}),this._blurPass=new s["a"]({fragment:u["a"].source("ecgl.ssao.blur")}),this._framebuffer=new l["a"]({depthBuffer:!1}),this._ssaoTexture=new a["a"],this._blurTexture=new a["a"],this._blurTexture2=new a["a"],this._depthTex=t.depthTexture,this._normalTex=t.normalTexture,this.setNoiseSize(4),this.setKernelSize(t.kernelSize||12),null!=t.radius&&this.setParameter("radius",t.radius),null!=t.power&&this.setParameter("power",t.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}u["a"].import(h["a"]),m.prototype.setDepthTexture=function(t){this._depthTex=t},m.prototype.setNormalTexture=function(t){this._normalTex=t,this._ssaoPass.material[t?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)},m.prototype.update=function(t,e,n){var i=t.getWidth(),a=t.getHeight(),o=this._ssaoPass,s=this._blurPass;o.setUniform("kernel",this._kernels[n%this._kernels.length]),o.setUniform("depthTex",this._depthTex),null!=this._normalTex&&o.setUniform("normalTex",this._normalTex),o.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var u=new r["a"];r["a"].transpose(u,e.worldTransform),o.setUniform("projection",e.projectionMatrix.array),o.setUniform("projectionInv",e.invProjectionMatrix.array),o.setUniform("viewInverseTranspose",u.array);var l=this._ssaoTexture,c=this._blurTexture,h=this._blurTexture2;l.width=i/2,l.height=a/2,c.width=i,c.height=a,h.width=i,h.height=a,this._framebuffer.attach(l),this._framebuffer.bind(t),t.gl.clearColor(1,1,1,1),t.gl.clear(t.gl.COLOR_BUFFER_BIT),o.render(t),s.setUniform("textureSize",[i/2,a/2]),s.setUniform("projection",e.projectionMatrix.array),this._framebuffer.attach(c),s.setUniform("direction",0),s.setUniform("ssaoTexture",l),s.render(t),this._framebuffer.attach(h),s.setUniform("textureSize",[i,a]),s.setUniform("direction",1),s.setUniform("ssaoTexture",c),s.render(t),this._framebuffer.unbind(t);var f=t.clearColor;t.gl.clearColor(f[0],f[1],f[2],f[3])},m.prototype.getTargetTexture=function(){return this._blurTexture2},m.prototype.setParameter=function(t,e){"noiseTexSize"===t?this.setNoiseSize(e):"kernelSize"===t?this.setKernelSize(e):"intensity"===t?this._ssaoPass.material.set("intensity",e):this._ssaoPass.setUniform(t,e)},m.prototype.setKernelSize=function(t){this._kernelSize=t,this._ssaoPass.material.define("fragment","KERNEL_SIZE",t),this._kernels=this._kernels||[];for(var e=0;e<30;e++)this._kernels[e]=p(t,e*t,!!this._normalTex)},m.prototype.setNoiseSize=function(t){var e=this._ssaoPass.getUniform("noiseTex");e?(e.data=f(t),e.width=e.height=t,e.dirty()):(e=d(t),this._ssaoPass.setUniform("noiseTex",d(t))),this._ssaoPass.setUniform("noiseTexSize",[t,t])},m.prototype.dispose=function(t){this._blurTexture.dispose(t),this._ssaoTexture.dispose(t),this._blurTexture2.dispose(t)},e["a"]=m},function(t,e,n){"use strict";e["a"]="@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n float occlusion = 0.0;\n\n for (int i = 0; i < KERNEL_SIZE; i++) {\n vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n samplePos = kernelBasis * samplePos;\n#endif\n samplePos = samplePos * radius + originPos;\n\n vec4 texCoord = projection * vec4(samplePos, 1.0);\n texCoord.xy /= texCoord.w;\n\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\n if (projection[3][3] == 0.0) {\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n }\n else {\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\n }\n \n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n }\n#ifdef NORMALTEX_ENABLED\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n vec4 tex = texture2D(normalTex, v_Texcoord);\n if (dot(tex.rgb, tex.rgb) == 0.0) {\n gl_FragColor = vec4(1.0);\n return;\n }\n vec3 N = tex.rgb * 2.0 - 1.0;\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n vec3 T = normalize(rvec - N * dot(rvec, N));\n vec3 BT = normalize(cross(N, T));\n mat3 kernelBasis = mat3(T, BT, N);\n#else\n if (depthTexel.r > 0.99999) {\n gl_FragColor = vec4(1.0);\n return;\n }\n mat3 kernelBasis;\n#endif\n\n float z = depthTexel.r * 2.0 - 1.0;\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * projectedPos;\n\n vec3 position = p4.xyz / p4.w;\n\n float ao = ssaoEstimator(position, kernelBasis);\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n#define SHADER_NAME SSAO_BLUR\n\nuniform sampler2D ssaoTexture;\n\n#ifdef NORMALTEX_ENABLED\nuniform sampler2D normalTex;\n#endif\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\nuniform int direction: 0.0;\n\n#ifdef DEPTHTEX_ENABLED\nuniform sampler2D depthTex;\nuniform mat4 projection;\nuniform float depthRange : 0.5;\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n#endif\n\nvoid main()\n{\n float kernel[5];\n kernel[0] = 0.122581;\n kernel[1] = 0.233062;\n kernel[2] = 0.288713;\n kernel[3] = 0.233062;\n kernel[4] = 0.122581;\n\n vec2 off = vec2(0.0);\n if (direction == 0) {\n off[0] = blurSize / textureSize.x;\n }\n else {\n off[1] = blurSize / textureSize.y;\n }\n\n vec2 coord = v_Texcoord;\n\n float sum = 0.0;\n float weightAll = 0.0;\n\n#ifdef NORMALTEX_ENABLED\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\n#endif\n#if defined(DEPTHTEX_ENABLED)\n float centerDepth = getLinearDepth(v_Texcoord);\n#endif\n\n for (int i = 0; i < 5; i++) {\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\n\n float w = kernel[i];\n#ifdef NORMALTEX_ENABLED\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n#endif\n#ifdef DEPTHTEX_ENABLED\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n#endif\n\n weightAll += w;\n sum += texture2D(ssaoTexture, coord).r * w;\n }\n\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\n}\n\n@end\n"},function(t,e,n){"use strict";var r=n(9),i=(n(3),n(5)),a=n(4),o=n(16),s=n(8),u=n(10),l=(n(49),n(77)),c=n(192);function h(t){t=t||{},this._ssrPass=new o["a"]({fragment:s["a"].source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new o["a"]({fragment:s["a"].source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new o["a"]({fragment:s["a"].source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new o["a"]({fragment:s["a"].source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",t.normalTexture),this._ssrPass.setUniform("gBufferTexture2",t.depthTexture),this._blurPass1.setUniform("gBufferTexture1",t.normalTexture),this._blurPass1.setUniform("gBufferTexture2",t.depthTexture),this._blurPass2.setUniform("gBufferTexture1",t.normalTexture),this._blurPass2.setUniform("gBufferTexture2",t.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new i["a"]({type:a["a"].HALF_FLOAT}),this._texture2=new i["a"]({type:a["a"].HALF_FLOAT}),this._texture3=new i["a"]({type:a["a"].HALF_FLOAT}),this._prevTexture=new i["a"]({type:a["a"].HALF_FLOAT}),this._currentTexture=new i["a"]({type:a["a"].HALF_FLOAT}),this._frameBuffer=new u["a"]({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}s["a"].import(c["a"]),h.prototype.setAmbientCubemap=function(t,e){this._ssrPass.material.set("specularCubemap",t),this._ssrPass.material.set("specularIntensity",e);var n=t&&e;this._ssrPass.material[n?"enableTexture":"disableTexture"]("specularCubemap")},h.prototype.update=function(t,e,n,i){var a=t.getWidth(),o=t.getHeight(),s=this._ssrTexture,u=this._texture2,l=this._texture3;s.width=this._prevTexture.width=this._currentTexture.width=a/this._downScale,s.height=this._prevTexture.height=this._currentTexture.height=o/this._downScale,u.width=l.width=a,u.height=l.height=o;var c=this._frameBuffer,h=this._ssrPass,f=this._blurPass1,d=this._blurPass2,p=this._blendPass,m=new r["a"],g=new r["a"];r["a"].transpose(m,e.worldTransform),r["a"].transpose(g,e.viewMatrix),h.setUniform("sourceTexture",n),h.setUniform("projection",e.projectionMatrix.array),h.setUniform("projectionInv",e.invProjectionMatrix.array),h.setUniform("toViewSpace",m.array),h.setUniform("toWorldSpace",g.array),h.setUniform("nearZ",e.near);var v=i/this._totalSamples*this._samplePerFrame;if(h.setUniform("jitterOffset",v),h.setUniform("sampleOffset",i*this._samplePerFrame),f.setUniform("textureSize",[s.width,s.height]),d.setUniform("textureSize",[a,o]),d.setUniform("sourceTexture",n),f.setUniform("projection",e.projectionMatrix.array),d.setUniform("projection",e.projectionMatrix.array),c.attach(s),c.bind(t),h.render(t),this._physicallyCorrect&&(c.attach(this._currentTexture),p.setUniform("texture1",this._prevTexture),p.setUniform("texture2",s),p.material.set({weight1:i>=1?.95:0,weight2:i>=1?.05:1}),p.render(t)),c.attach(u),f.setUniform("texture",this._physicallyCorrect?this._currentTexture:s),f.render(t),c.attach(l),d.setUniform("texture",u),d.render(t),c.unbind(t),this._physicallyCorrect){var _=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=_}},h.prototype.getTargetTexture=function(){return this._texture3},h.prototype.setParameter=function(t,e){"maxIteration"===t?this._ssrPass.material.define("fragment","MAX_ITERATION",e):this._ssrPass.setUniform(t,e)},h.prototype.setPhysicallyCorrect=function(t){t?(this._normalDistribution||(this._normalDistribution=l["a"].generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=t},h.prototype.setSSAOTexture=function(t){var e=this._blurPass2;t?(e.material.enableTexture("ssaoTex"),e.material.set("ssaoTex",t)):e.material.disableTexture("ssaoTex")},h.prototype.isFinished=function(t){return!this._physicallyCorrect||t>this._totalSamples/this._samplePerFrame},h.prototype.dispose=function(t){this._ssrTexture.dispose(t),this._texture2.dispose(t),this._texture3.dispose(t),this._prevTexture.dispose(t),this._currentTexture.dispose(t),this._frameBuffer.dispose(t)},e["a"]=h},function(t,e,n){"use strict";e["a"]="@export ecgl.ssr.main\n\n#define SHADER_NAME SSR\n#define MAX_ITERATION 20;\n#define SAMPLE_PER_FRAME 5;\n#define TOTAL_SAMPLES 128;\n\nuniform sampler2D sourceTexture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform sampler2D gBufferTexture3;\nuniform samplerCube specularCubemap;\nuniform float specularIntensity: 1;\n\nuniform mat4 projection;\nuniform mat4 projectionInv;\nuniform mat4 toViewSpace;\nuniform mat4 toWorldSpace;\n\nuniform float maxRayDistance: 200;\n\nuniform float pixelStride: 16;\nuniform float pixelStrideZCutoff: 50; \nuniform float screenEdgeFadeStart: 0.9; \nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\n\nuniform float nearZ;\nuniform vec2 viewportSize : VIEWPORT_SIZE;\n\nuniform float jitterOffset: 0;\n\nvarying vec2 v_Texcoord;\n\n#ifdef DEPTH_DECODE\n@import clay.util.decode_float\n#endif\n\n#ifdef PHYSICALLY_CORRECT\nuniform sampler2D normalDistribution;\nuniform float sampleOffset: 0;\nuniform vec2 normalDistributionSize;\n\nvec3 transformNormal(vec3 H, vec3 N) {\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\n return transformNormal(H, N);\n}\nfloat G_Smith(float g, float ndv, float ndl) {\n float roughness = 1.0 - g;\n float k = roughness * roughness / 2.0;\n float G1V = ndv / (ndv * (1.0 - k) + k);\n float G1L = ndl / (ndl * (1.0 - k) + k);\n return G1L * G1V;\n}\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n#endif\n\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\n{\n vec4 depthTexel = texture2D(depthTexture, uv);\n return depthTexel.r * 2.0 - 1.0;\n}\n\nfloat linearDepth(float depth)\n{\n if (projection[3][3] == 0.0) {\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n }\n else {\n return (depth - projection[3][2]) / projection[2][2];\n }\n}\n\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\n{\n if (rayZFar > rayZNear)\n {\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n }\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n}\n\n\nbool traceScreenSpaceRay(\n vec3 rayOrigin, vec3 rayDir, float jitter,\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\n)\n{\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\n vec4 H1 = projection * vec4(rayEnd, 1.0);\n\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n vec2 delta = P1 - P0;\n\n bool permute = false;\n if (abs(delta.x) < abs(delta.y)) {\n permute = true;\n delta = delta.yx;\n P0 = P0.yx;\n P1 = P1.yx;\n }\n float stepDir = sign(delta.x);\n float invdx = stepDir / delta.x;\n\n vec3 dQ = (Q1 - Q0) * invdx;\n float dk = (k1 - k0) * invdx;\n\n vec2 dP = vec2(stepDir, delta.y * invdx);\n\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n float pixStride = 1.0 + strideScaler * pixelStride;\n\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n vec4 pqk = vec4(P0, Q0.z, k0);\n vec4 dPQK = vec4(dP, dQ.z, dk);\n\n pqk += dPQK * jitter;\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n float rayZNear;\n\n bool intersect = false;\n\n vec2 texelSize = 1.0 / viewportSize;\n\n iterationCount = 0.0;\n\n for (int i = 0; i < MAX_ITERATION; i++)\n {\n pqk += dPQK;\n\n rayZNear = rayZFar;\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n hitPixel = permute ? pqk.yx : pqk.xy;\n hitPixel *= texelSize;\n\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n iterationCount += 1.0;\n\n dPQK *= 1.2;\n\n if (intersect) {\n break;\n }\n }\n\n Q0.xy += dQ.xy * iterationCount;\n Q0.z = pqk.z;\n hitPoint = Q0 / pqk.w;\n\n return intersect;\n}\n\nfloat calculateAlpha(\n float iterationCount, float reflectivity,\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\n)\n{\n float alpha = clamp(reflectivity, 0.0, 1.0);\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n float _eyeFadeStart = eyeFadeStart;\n float _eyeFadeEnd = eyeFadeEnd;\n if (_eyeFadeStart > _eyeFadeEnd) {\n float tmp = _eyeFadeEnd;\n _eyeFadeEnd = _eyeFadeStart;\n _eyeFadeStart = tmp;\n }\n\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n return alpha;\n}\n\n@import clay.util.rand\n\n@import clay.util.rgbm\n\nvoid main()\n{\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\n\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n discard;\n }\n\n float g = normalAndGloss.a;\n#if !defined(PHYSICALLY_CORRECT)\n if (g <= minGlossiness) {\n discard;\n }\n#endif\n\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\n vec4 pos = projectionInv * projectedPos;\n vec3 rayOrigin = pos.xyz / pos.w;\n vec3 V = -normalize(rayOrigin);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n float iterationCount;\n float jitter = rand(fract(v_Texcoord + jitterOffset));\n\n#ifdef PHYSICALLY_CORRECT\n vec4 color = vec4(vec3(0.0), 1.0);\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\n vec3 albedo = albedoMetalness.rgb;\n float m = albedoMetalness.a;\n vec3 diffuseColor = albedo * (1.0 - m);\n vec3 spec = mix(vec3(0.04), albedo, m);\n\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\n\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\n vec3 rayDir = normalize(reflect(-V, H));\n#else\n vec3 rayDir = normalize(reflect(-V, N));\n#endif\n vec2 hitPixel;\n vec3 hitPoint;\n\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n float dist = distance(rayOrigin, hitPoint);\n\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\n#ifdef PHYSICALLY_CORRECT\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\n float vdh = clamp(dot(V, H), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n vec3 litTexel = vec3(0.0);\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\n\n }\n else {\n #ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\n#endif\n }\n color.rgb += ndl * litTexel * (\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\n );\n }\n color.rgb /= float(SAMPLE_PER_FRAME);\n#else\n #if !defined(SPECULARCUBEMAP_ENABLED)\n if (dot(hitNormal, rayDir) >= 0.0) {\n discard;\n }\n if (!intersect) {\n discard;\n }\n#endif\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\n vec4 color = texture2D(sourceTexture, hitPixel);\n color.rgb *= alpha;\n\n#ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n alpha = alpha * (intersect ? 1.0 : 0.0);\n float bias = (1.0 -g) * 5.0;\n color.rgb += (1.0 - alpha)\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\n * specularIntensity;\n#endif\n\n#endif\n\n gl_FragColor = encodeHDR(color);\n}\n@end\n\n@export ecgl.ssr.blur\n\nuniform sampler2D texture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform mat4 projection;\nuniform float depthRange : 0.05;\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\n#ifdef BLEND\n #ifdef SSAOTEX_ENABLED\nuniform sampler2D ssaoTex;\n #endif\nuniform sampler2D sourceTexture;\n#endif\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n\n@import clay.util.rgbm\n\n\nvoid main()\n{\n @import clay.compositor.kernel.gaussian_9\n\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\n float g = centerNTexel.a;\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\n#ifdef VERTICAL\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\n#else\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\n#endif\n\n vec2 coord = v_Texcoord;\n\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\n float cD = getLinearDepth(v_Texcoord);\n for (int i = 0; i < 9; i++) {\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\n float w = gaussianKernel[i]\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\n\n weightAll += w;\n sum += decodeHDR(texture2D(texture, coord)) * w;\n }\n\n#ifdef BLEND\n float aoFactor = 1.0;\n #ifdef SSAOTEX_ENABLED\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\n #endif\n gl_FragColor = encodeHDR(\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\n );\n#else\n gl_FragColor = encodeHDR(sum / weightAll);\n#endif\n}\n\n@end"},function(t,e,n){"use strict";e["a"]=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925]},function(t,e,n){"use strict";var r=n(5),i=n(4),a=n(8),o=n(10),s=n(19),u=n(16),l=n(61),c=n(195);function h(t,e,n,r,i){var a=t.gl;e.setUniform(a,"1i",n,i),a.activeTexture(a.TEXTURE0+i),r.isRenderable()?r.bind(t):r.unbind(t)}function f(t,e,n,r,i){var a,o,s,u,l=t.gl;return function(i,c,f){if(!u||u.material!==i.material){var d=i.material,p=i.__program,m=d.get("roughness");null==m&&(m=1);var g=d.get("normalMap")||e,v=d.get("roughnessMap"),_=d.get("bumpMap"),y=d.get("uvRepeat"),x=d.get("uvOffset"),b=d.get("detailUvRepeat"),w=d.get("detailUvOffset"),T=!!_&&d.isTextureEnabled("bumpMap"),S=!!v&&d.isTextureEnabled("roughnessMap"),E=d.isDefined("fragment","DOUBLE_SIDED");_=_||n,v=v||r,f!==c?(c.set("normalMap",g),c.set("bumpMap",_),c.set("roughnessMap",v),c.set("useBumpMap",T),c.set("useRoughnessMap",S),c.set("doubleSide",E),null!=y&&c.set("uvRepeat",y),null!=x&&c.set("uvOffset",x),null!=b&&c.set("detailUvRepeat",b),null!=w&&c.set("detailUvOffset",w),c.set("roughness",m)):(p.setUniform(l,"1f","roughness",m),a!==g&&h(t,p,"normalMap",g,0),o!==_&&_&&h(t,p,"bumpMap",_,1),s!==v&&v&&h(t,p,"roughnessMap",v,2),null!=y&&p.setUniform(l,"2f","uvRepeat",y),null!=x&&p.setUniform(l,"2f","uvOffset",x),null!=b&&p.setUniform(l,"2f","detailUvRepeat",b),null!=w&&p.setUniform(l,"2f","detailUvOffset",w),p.setUniform(l,"1i","useBumpMap",+T),p.setUniform(l,"1i","useRoughnessMap",+S),p.setUniform(l,"1i","doubleSide",+E)),a=g,o=_,s=v,u=i}}}function d(t){t=t||{},this._depthTex=new r["a"]({format:i["a"].DEPTH_COMPONENT,type:i["a"].UNSIGNED_INT}),this._normalTex=new r["a"]({type:i["a"].HALF_FLOAT}),this._framebuffer=new o["a"],this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,o["a"].DEPTH_ATTACHMENT),this._normalMaterial=new s["a"]({shader:new a["a"](a["a"].source("ecgl.normal.vertex"),a["a"].source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=l["a"].createBlank("#000"),this._defaultBumpMap=l["a"].createBlank("#000"),this._defaultRoughessMap=l["a"].createBlank("#000"),this._debugPass=new u["a"]({fragment:a["a"].source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}a["a"].import(c["a"]),d.prototype.getDepthTexture=function(){return this._depthTex},d.prototype.getNormalTexture=function(){return this._normalTex},d.prototype.update=function(t,e,n){var r=t.getWidth(),i=t.getHeight(),a=this._depthTex,o=this._normalTex,s=this._normalMaterial;a.width=r,a.height=i,o.width=r,o.height=i;var u=e.getRenderList(n).opaque;this._framebuffer.bind(t),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),t.gl.disable(t.gl.BLEND),t.renderPass(u,n,{getMaterial:function(){return s},ifRender:function(t){return t.renderNormal},beforeRender:f(t,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:t.opaqueSortCompare}),this._framebuffer.unbind(t)},d.prototype.renderDebug=function(t){this._debugPass.render(t)},d.prototype.dispose=function(t){this._depthTex.dispose(t),this._normalTex.dispose(t)},e["a"]=d},function(t,e,n){"use strict";e["a"]="@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n\n @import ecgl.common.vertexAnimation.main\n\n @import ecgl.common.uv.main\n\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n @import ecgl.common.normalMap.vertexMain\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\n#define ROUGHNESS_CHANEL 0\n\nuniform bool useBumpMap;\nuniform bool useRoughnessMap;\nuniform bool doubleSide;\nuniform float roughness;\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nuniform sampler2D roughnessMap;\n\nvoid main()\n{\n vec3 N = v_Normal;\n \n bool flipNormal = false;\n if (doubleSide) {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n flipNormal = true;\n }\n }\n\n @import ecgl.common.normalMap.fragmentMain\n\n if (useBumpMap) {\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n }\n\n float g = 1.0 - roughness;\n\n if (useRoughnessMap) {\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n }\n\n if (flipNormal) {\n N = -N;\n }\n\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n gl_FragColor.a = g;\n}\n@end"},function(t,e,n){"use strict";n(9),n(3);var r=n(5),i=n(4),a=n(16),o=n(8),s=n(10);function u(t){t=t||{},this._edgePass=new a["a"]({fragment:o["a"].source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",t.normalTexture),this._edgePass.setUniform("depthTexture",t.depthTexture),this._targetTexture=new r["a"]({type:i["a"].HALF_FLOAT}),this._frameBuffer=new s["a"],this._frameBuffer.attach(this._targetTexture)}u.prototype.update=function(t,e,n,r){var i=t.getWidth(),a=t.getHeight(),o=this._targetTexture;o.width=i,o.height=a;var s=this._frameBuffer;s.bind(t),this._edgePass.setUniform("projectionInv",e.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[i,a]),this._edgePass.setUniform("texture",n),this._edgePass.render(t),s.unbind(t)},u.prototype.getTargetTexture=function(){return this._targetTexture},u.prototype.setParameter=function(t,e){this._edgePass.setUniform(t,e)},u.prototype.dispose=function(t){this._targetTexture.dispose(t),this._frameBuffer.dispose(t)},e["a"]=u},function(t,e,n){"use strict";e["a"]={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]}},function(t,e,n){"use strict";e["a"]="@export ecgl.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDistance: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import clay.util.encode_float\n\nvoid main()\n{\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n float aperture = focalLength / fstop;\n\n float coc;\n\n float uppper = focalDistance + focalRange;\n float lower = focalDistance - focalRange;\n if (dist <= uppper && dist >= lower) {\n coc = 0.5;\n }\n else {\n float focalAdjusted = dist > uppper ? uppper : lower;\n\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\n\n if (dist < lower) {\n coc = -coc;\n }\n coc = coc * 0.5 + 0.5;\n }\n\n gl_FragColor = encodeFloat(coc);\n}\n@end\n\n\n@export ecgl.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import clay.util.rgbm\n@import clay.util.float\n\nvoid main()\n{\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\n vec4 originalColor = texture2D(original, v_Texcoord);\n\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n fCoc = abs(fCoc * 2.0 - 1.0);\n\n float weight = smoothstep(0.0, 1.0, fCoc);\n \n#ifdef NEARFIELD_ENABLED\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n gl_FragColor = encodeHDR(\n mix(\n nearfieldColor, mix(originalColor, blurredColor, weight),\n pow(1.0 - fNearCoc, 4.0)\n )\n );\n#else\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n}\n\n@end\n\n\n\n@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurRadius : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import clay.util.rgbm\n@import clay.util.float\n\n\nvoid main()\n{\n vec2 offset = blurRadius / textureSize;\n\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n float cosa = cos(rnd);\n float sina = sin(rnd);\n vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n float cocSum = 0.0;\n#else\n vec4 color = vec4(0.0);\n#endif\n\n\n float weightSum = 0.0;\n\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n vec2 ofs = poissonKernel[i];\n\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n vec2 uv = v_Texcoord + ofs * offset;\n vec4 texel = texture2D(texture, uv);\n\n float w = 1.0;\n#ifdef BLUR_COC\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n texel = texel;\n #if !defined(BLUR_NEARFIELD)\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n w *= abs(fCoc);\n #endif\n texel.rgb *= texel.a;\n color += texel * w;\n#endif\n\n weightSum += w;\n }\n\n#ifdef BLUR_COC\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n color /= weightSum;\n color.rgb /= (color.a + 0.0001);\n gl_FragColor = color;\n#endif\n}\n\n@end"},function(t,e,n){"use strict";e["a"]="@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * p;\n\n return vec3(\n texture2D(normalTexture, coord).rg,\n -p4.z / p4.w / 5.0\n );\n}\n\nvoid main() {\n vec2 cc = v_Texcoord;\n vec3 center = packColor(cc);\n\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n float dx = size / textureSize.x;\n float dy = size / textureSize.y;\n\n vec2 coord;\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n vec3 top = packColor(cc+vec2(0.0, -dy));\n vec3 topRight = packColor(cc+vec2(dx, -dy));\n vec3 left = packColor(cc+vec2(-dx, 0.0));\n vec3 right = packColor(cc+vec2(dx, 0.0));\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n vec3 bottom = packColor(cc+vec2(0.0, dy));\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n float edge = sqrt(dot(h, h) + dot(v, v));\n\n edge = smoothstep(0.8, 1.0, edge);\n\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end"},function(t,e,n){"use strict";var r=n(49),i=n(16),a=n(10),o=n(5),s=n(8),u=n(9);function l(t){for(var e=[],n=0;n<30;n++)e.push([Object(r["a"])(n,2),Object(r["a"])(n,3)]);this._haltonSequence=e,this._frame=0,this._sourceTex=new o["a"],this._sourceFb=new a["a"],this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new o["a"],this._outputTex=new o["a"];var u=this._blendPass=new i["a"]({fragment:s["a"].source("clay.compositor.blend")});u.material.disableTexturesAll(),u.material.enableTexture(["texture1","texture2"]),this._blendFb=new a["a"]({depthBuffer:!1}),this._outputPass=new i["a"]({fragment:s["a"].source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(t){t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)}}l.prototype={constructor:l,jitterProjection:function(t,e){var n=t.viewport,r=n.devicePixelRatio||t.getDevicePixelRatio(),i=n.width*r,a=n.height*r,o=this._haltonSequence[this._frame%this._haltonSequence.length],s=new u["a"];s.array[12]=(2*o[0]-1)/i,s.array[13]=(2*o[1]-1)/a,u["a"].mul(e.projectionMatrix,s,e.projectionMatrix),u["a"].invert(e.invProjectionMatrix,e.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(t,e){this._prevFrameTex.width=t,this._prevFrameTex.height=e,this._outputTex.width=t,this._outputTex.height=e,this._sourceTex.width=t,this._sourceTex.height=e,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(t,e,n){var r=this._blendPass;0===this._frame?(r.setUniform("weight1",0),r.setUniform("weight2",1)):(r.setUniform("weight1",.9),r.setUniform("weight2",.1)),r.setUniform("texture1",this._prevFrameTex),r.setUniform("texture2",e||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(t),r.render(t),this._blendFb.unbind(t),n||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(t));var i=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=i,this._frame++},dispose:function(t){this._sourceFb.dispose(t),this._blendFb.dispose(t),this._prevFrameTex.dispose(t),this._outputTex.dispose(t),this._sourceTex.dispose(t),this._outputPass.dispose(t),this._blendPass.dispose(t)}},e["a"]=l},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(202),n(203),n(98);i.a.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},function(t,e){e.eachComponent({mainType:"geo3D",query:t},function(e){e.setView(t)})})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),u=n(31),l=n(96),c=i.a.extendComponentModel({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var t=this.option;t.regions=this.getFilledRegions(t.regions,t.map);var e=i.a.helper.completeDimensions(["value"],t.data,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions")}),n=new i.a.List(e,this);n.initData(t.regions);var r={};n.each(function(t){var e=n.getName(t),i=n.getItemModel(t);r[e]=i}),this._regionModelMap=r,this._data=n},getData:function(){return this._data},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new i.a.Model(null,this)},getRegionPolygonCoords:function(t){var e=this.getData().getName(t),n=this.coordinateSystem.getRegion(e);return n?n.geometries:[]},getFormattedLabel:function(t,e){var n=this._data.getName(t),r=this.getRegionModel(n),i=r.get("normal"===e?["label","formatter"]:["emphasis","label","formatter"]);null==i&&(i=r.get(["label","formatter"]));var a={name:n};if("function"===typeof i)return a.status=e,i(a);if("string"===typeof i){var o=a.seriesName;return i.replace("{a}",null!=o?o:"")}return n},defaultOption:{regions:[]}});i.a.util.merge(c.prototype,l["a"]),i.a.util.merge(c.prototype,a["a"]),i.a.util.merge(c.prototype,o["a"]),i.a.util.merge(c.prototype,s["a"]),i.a.util.merge(c.prototype,u["a"])},function(t,e,n){"use strict";var r=n(64),i=n(0),a=n.n(i),o=n(1),s=n(45),u=n(30);a.a.extendComponentView({type:"geo3D",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new r["a"](e),this.groupGL=new o["a"].Node,this._lightRoot=new o["a"].Node,this._sceneHelper=new u["a"](this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new s["a"]({zr:e.getZr()}),this._control.init()},render:function(t,e,n){this.groupGL.add(this._geo3DBuilder.rootNode);var r=t.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=t.getModel("viewControl");i.setFromViewControlModel(a,0),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._geo3DBuilder.update(t,e,n,0,t.getData().count());var o=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(t){t.material&&t.material[o]("fragment","SRGB_DECODE")}),i.off("update"),i.on("update",function(){n.dispatchAction({type:"geo3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,geo3DId:t.id})}),i.update()}},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},dispose:function(){this._control.dispose()}})},function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,a,s,u,l,c,f,d=e&&e.length,p=d?e[0]*n:t.length,m=i(t,0,p,n,!0),g=[];if(!m)return g;if(d&&(m=h(t,e,m,n)),t.length>80*n){r=s=t[0],a=u=t[1];for(var v=n;v<p;v+=n)l=t[v],c=t[v+1],l<r&&(r=l),c<a&&(a=c),l>s&&(s=l),c>u&&(u=c);f=Math.max(s-r,u-a)}return o(m,g,n,r,a,f),g}function i(t,e,n,r,i){var a,o;if(i===L(t,e,n,r)>0)for(a=e;a<n;a+=r)o=C(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=C(a,t[a],t[a+1],o);return o&&w(o,o.next)&&(O(o),o=o.next),o}function a(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==b(r.prev,r,r.next))r=r.next;else{if(O(r),r=e=r.prev,r===r.next)return null;n=!0}}while(n||r!==e);return e}function o(t,e,n,r,i,h,f){if(t){!f&&h&&m(t,r,i,h);var d,p,g=t;while(t.prev!==t.next)if(d=t.prev,p=t.next,h?u(t,r,i,h):s(t))e.push(d.i/n),e.push(t.i/n),e.push(p.i/n),O(t),t=p.next,g=p.next;else if(t=p,t===g){f?1===f?(t=l(t,e,n),o(t,e,n,r,i,h,2)):2===f&&c(t,e,n,r,i,h):o(a(t),e,n,r,i,h,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(b(e,n,r)>=0)return!1;var i=t.next.next;while(i!==t.prev){if(y(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&b(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,a=t,o=t.next;if(b(i,a,o)>=0)return!1;var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,h=v(s,u,e,n,r),f=v(l,c,e,n,r),d=t.nextZ;while(d&&d.z<=f){if(d!==t.prev&&d!==t.next&&y(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&b(d.prev,d,d.next)>=0)return!1;d=d.nextZ}d=t.prevZ;while(d&&d.z>=h){if(d!==t.prev&&d!==t.next&&y(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&b(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,a=r.next.next;!w(i,a)&&T(i,r,r.next,a)&&E(i,a)&&E(a,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),O(r),O(r.next),r=t=a),r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var u=t;do{var l=u.next.next;while(l!==u.prev){if(u.i!==l.i&&x(u,l)){var c=A(u,l);return u=a(u,u.next),c=a(c,c.next),o(u,e,n,r,i,s),void o(c,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function h(t,e,n,r){var o,s,u,l,c,h=[];for(o=0,s=e.length;o<s;o++)u=e[o]*r,l=o<s-1?e[o+1]*r:t.length,c=i(t,u,l,r,!1),c===c.next&&(c.steiner=!0),h.push(_(c));for(h.sort(f),o=0;o<h.length;o++)d(h[o],n),n=a(n,n.next);return n}function f(t,e){return t.x-e.x}function d(t,e){if(e=p(t,e),e){var n=A(e,t);a(n,n.next)}}function p(t,e){var n,r=e,i=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===o)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;r=n.next;while(r!==l)i>=r.x&&r.x>=c&&i!==r.x&&y(a<h?i:o,a,c,h,a<h?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),(u<f||u===f&&r.x>n.x)&&E(r,t)&&(n=r,f=u)),r=r.next;return n}function m(t,e,n,r){var i=t;do{null===i.z&&(i.z=v(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,g(i)}function g(t){var e,n,r,i,a,o,s,u,l=1;do{n=t,t=null,a=null,o=0;while(n){for(o++,r=n,s=0,e=0;e<l;e++)if(s++,r=r.nextZ,!r)break;u=l;while(s>0||u>0&&r)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1);return t}function v(t,e,n,r,i){return t=32767*(t-n)/i,e=32767*(e-r)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function _(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function y(t,e,n,r,i,a,o,s){return(i-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function x(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!S(t,e)&&E(t,e)&&E(e,t)&&M(t,e)}function b(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function T(t,e,n,r){return!!(w(t,e)&&w(n,r)||w(t,r)&&w(n,e))||b(t,e,n)>0!==b(t,e,r)>0&&b(n,r,t)>0!==b(n,r,e)>0}function S(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&T(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function E(t,e){return b(t.prev,t,t.next)<0?b(t,e,t.next)>=0&&b(t,t.prev,e)>=0:b(t,e,t.prev)<0||b(t,t.next,e)<0}function M(t,e){var n=t,r=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}function A(t,e){var n=new D(t.i,t.x,t.y),r=new D(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function C(t,e,n,r){var i=new D(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function O(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function D(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(t,e,n,r){for(var i=0,a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}e["a"]=r,r.deviation=function(t,e,n,r){var i=e&&e.length,a=i?e[0]*n:t.length,o=Math.abs(L(t,0,a,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;o-=Math.abs(L(t,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)}},function(t,e,n){var r=n(13),i={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function a(t){r.each(t.regions,function(t){var e=i[t.name];if(e){var n=t.center;n[0]+=e[0]/10.5,n[1]+=-e[1]/14}})}t.exports=a},function(t,e,n){var r=n(13),i={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function a(t){r.each(t.regions,function(t){var e=i[t.name];if(e){var n=t.center;n[0]=e[0],n[1]=e[1]}})}t.exports=a},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(208),n(209),n(211);i.a.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},function(t,e){e.eachComponent({mainType:"globe",query:t},function(e){e.setView(t)})}),i.a.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},function(t,e){})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),u=n(31);function l(t,e){t.id=t.id||t.name||e+""}var c=i.a.extendComponentModel({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){c.superApply(this,"init",arguments),i.a.util.each(this.option.layers,function(t,e){i.a.util.merge(t,this.defaultLayerOption),l(t,e)},this)},mergeOption:function(t){var e=this.option.layers;function n(t){return i.a.util.reduce(t,function(t,e,n){return l(e,n),t[e.id]=e,t},{})}if(this.option.layers=null,c.superApply(this,"mergeOption",arguments),e&&e.length){var r=n(t.layers),a=n(e);for(var o in r)a[o]?i.a.util.merge(a[o],r[o],!0):e.push(t.layers[o]);this.option.layers=e}i.a.util.each(this.option.layers,function(t){i.a.util.merge(t,this.defaultLayerOption)},this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(t,e,n){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=n},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var t=this.getDisplacementTexture(),e=this.get("displacementScale");return t&&"none"!==t||(e=0),e},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var t=this.getDisplacementTexture(),e=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==t||this._displacementScale!==e,this._displacementTexture=t,this._displacementScale=e},isDisplacementChanged:function(){return this._displacementChanged}});i.a.util.merge(c.prototype,a["a"]),i.a.util.merge(c.prototype,o["a"]),i.a.util.merge(c.prototype,s["a"]),i.a.util.merge(c.prototype,u["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(30),u=n(210),l=n(2);i.a.extendComponentView({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(t,e){this.groupGL=new a["a"].Node,this._sphereGeometry=new a["a"].SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new a["a"].SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new a["a"].PlaneGeometry,this._earthMesh=new a["a"].Mesh({renderNormal:!0}),this._lightRoot=new a["a"].Node,this._sceneHelper=new s["a"],this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._earthMesh),this._control=new o["a"]({zr:e.getZr()}),this._control.init(),this._layerMeshes={}},render:function(t,e,n){var r=t.coordinateSystem,i=t.get("shading");r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL),this._sceneHelper.setScene(r.viewGL.scene),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling"));var o=this._earthMesh;o.geometry=this._sphereGeometry;var s="ecgl."+i;o.material&&o.material.shader.name===s||(o.material=a["a"].createMaterial(s)),a["a"].setMaterialFromModel(i,o.material,t,n),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach(function(t){var e=o.material.get(t);e&&(e.flipY=!1)}),o.material.set("color",a["a"].parseColor(t.get("baseColor")));var u=.99*r.radius;o.scale.set(u,u,u);var l=o.material.setTextureImage("diffuseMap",t.get("baseTexture"),n,{flipY:!1,anisotropic:8});l&&l.surface&&l.surface.attachToMesh(o);var c=o.material.setTextureImage("bumpMap",t.get("heightTexture"),n,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(o),o.material[t.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(t,n),this._displaceVertices(t,n),this._updateViewControl(t,n),this._updateLayers(t,n)},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},_updateLayers:function(t,e){var n=t.coordinateSystem,r=t.get("layers"),o=n.radius,s=[],u=[],c=[],h=[];i.a.util.each(r,function(t){var r=new i.a.Model(t),f=r.get("type"),d=a["a"].loadTexture(r.get("texture"),e,{flipY:!1,anisotropic:8});if(d.surface&&d.surface.attachToMesh(this._earthMesh),"blend"===f){var p=r.get("blendTo"),m=l["a"].firstNotNull(r.get("intensity"),1);"emission"===p?(c.push(d),h.push(m)):(s.push(d),u.push(m))}else{var g=r.get("id"),v=this._layerMeshes[g];v||(v=this._layerMeshes[g]=new a["a"].Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0}));var _=r.get("shading");"lambert"===_?(v.material=v.__lambertMaterial||new a["a"].Material({autoUpdateTextureStatus:!1,shader:a["a"].createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),v.__lambertMaterial=v.material):(v.material=v.__colorMaterial||new a["a"].Material({autoUpdateTextureStatus:!1,shader:a["a"].createShader("ecgl.color"),transparent:!0,depthMask:!1}),v.__colorMaterial=v.material),v.material.enableTexture("diffuseMap");var y=r.get("distance"),x=o+(null==y?n.radius/100:y);v.scale.set(x,x,x),o=x;var b=this._blankTexture||(this._blankTexture=a["a"].createBlankTexture("rgba(255, 255, 255, 0)"));v.material.set("diffuseMap",b),a["a"].loadTexture(r.get("texture"),e,{flipY:!1,anisotropic:8},function(t){t.surface&&t.surface.attachToMesh(v),v.material.set("diffuseMap",t),e.getZr().refresh()}),r.get("show")?this.groupGL.add(v):this.groupGL.remove(v)}},this);var f=this._earthMesh.material;f.define("fragment","LAYER_DIFFUSEMAP_COUNT",s.length),f.define("fragment","LAYER_EMISSIVEMAP_COUNT",c.length),f.set("layerDiffuseMap",s),f.set("layerDiffuseIntensity",u),f.set("layerEmissiveMap",c),f.set("layerEmissionIntensity",h);var d=t.getModel("debug.wireframe");if(d.get("show")){f.define("both","WIREFRAME_TRIANGLE");var p=a["a"].parseColor(d.get("lineStyle.color")||"rgba(0,0,0,0.5)"),m=l["a"].firstNotNull(d.get("lineStyle.width"),1);f.set("wireframeLineWidth",m),f.set("wireframeLineColor",p)}else f.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(t,e){var n=t.coordinateSystem,r=t.getModel("viewControl"),i=(n.viewGL.camera,this);function a(){return{type:"globeChangeCamera",alpha:o.getAlpha(),beta:o.getBeta(),distance:o.getDistance()-n.radius,center:o.getCenter(),from:i.uid,globeId:t.id}}var o=this._control;o.setViewGL(n.viewGL);var s,u,l=r.get("targetCoord");null!=l&&(u=l[0]+90,s=l[1]),o.setFromViewControlModel(r,{baseDistance:n.radius,alpha:s,beta:u}),o.off("update"),o.on("update",function(){e.dispatchAction(a())})},_displaceVertices:function(t,e){var n=t.get("displacementQuality"),r=t.get("debug.wireframe.show"),i=t.coordinateSystem;if(t.isDisplacementChanged()||n!==this._displacementQuality||r!==this._showDebugWireframe){this._displacementQuality=n,this._showDebugWireframe=r;var a=this._sphereGeometry,o={low:100,medium:200,high:400,ultra:800}[n]||200,s=o/2;(a.widthSegments!==o||r)&&(a.widthSegments=o,a.heightSegments=s,a.build()),this._doDisplaceVertices(a,i),r&&a.generateBarycentric()}},_doDisplaceVertices:function(t,e){var n=t.attributes.position.value,r=t.attributes.texcoord0.value,i=t.__originalPosition;i&&i.length===n.length||(i=new Float32Array(n.length),i.set(n),t.__originalPosition=i);for(var a=e.displacementWidth,o=e.displacementHeight,s=e.displacementData,u=0;u<t.vertexCount;u++){var l=3*u,c=2*u,h=i[l+1],f=i[l+2],d=i[l+3],p=r[c++],m=r[c++],g=Math.round(p*(a-1)),v=Math.round(m*(o-1)),_=v*a+g,y=s?s[_]:0;n[l+1]=h+h*y,n[l+2]=f+f*y,n[l+3]=d+d*y}t.generateVertexNormals(),t.dirty(),t.updateBoundingBox()},_updateLight:function(t,e){var n=this._earthMesh;this._sceneHelper.updateLight(t);var r=this._sceneHelper.mainLight,a=t.get("light.main.time")||new Date,o=u["a"].getPosition(i.a.number.parseDate(a),0,0),s=Math.cos(o.altitude);r.position.y=-s*Math.cos(o.azimuth),r.position.x=Math.sin(o.altitude),r.position.z=s*Math.sin(o.azimuth),r.lookAt(n.getWorldPosition())},dispose:function(t,e){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=Math.PI,i=Math.sin,a=Math.cos,o=Math.tan,s=Math.asin,u=Math.atan2,l=r/180,c=864e5,h=2440588,f=2451545;function d(t){return t.valueOf()/c-.5+h}function p(t){return d(t)-f}var m=23.4397*l;function g(t,e){return u(i(t)*a(m)-o(e)*i(m),a(t))}function v(t,e){return s(i(e)*a(m)+a(e)*i(m)*i(t))}function _(t,e,n){return u(i(t),a(t)*i(e)-o(n)*a(e))}function y(t,e,n){return s(i(e)*i(n)+a(e)*a(n)*a(t))}function x(t,e){return l*(280.16+360.9856235*t)-e}function b(t){return l*(357.5291+.98560028*t)}function w(t){var e=l*(1.9148*i(t)+.02*i(2*t)+3e-4*i(3*t)),n=102.9372*l;return t+e+n+r}function T(t){var e=b(t),n=w(e);return{dec:v(n,0),ra:g(n,0)}}var S={getPosition:function(t,e,n){var r=l*-n,i=l*e,a=p(t),o=T(a),s=x(a,r)-o.ra;return{azimuth:_(s,i,o.dec),altitude:y(s,i,o.dec)}}};e["a"]=S},function(t,e,n){"use strict";var r=n(212),i=n(0),a=n.n(i),o=n(47),s=n.n(o),u=n(22),l=n(2),c=n(1);function h(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),i=t.width,a=t.height;n.width=i,n.height=a,r.drawImage(t,0,0,i,a);for(var o=r.getImageData(0,0,i,a).data,s=new Float32Array(o.length/4),u=0;u<o.length/4;u++){var l=o[4*u];s[u]=l/255*e}return{data:s,width:i,height:a}}function f(t,e){var n=t.getBoxLayoutParams(),r=s.a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio()),this.radius=t.get("globeRadius");var i=t.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,i-this.radius)}function d(t,e){var n=[1/0,-1/0];if(t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData(),r=t.coordDimToDataDim("alt"),i=r&&r[0];if(i){var a=e.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}},this),n&&isFinite(n[1]-n[0])){var r=a.a.helper.createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new a.a.Axis("altitude",r),this.resize(this.model,e)}}var p={dimensions:r["a"].prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("globe",function(t){t.__viewGL=t.__viewGL||new u["a"];var i=new r["a"];i.viewGL=t.__viewGL,t.coordinateSystem=i,i.model=t,n.push(i),i.resize=f,i.resize(t,e),i.update=d}),t.eachSeries(function(e){if("globe"===e.get("coordinateSystem")){var n=e.getReferringComponents("globe")[0];if(n||(n=t.getComponent("globe")),!n)throw new Error('globe "'+l["a"].firstNotNull(e.get("globe3DIndex"),e.get("globe3DId"),0)+'" not found');var r=n.coordinateSystem;e.coordinateSystem=r}}),t.eachComponent("globe",function(t,n){var r=t.coordinateSystem,i=t.getDisplacementTexture(),a=t.getDisplacemenScale();if(t.isDisplacementChanged()){if(t.hasDisplacement()){var o=!0;c["a"].loadTexture(i,e,function(n){var r=n.image,i=h(r,a);t.setDisplacementData(i.data,i.width,i.height),o||e.dispatchAction({type:"globeUpdateDisplacment"})}),o=!1}else r.setDisplacementData(null,0,0);r.setDisplacementData(t.displacementData,t.displacementWidth,t.displacementHeight)}}),n}};a.a.registerCoordinateSystem("globe",p)},function(t,e,n){"use strict";var r=n(6),i=r["a"].vec3;function a(t){this.radius=t,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}a.prototype={constructor:a,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(t,e,n){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=n},_getDisplacementScale:function(t,e){var n=(t+180)/360*(this.displacementWidth-1),r=(90-e)/180*(this.displacementHeight-1),i=Math.round(n)+Math.round(r)*this.displacementWidth;return this.displacementData[i]},dataToPoint:function(t,e){var n=t[0],r=t[1],i=t[2]||0,a=this.radius;this.displacementData&&(a*=1+this._getDisplacementScale(n,r)),this.altitudeAxis&&(a+=this.altitudeAxis.dataToCoord(i)),n=n*Math.PI/180,r=r*Math.PI/180;var o=Math.cos(r)*a;return e=e||[],e[0]=-o*Math.cos(n+Math.PI),e[1]=Math.sin(r)*a,e[2]=o*Math.sin(n+Math.PI),e},pointToData:function(t,e){var n=t[0],r=t[1],a=t[2],o=i.len(t);n/=o,r/=o,a/=o;var s=Math.asin(r),u=Math.atan2(a,-n);u<0&&(u=2*Math.PI+u);var l=180*s/Math.PI,c=180*u/Math.PI-180;return e=e||[],e[0]=c,e[1]=l,e[2]=o-this.radius,this.altitudeAxis&&(e[2]=this.altitudeAxis.coordToData(e[2])),e}},e["a"]=a},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(214),n(216),n(217);i.a.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},function(t,e){e.eachComponent({mainType:"mapbox3D",query:t},function(e){e.setMapboxCameraOption(t)})})},function(t,e,n){"use strict";var r=n(215),i=n(0),a=n.n(i),o=n(101),s=Object(o["a"])("mapbox3D",r["a"],function(t){t.forEach(function(t){t.setCameraOption(t.model.getMapboxCameraOption())})});a.a.registerCoordinateSystem("mapbox3D",s)},function(t,e,n){"use strict";var r=n(100);function i(){r["a"].apply(this,arguments)}i.prototype=new r["a"],i.prototype.constructor=i,i.prototype.type="mapbox3D",e["a"]=i},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(28),o=n(29),s=["zoom","center","pitch","bearing"],u=i.a.extendComponentModel({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var t=this;return s.reduce(function(e,n){return e[n]=t.get(n),e},{})},setMapboxCameraOption:function(t){null!=t&&s.forEach(function(e){null!=t[e]&&(this.option[e]=t[e])},this)},getMapbox:function(){return this._mapbox},setMapbox:function(t){this._mapbox=t}});i.a.util.merge(u.prototype,a["a"]),i.a.util.merge(u.prototype,o["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(218),o=n(30),s=n(1),u=n(102);s["a"].Shader.import(u["a"]);i.a.extendComponentView({type:"mapbox3D",__ecgl__:!0,init:function(t,e){var n=e.getZr();this._zrLayer=new a["a"]("mapbox3D",n),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new s["a"].Node,this._sceneHelper=new o["a"](this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMapbox(),i=this._dispatchInteractAction.bind(this,e,r);["zoom","rotate","drag","pitch","rotate","move"].forEach(function(t){r.on(t,i)}),this._groundMesh=new s["a"].Mesh({geometry:new s["a"].PlaneGeometry,material:new s["a"].Material({shader:new s["a"].Shader({vertex:s["a"].Shader.source("ecgl.displayShadow.vertex"),fragment:s["a"].Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(t,e,n){var r=this._zrLayer.getMapbox(),i=t.get("style"),a=JSON.stringify(i);a!==this._oldStyleStr&&i&&r.setStyle(i),this._oldStyleStr=a,r.setCenter(t.get("center")),r.setZoom(t.get("zoom")),r.setPitch(t.get("pitch")),r.setBearing(t.get("bearing")),t.setMapbox(r);var o=t.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(t),o.viewGL.setPostEffect(t.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._mapbox3DModel=t},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n),t.coordinateSystem.viewGL.scene.traverse(function(t){t.material&&(t.material.define("fragment","NORMAL_UP_AXIS",2),t.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(t,e,n,r){t.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(t,e,n){t.dispatchAction({type:"mapbox3DChangeCamera",pitch:e.getPitch(),zoom:e.getZoom(),center:e.getCenter().toArray(),bearing:e.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var t=this._mapbox3DModel.coordinateSystem,e=t.dataToPoint(t.center);this._groundMesh.position.set(e[0],e[1],-.001);var n=new s["a"].Plane(new s["a"].Vector3(0,0,1),0),r=t.viewGL.camera.castRay(new s["a"].Vector2(-1,-1)),i=t.viewGL.camera.castRay(new s["a"].Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),u=a.dist(o)/t.viewGL.rootNode.scale.x;this._groundMesh.scale.set(u,u,1)}},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}})},function(t,e,n){"use strict";function r(t,e){if(this.id=t,this.zr=e,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}r.prototype.resize=function(){this._mapbox.resize()},r.prototype.getMapbox=function(){return this._mapbox},r.prototype.clear=function(){},r.prototype.refresh=function(){this._mapbox.resize()};var i=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];r.prototype._initEvents=function(){var t=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},i.forEach(function(e){this._handlers[e]=function(e){var n={};for(var r in e)n[r]=e[r];n.bubbles=!1;var i=new e.constructor(e.type,n);t.dispatchEvent(i)},this.zr.dom.addEventListener(e,this._handlers[e])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},r.prototype.dispose=function(){i.forEach(function(t){this.zr.dom.removeEventListener(t,this._handlers[t])},this)},e["a"]=r},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(220),n(222),n(223);i.a.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},function(t,e){e.eachComponent({mainType:"maptalks3D",query:t},function(e){e.setMaptalksCameraOption(t)})})},function(t,e,n){"use strict";var r=n(221),i=n(0),a=n.n(i),o=n(101),s=Object(o["a"])("maptalks3D",r["a"],function(t){t.forEach(function(t){t.setCameraOption(t.model.getMaptalksCameraOption())})});a.a.registerCoordinateSystem("maptalks3D",s)},function(t,e,n){"use strict";var r=n(100);function i(){r["a"].apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}i.prototype=new r["a"],i.prototype.constructor=i,i.prototype.type="maptalks3D",e["a"]=i},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(28),o=n(29),s=["zoom","center","pitch","bearing"],u=i.a.extendComponentModel({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var t=this;return s.reduce(function(e,n){return e[n]=t.get(n),e},{})},setMaptalksCameraOption:function(t){null!=t&&s.forEach(function(e){null!=t[e]&&(this.option[e]=t[e])},this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(t){this._maptalks=t}});i.a.util.merge(u.prototype,a["a"]),i.a.util.merge(u.prototype,o["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(224),o=n(30),s=n(1),u=n(102);s["a"].Shader.import(u["a"]);i.a.extendComponentView({type:"maptalks3D",__ecgl__:!0,init:function(t,e){this._groundMesh=new s["a"].Mesh({geometry:new s["a"].PlaneGeometry,material:new s["a"].Material({shader:new s["a"].Shader({vertex:s["a"].Shader.source("ecgl.displayShadow.vertex"),fragment:s["a"].Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(t,e){var n=e.getZr();this._zrLayer=new a["a"]("maptalks3D",n,t.get("center"),t.get("zoom")),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new s["a"].Node,this._sceneHelper=new o["a"](this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMaptalks(),i=this._dispatchInteractAction.bind(this,e,r);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend"].forEach(function(t){r.on(t,i)})},render:function(t,e,n){this._zrLayer||this._initMaptalksLayer(t,n);var r=this._zrLayer.getMaptalks(),i=t.get("urlTemplate"),a=r.getBaseLayer();i!==this._oldUrlTemplate&&(a?a.setOptions({urlTemplate:i,attribution:t.get("attribution")}):(a=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:i,subdomains:["a","b","c"],attribution:t.get("attribution")}),r.setBaseLayer(a))),this._oldUrlTemplate=i,r.setCenter(t.get("center")),r.setZoom(t.get("zoom"),{animation:!1}),r.setPitch(t.get("pitch")),r.setBearing(t.get("bearing")),t.setMaptalks(r);var o=t.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(t),o.viewGL.setPostEffect(t.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._maptalks3DModel=t},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n),t.coordinateSystem.viewGL.scene.traverse(function(t){t.material&&(t.material.define("fragment","NORMAL_UP_AXIS",2),t.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(t,e,n,r){t.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(t,e,n){t.dispatchAction({type:"maptalks3DChangeCamera",pitch:e.getPitch(),zoom:e.getZoom(),center:e.getCenter().toArray(),bearing:e.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var t=this._maptalks3DModel.coordinateSystem,e=t.dataToPoint(t.center);this._groundMesh.position.set(e[0],e[1],-.001);var n=new s["a"].Plane(new s["a"].Vector3(0,0,1),0),r=t.viewGL.camera.castRay(new s["a"].Vector2(-1,-1)),i=t.viewGL.camera.castRay(new s["a"].Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),u=a.dist(o)/t.viewGL.rootNode.scale.x;this._groundMesh.scale.set(u,u,1)}},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}})},function(t,e,n){"use strict";function r(t,e,n,r){if(this.id=t,this.zr=e,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:n,zoom:r,fog:!1}),this._initEvents()}r.prototype.resize=function(){this._maptalks.checkSize()},r.prototype.getMaptalks=function(){return this._maptalks},r.prototype.clear=function(){},r.prototype.refresh=function(){this._maptalks.checkSize()};var i=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];r.prototype._initEvents=function(){var t=this.dom;this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},i.forEach(function(e){this._handlers[e]=function(n){var r={};for(var i in n)r[i]=n[i];r.bubbles=!1;var a=new n.constructor(n.type,r);"mousewheel"===e||"DOMMouseScroll"===e?t.dispatchEvent(a):t.firstElementChild.dispatchEvent(a)},this.zr.dom.addEventListener(e,this._handlers[e])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},r.prototype.dispose=function(){i.forEach(function(t){this.zr.dom.removeEventListener(t,this._handlers[t])},this),this._maptalks.remove()},e["a"]=r},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(226),n(229),n(231),n(17));i.a.registerVisual(Object(a["a"])("bar3D")),i.a.registerProcessor(function(t,e){t.eachSeriesByType("bar3d",function(t){var e=t.getData();e.filterSelf(function(t){return e.hasValue(t)})})})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(3),o=n(6),s=n(227),u=n(228),l=o["a"].vec3,c=i.a.helper.dataStack.isDimensionStacked;function h(t,e){var n=t.getData(),r=t.get("minHeight")||0,o=t.get("barSize"),s=["lng","lat","alt"].map(function(e){return t.coordDimToDataDim(e)[0]});if(null==o){var c=e.radius*Math.PI,h=Object(u["a"])(n,s[0],s[1]);o=[c/Math.sqrt(n.count()/h),c/Math.sqrt(n.count()/h)]}else i.a.util.isArray(o)||(o=[o,o]);var f=p(n,s);n.each(s,function(t,i,a,s){var u=n.get(f.dimension,s),c=f.isStacked?u-a:e.altitudeAxis.scale.getExtent()[0],h=Math.max(e.altitudeAxis.dataToCoord(a),r),d=e.dataToPoint([t,i,c]),p=e.dataToPoint([t,i,u]),m=l.sub([],p,d);l.normalize(m,m);var g=[o[0],h,o[1]];n.setItemLayout(s,[d,m,g])}),n.setLayout("orient",a["a"].UP.array)}function f(t,e){var n=t.getData(),r=t.get("barSize"),a=t.get("minHeight")||0,o=["lng","lat","alt"].map(function(e){return t.coordDimToDataDim(e)[0]});if(null==r){var s=Math.min(e.size[0],e.size[2]),l=Object(u["a"])(n,o[0],o[1]);r=[s/Math.sqrt(n.count()/l),s/Math.sqrt(n.count()/l)]}else i.a.util.isArray(r)||(r=[r,r]);var c=[0,1,0],h=p(n,o);n.each(o,function(t,i,o,s){var u=n.get(h.dimension,s),l=h.isStacked?u-o:e.altitudeAxis.scale.getExtent()[0],f=Math.max(e.altitudeAxis.dataToCoord(o),a),d=e.dataToPoint([t,i,l]),p=[r[0],f,r[1]];n.setItemLayout(s,[d,c,p])}),n.setLayout("orient",[1,0,0])}function d(t,e){var n=t.getData(),r=t.coordDimToDataDim("lng")[0],a=t.coordDimToDataDim("lat")[0],o=t.coordDimToDataDim("alt")[0],s=t.get("barSize"),l=t.get("minHeight")||0;if(null==s){var c=n.getDataExtent(r),h=n.getDataExtent(a),f=e.dataToPoint([c[0],h[0]]),d=e.dataToPoint([c[1],h[1]]),m=Math.min(Math.abs(f[0]-d[0]),Math.abs(f[1]-d[1]))||1,g=Object(u["a"])(n,r,a);s=[m/Math.sqrt(n.count()/g),m/Math.sqrt(n.count()/g)]}else i.a.util.isArray(s)||(s=[s,s]),s[0]/=e.getScale()/16,s[1]/=e.getScale()/16;var v=[0,0,1],_=[r,a,o],y=p(n,_);n.each(_,function(t,r,i,a){var o=n.get(y.dimension,a),u=y.isStacked?o-i:0,c=e.dataToPoint([t,r,u]),h=e.dataToPoint([t,r,o]),f=Math.max(h[2]-c[2],l),d=[s[0],f,s[1]];n.setItemLayout(a,[c,v,d])}),n.setLayout("orient",[1,0,0])}function p(t,e){var n=c(t,e[2]);return{dimension:n?t.getCalculationInfo("stackResultDimension"):e[2],isStacked:n}}i.a.registerLayout(function(t,e){t.eachSeriesByType("bar3D",function(t){var e=t.coordinateSystem,n=e&&e.type;if("globe"===n)h(t,e);else if("cartesian3D"===n)Object(s["a"])(t,e);else if("geo3D"===n)f(t,e);else{if("mapbox3D"!==n&&"maptalks3D"!==n)throw e?new Error("bar3D doesn't support coordinate system "+e.type):new Error("bar3D doesn't have coordinate system.");d(t,e)}})})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(6),o=a["a"].vec3,s=i.a.helper.dataStack.isDimensionStacked;function u(t){var e=t[0],n=t[1];return!(e>0&&n>0||e<0&&n<0)}function l(t,e){var n=t.getData(),r=t.get("barSize");if(null==r){var a,l,c=e.size,h=e.getAxis("x"),f=e.getAxis("y");a="category"===h.type?.7*h.getBandWidth():.6*Math.round(c[0]/Math.sqrt(n.count())),l="category"===f.type?.7*f.getBandWidth():.6*Math.round(c[1]/Math.sqrt(n.count())),r=[a,l]}else i.a.util.isArray(r)||(r=[r,r]);var d=e.getAxis("z").scale.getExtent(),p=u(d),m=["x","y","z"].map(function(e){return t.coordDimToDataDim(e)[0]}),g=s(n,m[2]),v=g?n.getCalculationInfo("stackResultDimension"):m[2];n.each(m,function(t,i,a,s){var u=n.get(v,s),l=g?u-a:p?0:d[0],c=e.dataToPoint([t,i,l]),h=e.dataToPoint([t,i,u]),f=o.dist(c,h),m=[0,h[1]<c[1]?-1:1,0];0===Math.abs(f)&&(f=.1);var _=[r[0],f,r[1]];n.setItemLayout(s,[c,m,_])}),n.setLayout("orient",[1,0,0])}e["a"]=l},function(t,e,n){"use strict";e["a"]=function(t,e,n){for(var r=t.getDataExtent(e),i=t.getDataExtent(n),a=r[1]-r[0]||r[0],o=i[1]-i[0]||i[0],s=50,u=new Uint8Array(s*s),l=0;l<t.count();l++){var c=t.get(e,l),h=t.get(n,l),f=Math.floor((c-r[0])/a*(s-1)),d=Math.floor((h-i[0])/o*(s-1)),p=d*s+f;u[p]=u[p]||1}var m=0;for(l=0;l<u.length;l++)u[l]&&m++;return m/u.length}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(32),u=n(230),l=n(66),c=n(6),h=c["a"].vec3;i.a.extendChartView({type:"bar3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this._api=e,this._labelsBuilder=new l["a"](256,256,e);var n=this;this._labelsBuilder.getLabelPosition=function(t,e,r){if(n._data){var i=n._data.getItemLayout(t),a=i[0],o=i[1],s=i[2][1];return h.scaleAndAdd([],a,o,r+s)}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(t,e,n){var r=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=r,this._barMesh||(this._barMesh=new a["a"].Mesh({geometry:new u["a"],shadowDepthMaterial:new a["a"].Material({shader:new a["a"].Shader(a["a"].Shader.source("ecgl.sm.depth.vertex"),a["a"].Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===t.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var i=t.coordinateSystem;if(this._doRender(t,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var o=i.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[o]("fragment","SRGB_DECODE")}this._data=t.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(t)},_updateAnimation:function(t){a["a"].updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,t)},_doRender:function(t,e){var n=t.getData(),r=t.get("shading"),i="color"!==r,o=this,s=this._barMesh,u="ecgl."+r;s.material&&s.material.shader.name===u||(s.material=a["a"].createMaterial(u,["VERTEX_COLOR"])),a["a"].setMaterialFromModel(r,s.material,t,e),s.geometry.enableNormal=i,s.geometry.resetOffset();var l=t.get("bevelSize"),c=t.get("bevelSmoothness");s.geometry.bevelSegments=c,s.geometry.bevelSize=l;var h=[],f=new Float32Array(4*n.count()),d=0,p=0,m=!1;n.each(function(t){if(n.hasValue(t)){var e=n.getItemVisual(t,"color"),r=n.getItemVisual(t,"opacity");null==r&&(r=1),a["a"].parseColor(e,h),h[3]*=r,f[d++]=h[0],f[d++]=h[1],f[d++]=h[2],f[d++]=h[3],h[3]>0&&(p++,h[3]<.99&&(m=!0))}}),s.geometry.setBarCount(p);var g=n.getLayout("orient"),v=this._barIndexOfData=new Int32Array(n.count());p=0;n.each(function(t){if(n.hasValue(t)){var e=n.getItemLayout(t),r=e[0],i=e[1],a=e[2],s=4*t;h[0]=f[s++],h[1]=f[s++],h[2]=f[s++],h[3]=f[s++],h[3]>0&&(o._barMesh.geometry.addBar(r,i,g,a,h,t),v[t]=p++)}else v[t]=-1}),s.geometry.dirty(),s.geometry.updateBoundingBox();var _=s.material;_.transparent=m,_.depthMask=!m,s.geometry.sortTriangles=m,this._initHandler(t,e)},_initHandler:function(t,e){var n=t.getData(),r=this._barMesh,i="cartesian3D"===t.coordinateSystem.type;r.seriesIndex=t.seriesIndex;var a=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",function(t){var o=r.geometry.getDataIndexOfVertex(t.triangle[0]);o!==a&&(this._downplay(a),this._highlight(o),this._labelsBuilder.updateLabels([o]),i&&e.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",o),n.get("y",o),n.get("z",o,!0)]})),a=o,r.dataIndex=o},this),r.on("mouseout",function(t){this._downplay(a),this._labelsBuilder.updateLabels(),a=-1,r.dataIndex=-1,i&&e.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_highlight:function(t){var e=this._data;if(e){var n=this._barIndexOfData[t];if(!(n<0)){var r=e.getItemModel(t),o=r.getModel("emphasis.itemStyle"),s=o.get("color"),u=o.get("opacity");if(null==s){var l=e.getItemVisual(t,"color");s=i.a.color.lift(l,-.4)}null==u&&(u=e.getItemVisual(t,"opacity"));var c=a["a"].parseColor(s);c[3]*=u,this._barMesh.geometry.setColor(n,c),this._api.getZr().refresh()}}},_downplay:function(t){var e=this._data;if(e){var n=this._barIndexOfData[t];if(!(n<0)){var r=e.getItemVisual(t,"color"),i=e.getItemVisual(t,"opacity"),o=a["a"].parseColor(r);o[3]*=i,this._barMesh.geometry.setColor(n,o),this._api.getZr().refresh()}}},highlight:function(t,e,n,r){this._toggleStatus("highlight",t,e,n,r)},downplay:function(t,e,n,r){this._toggleStatus("downplay",t,e,n,r)},_toggleStatus:function(t,e,n,r,a){var u=e.getData(),l=o["a"].queryDataIndex(u,a),c=this;null!=l?i.a.util.each(s["a"].normalizeToArray(l),function(e){"highlight"===t?this._highlight(e):this._downplay(e)},this):u.each(function(e){"highlight"===t?c._highlight(e):c._downplay(e)})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(38),o=n(65),s=n(15),u=n(6),l=u["a"].vec3,c=u["a"].mat3,h=s["a"].extend(function(){return{attributes:{position:new s["a"].Attribute("position","float",3,"POSITION"),normal:new s["a"].Attribute("normal","float",3,"NORMAL"),color:new s["a"].Attribute("color","float",4,"COLOR"),prevPosition:new s["a"].Attribute("prevPosition","float",3),prevNormal:new s["a"].Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(t){var e=this.enableNormal,n=this.getBarVertexCount()*t,r=this.getBarTriangleCount()*t;this.vertexCount!==n&&(this.attributes.position.init(n),e?this.attributes.normal.init(n):this.attributes.normal.value=null,this.attributes.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r),this._dataIndices=new Uint32Array(n))},getBarVertexCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarVertexCount(t):this.enableNormal?24:8},getBarTriangleCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarTriangleCount(t):12},_getBevelBarVertexCount:function(t){return 4*(t+1)*(t+1)*2},_getBevelBarTriangleCount:function(t){var e=4*t+3,n=2*t+1;return(e+1)*n*2+4},setColor:function(t,e){for(var n=this.getBarVertexCount(),r=n*t,i=n*(t+1),a=r;a<i;a++)this.attributes.color.set(a,e);this.dirtyAttribute("color")},getDataIndexOfVertex:function(t){return this._dataIndices?this._dataIndices[t]:null},addBar:function(){for(var t=l.create,e=l.scaleAndAdd,n=t(),r=t(),i=t(),a=t(),o=t(),s=t(),u=t(),c=[],h=[],f=0;f<8;f++)c[f]=t();var d=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],p=[0,1,2,0,2,3],m=[];for(f=0;f<d.length;f++)for(var g=d[f],v=0;v<2;v++){for(var _=[],y=0;y<3;y++)_.push(g[p[3*v+y]]);m.push(_)}return function(t,f,g,v,_,y){var x=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(t,f,g,v,this.bevelSize,this.bevelSegments,_);else{l.copy(i,f),l.normalize(i,i),l.cross(a,g,i),l.normalize(a,a),l.cross(r,i,a),l.normalize(a,a),l.negate(o,r),l.negate(s,i),l.negate(u,a),e(c[0],t,r,v[0]/2),e(c[0],c[0],a,v[2]/2),e(c[1],t,r,v[0]/2),e(c[1],c[1],u,v[2]/2),e(c[2],t,o,v[0]/2),e(c[2],c[2],u,v[2]/2),e(c[3],t,o,v[0]/2),e(c[3],c[3],a,v[2]/2),e(n,t,i,v[1]),e(c[4],n,r,v[0]/2),e(c[4],c[4],a,v[2]/2),e(c[5],n,r,v[0]/2),e(c[5],c[5],u,v[2]/2),e(c[6],n,o,v[0]/2),e(c[6],c[6],u,v[2]/2),e(c[7],n,o,v[0]/2),e(c[7],c[7],a,v[2]/2);var b=this.attributes;if(this.enableNormal){h[0]=r,h[1]=o,h[2]=i,h[3]=s,h[4]=a,h[5]=u;for(var w=this._vertexOffset,T=0;T<d.length;T++){for(var S=3*this._triangleOffset,E=0;E<6;E++)this.indices[S++]=w+p[E];w+=4,this._triangleOffset+=2}for(T=0;T<d.length;T++){var M=h[T];for(E=0;E<4;E++){var A=d[T][E];b.position.set(this._vertexOffset,c[A]),b.normal.set(this._vertexOffset,M),b.color.set(this._vertexOffset++,_)}}}else{for(T=0;T<m.length;T++){for(S=3*this._triangleOffset,E=0;E<3;E++)this.indices[S+E]=m[T][E]+this._vertexOffset;this._triangleOffset++}for(T=0;T<c.length;T++)b.position.set(this._vertexOffset,c[T]),b.color.set(this._vertexOffset++,_)}}var C=this._vertexOffset;for(T=x;T<C;T++)this._dataIndices[T]=y}}(),_addBevelBar:function(){var t=l.create(),e=l.create(),n=l.create(),r=c.create(),i=[],a=[1,-1,-1,1],o=[1,1,-1,-1],s=[2,0];return function(u,c,h,f,d,p,m){l.copy(e,c),l.normalize(e,e),l.cross(n,h,e),l.normalize(n,n),l.cross(t,e,n),l.normalize(n,n),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=e[0],r[4]=e[1],r[5]=e[2],r[6]=n[0],r[7]=n[1],r[8]=n[2],d=Math.min(f[0],f[2])/2*d;for(var g=0;g<3;g++)i[g]=Math.max(f[g]-2*d,0);var v=(f[0]-i[0])/2,_=(f[1]-i[1])/2,y=(f[2]-i[2])/2,x=[],b=[],w=this._vertexOffset,T=[];for(g=0;g<2;g++){T[g]=T[g]=[];for(var S=0;S<=p;S++)for(var E=0;E<4;E++){(0===S&&0===g||1===g&&S===p)&&T[g].push(w);for(var M=0;M<=p;M++){var A=M/p*Math.PI/2+Math.PI/2*E,C=S/p*Math.PI/2+Math.PI/2*g;b[0]=v*Math.cos(A)*Math.sin(C),b[1]=_*Math.cos(C),b[2]=y*Math.sin(A)*Math.sin(C),x[0]=b[0]+a[E]*i[0]/2,x[1]=b[1]+_+s[g]*i[1]/2,x[2]=b[2]+o[E]*i[2]/2,Math.abs(v-_)<1e-6&&Math.abs(_-y)<1e-6||(b[0]/=v*v,b[1]/=_*_,b[2]/=y*y),l.normalize(b,b),l.transformMat3(x,x,r),l.transformMat3(b,b,r),l.add(x,x,u),this.attributes.position.set(w,x),this.enableNormal&&this.attributes.normal.set(w,b),this.attributes.color.set(w,m),w++}}}var O=4*p+3,D=2*p+1,L=O+1;for(E=0;E<D;E++)for(g=0;g<=O;g++){var I=E*L+g+this._vertexOffset,P=E*L+(g+1)%L+this._vertexOffset,R=(E+1)*L+(g+1)%L+this._vertexOffset,N=(E+1)*L+g+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[R,I,P]),this.setTriangleIndices(this._triangleOffset++,[R,N,I])}this.setTriangleIndices(this._triangleOffset++,[T[0][0],T[0][2],T[0][1]]),this.setTriangleIndices(this._triangleOffset++,[T[0][0],T[0][3],T[0][2]]),this.setTriangleIndices(this._triangleOffset++,[T[1][0],T[1][1],T[1][2]]),this.setTriangleIndices(this._triangleOffset++,[T[1][0],T[1][2],T[1][3]]),this._vertexOffset=w}}()});i.a.util.defaults(h.prototype,a["a"]),i.a.util.defaults(h.prototype,o["a"]),e["a"]=h},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(31),o=n(32),s=n(39),u=n(50),l=i.a.extendSeriesModel({type:"series.bar3D",dependencies:["globe"],visualColorAccessPath:"itemStyle.color",getInitialData:function(t,e){return Object(u["a"])(this)},getFormattedLabel:function(t,e,n,r){var i=o["a"].getFormattedLabel(this,t,e,n,r);return null==i&&(i=this.getData().get("z",t)),i},formatTooltip:function(t){return Object(s["a"])(this,t)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});i.a.util.merge(l.prototype,a["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(233),n(234),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()("line3D","circle",null)),i.a.registerVisual(Object(s["a"])("line3D")),i.a.registerLayout(function(t,e){t.eachSeriesByType("line3D",function(t){var e=t.getData(),n=t.coordinateSystem;if(n){if("cartesian3D"!==n.type)return void console.error("line3D needs cartesian3D coordinateSystem");var r=new Float32Array(3*e.count()),i=[],a=[],o=n.dimensions,s=o.map(function(e){return t.coordDimToDataDim(e)[0]});n&&e.each(s,function(t,e,o,s){i[0]=t,i[1]=e,i[2]=o,n.dataToPoint(i,a),r[3*s]=a[0],r[3*s+1]=a[1],r[3*s+2]=a[2]}),e.setLayout("points",r)}})})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(39),o=n(50);i.a.extendSeriesModel({type:"series.line3D",dependencies:["grid3D"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){return Object(o["a"])(this)},formatTooltip:function(t){return Object(a["a"])(this,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(25),u=n(9),l=n(3),c=n(235),h=n.n(c),f=n(6),d=n(46),p=f["a"].vec3;a["a"].Shader.import(d["a"]);i.a.extendChartView({type:"line3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this._api=e},render:function(t,e,n){var r=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=r,this._line3DMesh||(this._line3DMesh=new a["a"].Mesh({geometry:new s["a"]({useNativeLine:!1,sortTriangles:!0}),material:new a["a"].Material({shader:a["a"].createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var i=t.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this.groupGL);var o=i.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[o]("fragment","SRGB_DECODE")}this._doRender(t,n),this._data=t.getData(),this._camera=i.viewGL.camera,this.updateCamera(),this._updateAnimation(t)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(t,e){var n=t.getData(),r=this._line3DMesh;r.geometry.resetOffset();var i=n.getLayout("points"),s=[],u=new Float32Array(i.length/3*4),l=0,c=!1;n.each(function(t){var e=n.getItemVisual(t,"color"),r=n.getItemVisual(t,"opacity");null==r&&(r=1),a["a"].parseColor(e,s),s[3]*=r,u[l++]=s[0],u[l++]=s[1],u[l++]=s[2],u[l++]=s[3],s[3]<.99&&(c=!0)}),r.geometry.setVertexCount(r.geometry.getPolylineVertexCount(i)),r.geometry.setTriangleCount(r.geometry.getPolylineTriangleCount(i)),r.geometry.addPolyline(i,u,o["a"].firstNotNull(t.get("lineStyle.width"),1)),r.geometry.dirty(),r.geometry.updateBoundingBox();var h=r.material;h.transparent=c,h.depthMask=!c;var f=t.getModel("debug.wireframe");f.get("show")?(r.geometry.createAttribute("barycentric","float",3),r.geometry.generateBarycentric(),r.material.set("both","WIREFRAME_TRIANGLE"),r.material.set("wireframeLineColor",a["a"].parseColor(f.get("lineStyle.color")||"rgba(0,0,0,0.5)")),r.material.set("wireframeLineWidth",o["a"].firstNotNull(f.get("lineStyle.width"),1))):r.material.set("both","WIREFRAME_TRIANGLE"),this._points=i,this._initHandler(t,e)},_updateAnimation:function(t){a["a"].updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,t)},_initHandler:function(t,e){var n=t.getData(),r=t.coordinateSystem,i=this._line3DMesh,a=-1;i.seriesIndex=t.seriesIndex,i.off("mousemove"),i.off("mouseout"),i.on("mousemove",function(t){var o=r.pointToData(t.point.array),s=n.indicesOfNearest("x",o[0])[0];s!==a&&(e.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",s),n.get("y",s),n.get("z",s)]}),i.dataIndex=s),a=s},this),i.on("mouseout",function(t){a=-1,i.dataIndex=-1,e.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateNDCPosition:function(){var t=new u["a"],e=this._camera;u["a"].multiply(t,e.projectionMatrix,e.viewMatrix);var n=this._positionNDC,r=this._points,i=r.length/3;n&&n.length/2===i||(n=this._positionNDC=new Float32Array(2*i));for(var a=[],o=0;o<i;o++){var s=3*o,l=2*o;a[0]=r[s],a[1]=r[s+1],a[2]=r[s+2],a[3]=1,p.transformMat4(a,a,t.array),n[l]=a[0]/a[3],n[l+1]=a[1]/a[3]}},_pick:function(t,e,n,r,i,a){var o=this._positionNDC,s=this._data.hostModel,u=s.get("lineStyle.width"),c=-1,f=n.viewport.width,d=n.viewport.height,p=.5*f,m=.5*d;t=(t+1)*p,e=(e+1)*m;for(var g=1;g<o.length/2;g++){var v=(o[2*(g-1)]+1)*p,_=(o[2*(g-1)+1]+1)*m,y=(o[2*g]+1)*p,x=(o[2*g+1]+1)*m;if(h.a.containStroke(v,_,y,x,u,t,e)){var b=(v-t)*(v-t)+(_-e)*(_-e),w=(y-t)*(y-t)+(x-e)*(x-e);c=b<w?g-1:g}}if(c>=0){var T=3*c,S=new l["a"](this._points[T],this._points[T+1],this._points[T+2]);a.push({dataIndex:c,point:S,pointWorld:S.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(S)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e){function n(t,e,n,r,i,a,o){if(0===i)return!1;var s=i,u=0,l=t;if(o>e+s&&o>r+s||o<e-s&&o<r-s||a>t+s&&a>n+s||a<t-s&&a<n-s)return!1;if(t===n)return Math.abs(a-t)<=s/2;u=(e-r)/(t-n),l=(t*r-n*e)/(t-n);var c=u*a-o+l,h=c*c/(u*u+1);return h<=s/2*s/2}e.containStroke=n},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(237),n(238),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()("scatter3D","circle",null)),i.a.registerVisual(Object(s["a"])("scatter3D")),i.a.registerLayout({seriesType:"scatter3D",reset:function(t){var e=t.coordinateSystem;if(e){var n=e.dimensions;if(n.length<3)return void console.error("scatter3D needs 3D coordinateSystem");var r=n.map(function(e){return t.coordDimToDataDim(e)[0]}),i=[],a=[];return{progress:function(t,n){for(var o=new Float32Array(3*(t.end-t.start)),s=t.start;s<t.end;s++){var u=3*(s-t.start);i[0]=n.get(r[0],s),i[1]=n.get(r[1],s),i[2]=n.get(r[2],s),e.dataToPoint(i,a),o[u]=a[0],o[u+1]=a[1],o[u+2]=a[2]}n.setLayout("points",o)}}}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(32),o=n(39),s=n(50);i.a.extendSeriesModel({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualColorAccessPath:"itemStyle.color",getInitialData:function(t,e){return Object(s["a"])(this)},getFormattedLabel:function(t,e,n,r){var i=a["a"].getFormattedLabel(this,t,e,n,r);if(null==i){var o=this.getData(),s=o.dimensions[o.dimensions.length-1];i=o.get(s,t)}return i},formatTooltip:function(t){return Object(o["a"])(this,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(32),u=n(67);i.a.extendChartView({type:"scatter3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this._pointsBuilderList=[],this._currentStep=0},render:function(t,e,n){if(this.groupGL.removeAll(),t.getData().count()){var r=t.coordinateSystem;if(!r||!r.viewGL)throw new Error("Invalid coordinate system");r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera;var i=this._pointsBuilderList[0];i||(i=this._pointsBuilderList[0]=new u["a"](!1,n)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),i.update(t,e,n),i.updateView(r.viewGL.camera)}},incrementalPrepareRender:function(t,e,n){var r=t.coordinateSystem;if(!r||!r.viewGL)throw new Error("Invalid coordinate system");r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera,this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(t,e,n,r){if(!(t.end<=t.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new u["a"](!1,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),i.update(e,n,r,t.start,t.end),i.updateView(e.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach(function(t){t.updateView(this._camera)},this)},highlight:function(t,e,n,r){this._toggleStatus("highlight",t,e,n,r)},downplay:function(t,e,n,r){this._toggleStatus("downplay",t,e,n,r)},_toggleStatus:function(t,e,n,r,a){var u=e.getData(),l=o["a"].queryDataIndex(u,a),c="highlight"===t;null!=l?i.a.util.each(s["a"].normalizeToArray(l),function(t){for(var e=0;e<this._pointsBuilderList.length;e++){var n=this._pointsBuilderList[e];c?n.highlight(u,t):n.downplay(u,t)}},this):u.each(function(t){for(var e=0;e<this._pointsBuilderList.length;e++){var n=this._pointsBuilderList[e];c?n.highlight(u,t):n.downplay(u,t)}})},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r);function a(t,e,n){e=e||document.createElement("canvas");e.width=t,e.height=t;var r=e.getContext("2d");return n&&n(r),e}function o(t,e,n,r){i.a.util.isArray(e)||(e=[e,e]);var a=u.getMarginByStyle(n,r),o=e[0]+a.left+a.right,s=e[1]+a.top+a.bottom,l=i.a.helper.createSymbol(t,0,0,e[0],e[1]),c=Math.max(o,s);l.position=[a.left,a.top],o>s?l.position[1]+=(c-s)/2:l.position[0]+=(c-o)/2;var h=l.getBoundingRect();return l.position[0]-=h.x,l.position[1]-=h.y,l.setStyle(n),l.update(),l.__size=c,l}function s(t,e,n){var r=e.width,i=e.height,a=t.canvas.width,o=t.canvas.height,s=r/a,u=i/o;function l(t){return t<128?1:-1}function c(t,a){var o=1/0;t=Math.floor(t*s),a=Math.floor(a*u);for(var c=a*r+t,h=e.data[4*c],f=l(h),d=Math.max(a-n,0);d<Math.min(a+n,i);d++)for(var p=Math.max(t-n,0);p<Math.min(t+n,r);p++){c=d*r+p;var m=e.data[4*c],g=l(m),v=p-t,_=d-a;if(f!==g){var y=v*v+_*_;y<o&&(o=y)}}return f*Math.sqrt(o)}for(var h=t.createImageData(a,o),f=0;f<o;f++)for(var d=0;d<a;d++){var p=c(d,f),m=p/n*.5+.5,g=4*(f*a+d);h.data[g++]=255*(1-m),h.data[g++]=255*(1-m),h.data[g++]=255*(1-m),h.data[g++]=255}return h}var u={getMarginByStyle:function(t){var e=t.minMargin||0,n=0;t.stroke&&"none"!==t.stroke&&(n=null==t.lineWidth?1:t.lineWidth);var r=t.shadowBlur||0,i=t.shadowOffsetX||0,a=t.shadowOffsetY||0,o={};return o.left=Math.max(n/2,-i+r,e),o.right=Math.max(n/2,i+r,e),o.top=Math.max(n/2,-a+r,e),o.bottom=Math.max(n/2,a+r,e),o},createSymbolSprite:function(t,e,n,r){var i=o(t,e,n),s=u.getMarginByStyle(n);return{image:a(i.__size,r,function(t){i.brush(t)}),margin:s}},createSDFFromCanvas:function(t,e,n,r){return a(e,r,function(e){var r=t.getContext("2d"),i=r.getImageData(0,0,t.width,t.height);e.putImageData(s(e,i,n),0,0)})},createSimpleSprite:function(t,e){return a(t,e,function(e){var n=t/2;e.beginPath(),e.arc(n,n,60,0,2*Math.PI,!1),e.closePath();var r=e.createRadialGradient(n,n,0,n,n,n);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=r,e.fill()})}};e["a"]=u},function(t,e,n){"use strict";var r=n(1),i=n(241),a=n(0),o=n.n(a),s=n(6),u=n(242),l=s["a"].vec4;r["a"].Shader.import(u["a"]);var c=r["a"].Mesh.extend(function(){var t=new r["a"].Geometry({dynamic:!0,attributes:{color:new r["a"].Geometry.Attribute("color","float",4,"COLOR"),position:new r["a"].Geometry.Attribute("position","float",3,"POSITION"),size:new r["a"].Geometry.Attribute("size","float",1),prevPosition:new r["a"].Geometry.Attribute("prevPosition","float",3),prevSize:new r["a"].Geometry.Attribute("prevSize","float",1)}});o.a.util.extend(t,i["a"]);var e=new r["a"].Material({shader:r["a"].createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});e.enableTexture("sprite"),e.define("both","VERTEX_COLOR"),e.define("both","VERTEX_SIZE");var n=new r["a"].Texture2D({image:document.createElement("canvas"),flipY:!1});return e.set("sprite",n),t.pick=this._pick.bind(this),{geometry:t,material:e,mode:r["a"].Mesh.POINTS,sizeScale:1}},{_pick:function(t,e,n,i,a,o){var s=this._positionNDC;if(s)for(var u=n.viewport,l=2/u.width,c=2/u.height,h=this.geometry.vertexCount-1;h>=0;h--){var f;f=this.geometry.indices?this.geometry.indices[h]:h;var d=s[2*f],p=s[2*f+1],m=this.geometry.attributes.size.get(f)/this.sizeScale,g=m/2;if(t>d-g*l&&t<d+g*l&&e>p-g*c&&e<p+g*c){var v=new r["a"].Vector3,_=new r["a"].Vector3;this.geometry.attributes.position.get(f,v.array),r["a"].Vector3.transformMat4(_,v,this.worldTransform),o.push({vertexIndex:f,point:v,pointWorld:_,target:this,distance:_.distance(i.getWorldPosition())})}}},updateNDCPosition:function(t,e,n){var r=this._positionNDC,i=this.geometry;r&&r.length/2===i.vertexCount||(r=this._positionNDC=new Float32Array(2*i.vertexCount));for(var a=l.create(),o=0;o<i.vertexCount;o++)i.attributes.position.get(o,a),a[3]=1,l.transformMat4(a,a,t.array),l.scale(a,a,1/a[3]),r[2*o]=a[0],r[2*o+1]=a[1]}});e["a"]=c},function(t,e,n){"use strict";var r=n(97),i=n(6),a=i["a"].vec3;e["a"]={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(t,e){var n=this.indices,r=a.create();if(!n){n=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var i=0;i<n.length;i++)n[i]=i}if(0===e){var o,s=this.attributes.position,u=(t=t.array,0);this._zList&&this._zList.length===this.vertexCount||(this._zList=new Float32Array(this.vertexCount));for(i=0;i<this.vertexCount;i++){s.get(i,r);var l=a.sqrDist(r,t);isNaN(l)&&(l=1e7,u++),0===i?(o=l,l=0):l-=o,this._zList[i]=l}this._noneCount=u}if(this.vertexCount<2e4)0===e&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(i=0;i<3;i++)this._progressiveQuickSort(3*e+i);this.dirtyIndices()},_simpleSort:function(t){var e=this._zList,n=this.indices;function i(t,n){return e[n]-e[t]}t?Array.prototype.sort.call(n,i):r["a"].sort(n,i,0,n.length-1)},_progressiveQuickSort:function(t){var e=this._zList,n=this.indices;this._quickSort=this._quickSort||new r["a"],this._quickSort.step(n,function(t,n){return e[n]-e[t]},t)}}},function(t,e,n){"use strict";e["a"]="@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_SIZE\nattribute float size;\n#else\nuniform float u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n #ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n #else\n vec3 pos = position;\n #endif\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_SIZE\n#ifdef VERTEX_ANIMATION\n v_Size = mix(prevSize, size, percent);\n#else\n v_Size = size;\n#endif\n#else\n v_Size = u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\n v_Color = a_FillColor;\n #endif\n\n gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import clay.util.srgb\n\nvoid main()\n{\n gl_FragColor = color;\n\n vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n #endif\n\n#ifdef SPRITE_ENABLED\n float d = texture2D(sprite, gl_PointCoord).r;\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n if (lineWidth > 0.0) {\n float sLineWidth = lineWidth / 2.0;\n\n float outlineMaxValue0 = 0.5 + sLineWidth;\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n float outlineMinValue1 = 0.5 - sLineWidth;\n\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n float a = _strokeColor.a;\n if (d <= outlineMinValue1) {\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n }\n else {\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n }\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n }\n }\n#endif\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(244),n(245),n(248),n(17));i.a.registerVisual(Object(a["a"])("lines3D")),i.a.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},function(){}),i.a.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},function(){}),i.a.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},function(){})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(6),o=a["a"].vec3,s=a["a"].vec2,u=o.normalize,l=o.cross,c=o.sub,h=o.add,f=o.create,d=f(),p=f(),m=f(),g=f(),v=[],_=[];function y(t,e){s.copy(v,t[0]),s.copy(_,t[1]);var n=[],r=n[0]=f(),i=n[1]=f(),a=n[2]=f(),y=n[3]=f();e.dataToPoint(v,r),e.dataToPoint(_,y),u(d,r),c(p,y,r),u(p,p),l(m,p,d),u(m,m),l(p,d,m),h(i,d,p),u(i,i),u(d,y),c(p,r,y),u(p,p),l(m,p,d),u(m,m),l(p,d,m),h(a,d,p),u(a,a),h(g,r,y),u(g,g);var x=o.dot(r,g),b=o.dot(g,i),w=(Math.max(o.len(r),o.len(y))-x)/b*2;return o.scaleAndAdd(i,r,i,w),o.scaleAndAdd(a,y,a,w),n}function x(t,e,n){var r=[],i=r[0]=o.create(),a=r[1]=o.create(),s=r[2]=o.create(),u=r[3]=o.create();e.dataToPoint(t[0],i),e.dataToPoint(t[1],u);var l=o.dist(i,u);return o.lerp(a,i,u,.3),o.lerp(s,i,u,.3),o.scaleAndAdd(a,a,n,Math.min(.1*l,10)),o.scaleAndAdd(s,s,n,Math.min(.1*l,10)),r}function b(t,e){for(var n=new Float32Array(3*t.length),r=0,i=[],a=0;a<t.length;a++)e.dataToPoint(t[a],i),n[r++]=i[0],n[r++]=i[1],n[r++]=i[2];return n}function w(t){var e=[];return t.each(function(n){var r=t.getItemModel(n),i=r.option instanceof Array?r.option:r.getShallow("coords",!0);if(!(i instanceof Array&&i.length>0&&i[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(i)+". Lines must have 2d coords array in data item.");e.push(i)}),{coordsList:e}}function T(t,e){var n=t.getData(),r=t.get("polyline");n.setLayout("lineType",r?"polyline":"cubicBezier");var i=w(n);n.each(function(t){var a=i.coordsList[t],o=r?b:y;n.setItemLayout(t,o(a,e))})}function S(t,e,n){var r=t.getData(),i=t.get("polyline"),a=w(r);r.setLayout("lineType",i?"polyline":"cubicBezier"),r.each(function(t){var o=a.coordsList[t],s=i?b(o,e):x(o,e,n);r.setItemLayout(t,s)})}i.a.registerLayout(function(t,e){t.eachSeriesByType("lines3D",function(t){var e=t.coordinateSystem;"globe"===e.type?T(t,e):"geo3D"===e.type?S(t,e,[0,1,0]):"mapbox3D"!==e.type&&"maptalks3D"!==e.type||S(t,e,[0,0,1])})})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(25),s=n(246),u=n(46);function l(t){return null!=t.radius?t.radius:null!=t.size?Math.max(t.size[0],t.size[1],t.size[2]):100}a["a"].Shader.import(u["a"]);i.a.extendChartView({type:"lines3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this._meshLinesMaterial=new a["a"].Material({shader:a["a"].createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new a["a"].Mesh({geometry:new o["a"],material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new s["a"]},render:function(t,e,n){this.groupGL.add(this._linesMesh);var r=t.coordinateSystem,i=t.getData();if(r&&r.viewGL){var o=r.viewGL;o.add(this.groupGL),this._updateLines(t,e,n);var s=r.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[s]("fragment","SRGB_DECODE"),this._trailMesh.material[s]("fragment","SRGB_DECODE")}var u=this._trailMesh;if(u.stopAnimation(),t.get("effect.show")){this.groupGL.add(u),u.updateData(i,n,this._linesMesh.geometry),u.__time=u.__time||0;var l=36e5;this._curveEffectsAnimator=u.animate("",{loop:!0}).when(l,{__time:l}).during(function(){u.setAnimationTime(u.__time)}).start()}else this.groupGL.remove(u),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===t.get("blendMode")?a["a"].additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var t=this._curveEffectsAnimator;t&&(t.isPaused()?t.resume():t.pause())},_updateLines:function(t,e,n){var r=t.getData(),i=t.coordinateSystem,o=this._linesMesh.geometry,s=t.get("polyline");o.expandLine=!0;var u=l(i);o.segmentScale=u/20;var c="lineStyle.width".split("."),h=n.getDevicePixelRatio(),f=0;r.each(function(t){var e=r.getItemModel(t),n=e.get(c);null==n&&(n=1),r.setItemVisual(t,"lineWidth",n),f=Math.max(n,f)}),o.useNativeLine=!1;var d=0,p=0;r.each(function(t){var e=r.getItemLayout(t);s?(d+=o.getPolylineVertexCount(e),p+=o.getPolylineTriangleCount(e)):(d+=o.getCubicCurveVertexCount(e[0],e[1],e[2],e[3]),p+=o.getCubicCurveTriangleCount(e[0],e[1],e[2],e[3]))}),o.setVertexCount(d),o.setTriangleCount(p),o.resetOffset();var m=[];r.each(function(t){var e=r.getItemLayout(t),n=r.getItemVisual(t,"color"),i=r.getItemVisual(t,"opacity"),u=r.getItemVisual(t,"lineWidth")*h;null==i&&(i=1),m=a["a"].parseColor(n,m),m[3]*=i,s?o.addPolyline(e,m,u):o.addCubicCurve(e[0],e[1],e[2],e[3],m,u)}),o.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(1)),a=n(6),o=n(25),s=n(247),u=a["a"].vec3;function l(t){return t>0?1:-1}i["a"].Shader.import(s["a"]),e["a"]=i["a"].Mesh.extend(function(){var t=new i["a"].Material({shader:new i["a"].Shader(i["a"].Shader.source("ecgl.trail2.vertex"),i["a"].Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),e=new o["a"]({dynamic:!0});return e.createAttribute("dist","float",1),e.createAttribute("distAll","float",1),e.createAttribute("start","float",1),{geometry:e,material:t,culling:!1,$ignorePicking:!0}},{updateData:function(t,e,n){var r=t.hostModel,a=this.geometry,o=r.getModel("effect"),s=o.get("trailWidth")*e.getDevicePixelRatio(),c=o.get("trailLength"),h=r.get("effect.constantSpeed"),f=1e3*r.get("effect.period"),d=null!=h;this.getScene()||console.error("TrailMesh must been add to scene before updateData"),d?this.material.set("speed",h/1e3):this.material.set("period",f),this.material[d?"define":"undefine"]("vertex","CONSTANT_SPEED");var p=r.get("polyline");a.trailLength=c,this.material.set("trailLength",c),a.resetOffset(),["position","positionPrev","positionNext"].forEach(function(t){a.attributes[t].value=n.attributes[t].value});var m=["dist","distAll","start","offset","color"];m.forEach(function(t){a.attributes[t].init(a.vertexCount)}),a.indices=n.indices;var g=[],v=o.get("trailColor"),_=o.get("trailOpacity"),y=null!=v,x=null!=_;this.updateWorldTransform();var b=this.worldTransform.x.len(),w=this.worldTransform.y.len(),T=this.worldTransform.z.len(),S=0,E=0;t.each(function(e){var r=t.getItemLayout(e),o=x?_:t.getItemVisual(e,"opacity"),c=t.getItemVisual(e,"color");null==o&&(o=1),g=i["a"].parseColor(y?v:c,g),g[3]*=o;for(var h=p?n.getPolylineVertexCount(r):n.getCubicCurveVertexCount(r[0],r[1],r[2],r[3]),m=0,M=[],A=[],C=S;C<S+h;C++)a.attributes.position.get(C,M),M[0]*=b,M[1]*=w,M[2]*=T,C>S&&(m+=u.dist(M,A)),a.attributes.dist.set(C,m),u.copy(A,M);E=Math.max(E,m);var O=Math.random()*(d?m:f);for(C=S;C<S+h;C++)a.attributes.distAll.set(C,m),a.attributes.start.set(C,O),a.attributes.offset.set(C,l(n.attributes.offset.get(C))*s/2),a.attributes.color.set(C,g);S+=h}),this.material.set("spotSize",.1*E*c),this.material.set("spotIntensity",o.get("spotIntensity")),a.dirty()},setAnimationTime:function(t){this.material.set("time",t)}})},function(t,e,n){"use strict";e["a"]="@export ecgl.trail2.vertex\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute float dist;\nattribute float distAll;\nattribute float start;\n\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nuniform float speed : 0;\nuniform float trailLength: 0.3;\nuniform float time;\nuniform float period: 1000;\n\nuniform float spotSize: 1;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n\n#ifdef CONSTANT_SPEED\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\n#else\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\n#endif\n\n float trailLen = distAll * trailLength;\n\n v_Percent = (dist - t * distAll) / trailLen;\n\n v_SpotPercent = spotSize / distAll;\n\n }\n@end\n\n\n@export ecgl.trail2.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform float spotIntensity: 5;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n if (v_Percent > 1.0 || v_Percent < 0.0) {\n discard;\n }\n\n float fade = v_Percent;\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n\n if (v_Percent > (1.0 - v_SpotPercent)) {\n gl_FragColor.rgb *= spotIntensity;\n }\n\n gl_FragColor.a *= fade;\n}\n\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:"series.lines3D",dependencies:["globe"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var n=new i.a.List(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[i]:a:void 0}),n},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(250),n(251),n(17));i.a.registerVisual(Object(a["a"])("polygons3D"))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(31);function o(t,e){for(var n=[],r=0;r<e.length;r++)n.push(t.dataToPoint(e[r]));return n}var s=i.a.extendSeriesModel({type:"series.polygons3D",getRegionModel:function(t){return this.getData().getItemModel(t)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,n=this.getData().getItemModel(t),r=n.option instanceof Array?n.option:n.getShallow("coords");n.get("multiPolygon")||(r=[r]);for(var i=[],a=0;a<r.length;a++){for(var s=[],u=1;u<r[a].length;u++)s.push(o(e,r[a][u]));i.push({exterior:o(e,r[a][0]),interiors:s})}return i},getInitialData:function(t){var e=new i.a.List(["value"],this);return e.hasItemOption=!1,e.initData(t.data,[],function(t,n,r,i){if(t instanceof Array)return NaN;e.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[i]:a:void 0}),e},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});i.a.util.merge(s.prototype,a["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(64),o=n(1);i.a.extendChartView({type:"polygons3D",__ecgl__:!0,init:function(t,e){this.groupGL=new o["a"].Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(t,e,n){this.groupGL.removeAll();var r=t.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL);var i=this._geo3DBuilderList[0];i||(i=new a["a"](n),i.extrudeY="mapbox3D"!==r.type&&"maptalks3D"!==r.type,this._geo3DBuilderList[0]=i),this._updateShaderDefines(r,i),i.update(t,e,n),this._geo3DBuilderList.length=1,this.groupGL.add(i.rootNode)},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll();var r=t.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(t,e,n,r){var i=this._geo3DBuilderList[this._currentStep],o=e.coordinateSystem;i||(i=new a["a"](r),i.extrudeY="mapbox3D"!==o.type&&"maptalks3D"!==o.type,this._geo3DBuilderList[this._currentStep]=i),i.update(e,n,r,t.start,t.end),this.groupGL.add(i.rootNode),this._updateShaderDefines(o,i),this._currentStep++},_updateShaderDefines:function(t,e){var n=t.viewGL.isLinearSpace()?"define":"undefine";e.rootNode.traverse(function(e){e.material&&(e.material[n]("fragment","SRGB_DECODE"),"mapbox3D"!==t.type&&"maptalks3D"!==t.type||(e.material.define("fragment","NORMAL_UP_AXIS",2),e.material.define("fragment","NORMAL_FRONT_AXIS",1)))})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(253),n(254),n(255),n(17));i.a.registerVisual(Object(a["a"])("surface"))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(31),o=n(39),s=n(50),u=i.a.extendSeriesModel({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualColorAccessPath:"itemStyle.color",formatTooltip:function(t){return Object(o["a"])(this,t)},getInitialData:function(t,e){var n=t.data;function r(t){return!(isNaN(t.min)||isNaN(t.max)||isNaN(t.step))}function a(t){var e=i.a.number.getPrecisionSafe;return Math.max(e(t.min),e(t.max),e(t.step))+1}if(!n)if(t.parametric){var o=t.parametricEquation||{},u=o.u||{},l=o.v||{};["u","v"].forEach(function(t){r(o[t])||console.error("Invalid parametricEquation.%s",t)}),["x","y","z"].forEach(function(t){"function"===typeof o[t]||console.error("parametricEquation.%s needs to be function",t)});var c=Math.floor((u.max+u.step-u.min)/u.step),h=Math.floor((l.max+l.step-l.min)/l.step);n=new Float32Array(c*h*5);var f=a(u),d=a(l);for(E=0,M=0;M<h;M++)for(A=0;A<c;A++){var p=A*u.step+u.min,m=M*l.step+l.min,g=i.a.number.round(Math.min(p,u.max),f),v=i.a.number.round(Math.min(m,l.max),d);C=o.x(g,v),O=o.y(g,v),I=o.z(g,v);n[E++]=C,n[E++]=O,n[E++]=I,n[E++]=g,n[E++]=v}}else{var _=t.equation||{},y=_.x||{},x=_.y||{};if(["x","y"].forEach(function(t){r(_[t])||console.error("Invalid equation.%s",t)}),"function"!==typeof _.z)return void console.error("equation.z needs to be function");var b=Math.floor((y.max+y.step-y.min)/y.step),w=Math.floor((x.max+x.step-x.min)/x.step);n=new Float32Array(b*w*3);for(var T=a(y),S=a(x),E=0,M=0;M<w;M++)for(var A=0;A<b;A++){var C=A*y.step+y.min,O=M*x.step+x.min,D=i.a.number.round(Math.min(C,y.max),T),L=i.a.number.round(Math.min(O,x.max),S),I=_.z(D,L);n[E++]=D,n[E++]=L,n[E++]=I}}var P=["x","y","z"];t.parametric&&P.push("u","v");var R=Object(s["a"])(this,P,n);return R},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},itemStyle:{},animationDurationUpdate:500}});i.a.util.merge(u.prototype,a["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=(n(2),n(6)),s=n(65),u=o["a"].vec3;function l(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])}i.a.extendChartView({type:"surface",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node},render:function(t,e,n){var r=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=r,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var i=t.coordinateSystem,o=t.get("shading"),s=t.getData(),u="ecgl."+o;if(this._surfaceMesh.material&&this._surfaceMesh.material.shader.name===u||(this._surfaceMesh.material=a["a"].createMaterial(u,["VERTEX_COLOR","DOUBLE_SIDED"])),a["a"].setMaterialFromModel(o,this._surfaceMesh.material,t,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var l=i.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[l]("fragment","SRGB_DECODE")}var c=t.get("parametric"),h=this._getDataShape(s,c),f=t.getModel("wireframe"),d=f.get("lineStyle.width"),p=f.get("show")&&d>0;this._updateSurfaceMesh(this._surfaceMesh,t,h,p);var m=this._surfaceMesh.material;p?(m.define("WIREFRAME_QUAD"),m.set("wireframeLineWidth",d),m.set("wireframeLineColor",a["a"].parseColor(f.get("lineStyle.color")))):m.undefine("WIREFRAME_QUAD"),this._initHandler(t,n),this._updateAnimation(t)},_updateAnimation:function(t){a["a"].updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,t)},_createSurfaceMesh:function(){var t=new a["a"].Mesh({geometry:new a["a"].Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new a["a"].Material({shader:new a["a"].Shader(a["a"].Shader.source("ecgl.sm.depth.vertex"),a["a"].Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return t.geometry.createAttribute("barycentric","float",4),t.geometry.createAttribute("prevPosition","float",3),t.geometry.createAttribute("prevNormal","float",3),i.a.util.extend(t.geometry,s["a"]),t},_initHandler:function(t,e){var n=t.getData(),r=this._surfaceMesh,i=t.coordinateSystem;function a(t,e){for(var n=1/0,i=-1,a=[],o=0;o<t.length;o++){r.geometry.attributes.position.get(t[o],a);var s=u.dist(e.array,a);s<n&&(n=s,i=t[o])}return i}r.seriesIndex=t.seriesIndex;var o=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",function(t){var s=a(t.triangle,t.point);if(s>=0){var l=[];r.geometry.attributes.position.get(s,l);for(var c=i.pointToData(l),h=1/0,f=-1,d=[],p=0;p<n.count();p++){d[0]=n.get("x",p),d[1]=n.get("y",p),d[2]=n.get("z",p);var m=u.squaredDistance(d,c);m<h&&(f=p,h=m)}f!==o&&e.dispatchAction({type:"grid3DShowAxisPointer",value:c}),o=f,r.dataIndex=f}else r.dataIndex=-1},this),r.on("mouseout",function(t){o=-1,r.dataIndex=-1,e.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateSurfaceMesh:function(t,e,n,r){var i=t.geometry,o=e.getData(),s=o.getLayout("points"),c=0;o.each(function(t){o.hasValue(t)||c++});var h=c||r,f=i.attributes.position,d=i.attributes.normal,p=i.attributes.texcoord0,m=i.attributes.barycentric,g=i.attributes.color,v=n.row,_=n.column,y=e.get("shading"),x="color"!==y;if(h){var b=(v-1)*(_-1)*4;f.init(b),r&&m.init(b)}else f.value=new Float32Array(s);g.init(i.vertexCount),p.init(i.vertexCount);var w=[0,3,1,1,3,2],T=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],S=i.indices=new(i.vertexCount>65535?Uint32Array:Uint16Array)((v-1)*(_-1)*6),E=function(t,e,n){n[1]=t*_+e,n[0]=t*_+e+1,n[3]=(t+1)*_+e+1,n[2]=(t+1)*_+e},M=!1;if(h){var A=[],C=[],O=0;x?d.init(i.vertexCount):d.value=null;for(var D=[[],[],[]],L=[],I=[],P=u.create(),R=function(t,e,n){var r=3*e;return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n},N=new Float32Array(s.length),k=new Float32Array(s.length/3*4),F=0;F<o.count();F++)if(o.hasValue(F)){var B=a["a"].parseColor(o.getItemVisual(F,"color")),z=o.getItemVisual(F,"opacity");B[3]*=z,B[3]<.99&&(M=!0);for(var U=0;U<4;U++)k[4*F+U]=B[U]}var G=[1e7,1e7,1e7];for(F=0;F<v-1;F++)for(var j=0;j<_-1;j++){var H=F*(_-1)+j,V=4*H;E(F,j,A);var W=!1;for(U=0;U<4;U++)R(s,A[U],C),l(C)&&(W=!0);for(U=0;U<4;U++)W?f.set(V+U,G):(R(s,A[U],C),f.set(V+U,C)),r&&m.set(V+U,T[U]);for(U=0;U<6;U++)S[O++]=w[U]+V;if(x&&!W)for(U=0;U<2;U++){for(var X=3*U,q=0;q<3;q++){var Y=A[w[X]+q];R(s,Y,D[q])}u.sub(L,D[0],D[1]),u.sub(I,D[1],D[2]),u.cross(P,L,I);for(q=0;q<3;q++){var Z=3*A[w[X]+q];N[Z]=N[Z]+P[0],N[Z+1]=N[Z+1]+P[1],N[Z+2]=N[Z+2]+P[2]}}}if(x)for(F=0;F<N.length/3;F++)R(N,F,P),u.normalize(P,P),N[3*F]=P[0],N[3*F+1]=P[1],N[3*F+2]=P[2];B=[];var K=[];for(F=0;F<v-1;F++)for(j=0;j<_-1;j++){H=F*(_-1)+j,V=4*H;E(F,j,A);for(U=0;U<4;U++){for(q=0;q<4;q++)B[q]=k[4*A[U]+q];g.set(V+U,B),x&&(R(N,A[U],P),d.set(V+U,P));Y=A[U];K[0]=Y%_/(_-1),K[1]=Math.floor(Y/_)/(v-1),p.set(V+U,K)}H++}}else{for(K=[],F=0;F<o.count();F++){K[0]=F%_/(_-1),K[1]=Math.floor(F/_)/(v-1);B=a["a"].parseColor(o.getItemVisual(F,"color")),z=o.getItemVisual(F,"opacity");B[3]*=z,B[3]<.99&&(M=!0),g.set(F,B),p.set(F,K)}A=[];var $=0;for(F=0;F<v-1;F++)for(j=0;j<_-1;j++){E(F,j,A);for(U=0;U<6;U++)S[$++]=A[w[U]]}x?i.generateVertexNormals():d.value=null}t.material.get("normalMap")&&i.generateTangents(),i.updateBoundingBox(),i.dirty(),t.material.transparent=M,t.material.depthMask=!M},_getDataShape:function(t,e){for(var n=-1/0,r=0,i=0,a=0,o=e?"u":"x",s=0;s<t.count();s++){var u=t.get(o,s);if(u<n){if(a&&a!==i)throw new Error("Invalid data. data should be a row major 2d array.");a=i,i=0,r++}n=u,i++}return{row:r+1,column:i}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r);i.a.registerLayout(function(t,e){t.eachSeriesByType("surface",function(t){var e=t.coordinateSystem;e&&"cartesian3D"===e.type||console.error("Surface chart only support cartesian3D coordinateSystem");var n=t.getData(),r=new Float32Array(3*n.count()),i=[NaN,NaN,NaN];if(e&&"cartesian3D"===e.type){var a=e.dimensions,o=a.map(function(e){return t.coordDimToDataDim(e)[0]});n.each(o,function(t,a,o,s){var u;u=n.hasValue(s)?e.dataToPoint([t,a,o]):i,r[3*s]=u[0],r[3*s+1]=u[1],r[3*s+2]=u[2]})}n.setLayout("points",r)})})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(99),n(257),n(258),n(17));i.a.registerVisual(Object(a["a"])("map3D")),i.a.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},function(t,e){e.eachComponent({mainType:"series",subType:"map3D",query:t},function(e){e.setView(t)})})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),u=n(31),l=n(96),c=n(32),h=n(39),f=n(98);function d(t,e){for(var n=[],r=0;r<e.length;r++)n.push(t.dataToPoint(e[r]));return n}var p=i.a.extendSeriesModel({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualColorAccessPath:"itemStyle.color",optionUpdated:function(t){t=t||{};var e=this.get("coordinateSystem");if(null!=e&&"geo3D"!==e){var n=["left","top","width","height","boxWidth","boxDepth","boxHeight","light","viewControl","postEffect","temporalSuperSampling","environment","groundPlane"],r=[];n.forEach(function(e){null!=t[e]&&r.push(e)}),r.length&&console.warn("Property %s in map3D series will be ignored if coordinate system is %s",r.join(", "),e),this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null}},getInitialData:function(t){t.data=this.getFilledRegions(t.data,t.map);var e=i.a.helper.completeDimensions(["value"],t.data),n=new i.a.List(e,this);n.initData(t.data);var r={};return n.each(function(t){var e=n.getName(t),i=n.getItemModel(t);r[e]=i}),this._regionModelMap=r,n},formatTooltip:function(t){return Object(h["a"])(this,t)},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new i.a.Model(null,this)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,n=this.getData().getName(t);if(e.transform){var r=e.getRegion(n);return r?r.geometries:[]}this._geo||(this._geo=f["a"].createGeo3D(this));r=this._geo.getRegion(n);for(var i=[],a=0;a<r.geometries.length;a++){var o=r.geometries[a],s=[],u=d(e,o.exterior);if(s&&s.length)for(var l=0;l<o.interiors.length;l++)s.push(d(e,s[l]));i.push({interiors:s,exterior:u})}return i},getFormattedLabel:function(t,e){var n=c["a"].getFormattedLabel(this,t,e);return null==n&&(n=this.getData().getName(t)),n},defaultOption:{coordinateSystem:"geo3D",data:null}});i.a.util.merge(p.prototype,l["a"]),i.a.util.merge(p.prototype,a["a"]),i.a.util.merge(p.prototype,o["a"]),i.a.util.merge(p.prototype,s["a"]),i.a.util.merge(p.prototype,u["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(30),u=n(64);i.a.extendChartView({type:"map3D",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new u["a"](e),this.groupGL=new a["a"].Node},render:function(t,e,n){var r=t.coordinateSystem;if(r&&r.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),r.viewGL.add(this.groupGL),"geo3D"===r.type){r,this._sceneHelper||(this._sceneHelper=new s["a"],this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling"));var i=this._control;i||(i=this._control=new o["a"]({zr:n.getZr()}),this._control.init());var a=t.getModel("viewControl");i.setViewGL(r.viewGL),i.setFromViewControlModel(a,0),i.off("update"),i.on("update",function(){n.dispatchAction({type:"map3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),from:this.uid,map3DId:t.id})}),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),t.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(t,e,n,0,t.getData().count());var u=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(t){t.material&&t.material[u]("fragment","SRGB_DECODE")})}},afterRender:function(t,e,n,r){var i=r.renderer,a=t.coordinateSystem;a&&"geo3D"===a.type&&(this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n))},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(260),n(261),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()("scatterGL","circle",null)),i.a.registerVisual(Object(s["a"])("scatterGL")),i.a.registerLayout({seriesType:"scatterGL",reset:function(t){var e,n=t.coordinateSystem;if(n){var r=n.dimensions,i=[];1===r.length?e=function(t,e){for(var i=new Float32Array(2*(t.end-t.start)),a=t.start;a<t.end;a++){var o=2*(a-t.start),s=e.get(r[0],a),u=n.dataToPoint(s);i[o]=u[0],i[o+1]=u[1]}e.setLayout("points",i)}:2===r.length&&(e=function(t,e){for(var a=new Float32Array(2*(t.end-t.start)),o=t.start;o<t.end;o++){var s=2*(o-t.start),u=e.get(r[0],o),l=e.get(r[1],o);i[0]=u,i[1]=l,i=n.dataToPoint(i),a[s]=i[0],a[s+1]=i[1]}e.setLayout("points",a)})}return{progress:e}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualColorAccessPath:"itemStyle.color",getInitialData:function(){return i.a.helper.createList(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(22),s=n(67),u=n(103);n(2);i.a.extendChartView({type:"scatterGL",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this.viewGL=new o["a"]("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new u["a"](this.viewGL)},render:function(t,e,n){if(this.groupGL.removeAll(),this._glViewHelper.reset(t,n),t.getData().count()){var r=this._pointsBuilderList[0];r||(r=this._pointsBuilderList[0]=new s["a"](!0,n)),this._pointsBuilderList.length=1,this.groupGL.add(r.rootNode),this._removeTransformInPoints(t.getData().getLayout("points")),r.update(t,e,n),this.viewGL.setPostEffect(t.getModel("postEffect"),n)}},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n),this._currentStep=0,this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalRender:function(t,e,n,r){if(!(t.end<=t.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new s["a"](!0,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),i.setSizeScale(this._sizeScale),i.update(e,n,r,t.start,t.end),r.getZr().refresh(),this._currentStep++}},updateTransform:function(t,e,n){if(t.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(t,n);var r=this._glViewHelper.getZoom(),i=Math.max((t.get("zoomScale")||0)*(r-1)+1,0);this._sizeScale=i,this._pointsBuilderList.forEach(function(t){t.setSizeScale(i)})}},_removeTransformInPoints:function(t){if(t)for(var e=[],n=0;n<t.length;n+=2)e[0]=t[n],e[1]=t[n+1],this._glViewHelper.removeTransformInPoint(e),t[n]=e[0],t[n+1]=e[1]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(263),n(268),n(51)),o=n.n(a),s=n(17);function u(){}i.a.registerVisual(o()("graphGL","circle",null)),i.a.registerVisual(Object(s["a"])("graphGL")),i.a.registerVisual(function(t){var e={};t.eachSeriesByType("graphGL",function(t){var n=t.getCategoriesData(),r=t.getData(),i={};n.each(function(r){var a=n.getName(r);i[a]=r;var o=n.getItemModel(r),s=o.get("itemStyle.color")||t.getColorFromPalette(a,e);n.setItemVisual(r,"color",s)}),n.count()&&r.each(function(t){var e=r.getItemModel(t),a=e.getShallow("category");null!=a&&("string"===typeof a&&(a=i[a]),r.getItemVisual(t,"color",!0)||r.setItemVisual(t,"color",n.getItemVisual(a,"color")))})})}),i.a.registerVisual(function(t){t.eachSeriesByType("graphGL",function(t){var e=t.getGraph(),n=t.getEdgeData(),r="lineStyle.color".split("."),i="lineStyle.opacity".split(".");n.setVisual("color",t.get(r)),n.setVisual("opacity",t.get(i)),n.each(function(t){var a=n.getItemModel(t),o=e.getEdgeByIndex(t),s=a.get(r),u=a.get(i);switch(s){case"source":s=o.node1.getVisual("color");break;case"target":s=o.node2.getVisual("color");break}o.setVisual("color",s),o.setVisual("opacity",u)})})}),i.a.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},function(t,e){e.eachComponent({mainType:"series",query:t},function(e){e.setView(t)})}),i.a.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},u),i.a.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},u),i.a.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},u),i.a.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},u)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(264),o=n(32),s=i.a.extendSeriesModel({type:"series.graphGL",visualColorAccessPath:"itemStyle.color",init:function(t){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(t){s.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(t,e,n,r){var i=o["a"].getFormattedLabel(this,t,e,n,r);if(null==i){var a=this.getData(),s=a.dimensions[a.dimensions.length-1];i=a.get(s,t)}return i},getInitialData:function(t,e){var n=t.edges||t.links||[],r=t.data||t.nodes||[],o=this;if(r&&n)return Object(a["a"])(r,n,this,!0,s).data;function s(t,n){t.wrapMethod("getItemModel",function(t){var e=o._categoriesModels,n=t.getShallow("category"),r=e[n];return r&&(r.parentModel=t.parentModel,t.parentModel=r),t});var r=o.getModel("edgeLabel"),a=new i.a.Model({label:r.option},r.parentModel,e);function s(t){return t=this.parsePath(t),t&&"label"===t[0]?a:this.parentModel}n.wrapMethod("getItemModel",function(t){return t.customizeGetParent(s),t})}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var r=this.getData(),a=this.getDataParams(t,n),o=r.graph.getEdgeByIndex(t),u=r.getName(o.node1.dataIndex),l=r.getName(o.node2.dataIndex),c=[];return null!=u&&c.push(u),null!=l&&c.push(l),c=i.a.format.encodeHTML(c.join(" > ")),a.value&&(c+=" : "+i.a.format.encodeHTML(a.value)),c}return s.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=(this.option.categories||[]).map(function(t){return null!=t.value?t:i.a.util.extend({value:0},t)}),e=new i.a.List(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setView:function(t){null!=t.zoom&&(this.option.zoom=t.zoom),null!=t.offset&&(this.option.offset=t.offset)},setNodePosition:function(t){for(var e=0;e<t.length/2;e++){var n=t[2*e],r=t[2*e+1],i=this.getData().getRawDataItem(e);i.x=n,i.y=r}},isAnimationEnabled:function(){return s.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(265),o=n.n(a),s=n(267),u=n.n(s),l=n(2);e["a"]=function(t,e,n,r,a){for(var s=new o.a(r),c=0;c<t.length;c++)s.addNode(l["a"].firstNotNull(t[c].id,t[c].name,c),c);var h,f=[],d=[],p=0;for(c=0;c<e.length;c++){var m=e[c],g=m.source,v=m.target;s.addEdge(g,v,p)&&(d.push(m),f.push(l["a"].firstNotNull(m.id,g+" > "+v)),p++)}var _=i.a.helper.completeDimensions(["value"],t);h=new i.a.List(_,n),h.initData(t);var y=new i.a.List(["value"],n);return y.initData(d,f),a&&a(h,y),u()({mainData:h,struct:s,structAttr:"graph",datas:{node:h,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),s.update(),s}},function(t,e,n){var r=n(104),i=(r.__DEV__,n(13)),a=n(266),o=a.enableClassCheck;function s(t){return"_EC_"+t}var u=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},l=u.prototype;function c(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function h(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}l.type="graph",l.isDirected=function(){return this._directed},l.addNode=function(t,e){t=t||""+e;var n=this._nodesMap;if(!n[s(t)]){var r=new c(t,e);return r.hostGraph=this,this.nodes.push(r),n[s(t)]=r,r}},l.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},l.getNodeById=function(t){return this._nodesMap[s(t)]},l.addEdge=function(t,e,n){var r=this._nodesMap,i=this._edgesMap;if("number"===typeof t&&(t=this.nodes[t]),"number"===typeof e&&(e=this.nodes[e]),c.isInstance(t)||(t=r[s(t)]),c.isInstance(e)||(e=r[s(e)]),t&&e){var a=t.id+"-"+e.id;if(!i[a]){var o=new h(t,e,n);return o.hostGraph=this,this._directed&&(t.outEdges.push(o),e.inEdges.push(o)),t.edges.push(o),t!==e&&e.edges.push(o),this.edges.push(o),i[a]=o,o}}},l.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},l.getEdge=function(t,e){c.isInstance(t)&&(t=t.id),c.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},l.eachNode=function(t,e){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},l.eachEdge=function(t,e){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},l.breadthFirstTraverse=function(t,e,n,r){if(c.isInstance(e)||(e=this._nodesMap[s(e)]),e){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(r,e,null)){var o=[e];while(o.length){var u=o.shift(),l=u[i];for(a=0;a<l.length;a++){var h=l[a],f=h.node1===u?h.node2:h.node1;if(!f.__visited){if(t.call(r,f,u))return;o.push(f),f.__visited=!0}}}}}},l.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,i=0,a=n.length;i<a;i++)n[i].dataIndex=-1;for(i=0,a=t.count();i<a;i++)n[t.getRawIndex(i)].dataIndex=i;e.filterSelf(function(t){var n=r[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(i=0,a=r.length;i<a;i++)r[i].dataIndex=-1;for(i=0,a=e.count();i<a;i++)r[e.getRawIndex(i)].dataIndex=i},l.clone=function(){for(var t=new u(this._directed),e=this.nodes,n=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<n.length;r++){var i=n[r];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},c.prototype={constructor:c,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}}},h.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}};var f=function(t,e){return{getValue:function(n){var r=this[t][e];return r.get(r.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n,r){return this[t][e].getItemVisual(this.dataIndex,n,r)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};i.mixin(c,f("hostGraph","data")),i.mixin(h,f("hostGraph","edgeData")),u.Node=c,u.Edge=h,o(c),o(h);var d=u;t.exports=d},function(t,e,n){var r=n(104),i=(r.__DEV__,n(13)),a=".",o="___EC__COMPONENT__CONTAINER___";function s(t){var e={main:"",sub:""};return t&&(t=t.split(a),e.main=t[0]||"",e.sub=t[1]||""),e}function u(t){i.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function l(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return i.extend(n.prototype,t),n.extend=this.extend,n.superCall=f,n.superApply=d,i.inherits(n,this),n.superClass=e,n}}var c=0;function h(t){var e=["__\0is_clz",c++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function f(t,e){var n=i.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function d(t,e,n){return this.superClass.prototype[e].apply(t,n)}function p(t,e){e=e||{};var n={};function r(t){var e=n[t.main];return e&&e[o]||(e=n[t.main]={},e[o]=!0),e}if(t.registerClass=function(t,e){if(e)if(u(e),e=s(e),e.sub){if(e.sub!==o){var i=r(e);i[e.sub]=t}}else n[e.main]=t;return t},t.getClass=function(t,e,r){var i=n[t];if(i&&i[o]&&(i=e?i[e]:null),r&&!i)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return i},t.getClassesByMainType=function(t){t=s(t);var e=[],r=n[t.main];return r&&r[o]?i.each(r,function(t,n){n!==o&&e.push(t)}):e.push(r),e},t.hasClass=function(t){return t=s(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return i.each(n,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=s(t);var e=n[t.main];return e&&e[o]},t.parseClassType=s,e.registerWhenExtend){var a=t.extend;a&&(t.extend=function(e){var n=a.call(this,e);return t.registerClass(n,e.type)})}return t}function m(t,e){}e.parseClassType=s,e.enableClassExtend=l,e.enableClassCheck=h,e.enableClassManagement=p,e.setReadOnly=m},function(t,e,n){var r=n(13),i=r.each,a="\0__link_datas",o="\0__link_mainData";function s(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,d(e,n,t),i(n,function(n){i(e.TRANSFERABLE_METHODS,function(e){n.wrapMethod(e,r.curry(u,t))})}),e.wrapMethod("cloneShallow",r.curry(c,t)),i(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,r.curry(l,t))}),r.assert(n[e.dataType]===e)}function u(t,e){if(f(this)){var n=r.extend({},this[a]);n[this.dataType]=e,d(e,n,t)}else p(e,this.dataType,this[o],t);return e}function l(t,e){return t.struct&&t.struct.update(this),e}function c(t,e){return i(e[a],function(n,r){n!==e&&p(n.cloneShallow(),r,e,t)}),e}function h(t){var e=this[o];return null==t||null==e?e:e[a][t]}function f(t){return t[o]===t}function d(t,e,n){t[a]={},i(e,function(e,r){p(e,r,t,n)})}function p(t,e,n,r){n[a][e]=t,t[o]=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=h}var m=s;t.exports=m},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(47),o=n.n(a),s=n(1),u=n(22),l=n(105),c=n(2),h=n(269),f=n(271),d=n(80),p=n.n(d),m=n(6),g=n(273),v=n(67),_=n(274),y=m["a"].vec2;s["a"].Shader.import(_["a"]);var x=1;i.a.extendChartView({type:"graphGL",__ecgl__:!0,init:function(t,e){this.groupGL=new s["a"].Node,this.viewGL=new u["a"]("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new v["a"](!0,e),this._forceEdgesMesh=new s["a"].Mesh({material:new s["a"].Material({shader:s["a"].createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new s["a"].Geometry({attributes:{node:new s["a"].Geometry.Attribute("node","float",2),color:new s["a"].Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:s["a"].Mesh.LINES}),this._edgesMesh=new s["a"].Mesh({material:new s["a"].Material({shader:s["a"].createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new l["a"]({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new g["a"]({zr:e.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(t,e,n){this.groupGL.add(this._pointsBuilder.rootNode),this._model=t,this._api=n,this._initLayout(t,e,n),this._pointsBuilder.update(t,e,n),this._forceLayoutInstance instanceof h["a"]||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(t,n),this._control.off("update"),this._control.on("update",function(){n.dispatchAction({type:"graphGLRoam",seriesId:t.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)},this),this._control.setZoom(c["a"].firstNotNull(t.get("zoom"),1)),this._control.setOffset(t.get("offset")||[0,0]);var r=this._pointsBuilder.getPointsMesh();if(r.off("mousemove",this._mousemoveHandler),r.off("mouseout",this._mouseOutHandler,this),n.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,t.get("focusNodeAdjacency")){var i=t.get("focusNodeAdjacencyOn");"click"===i?n.getZr().on("click",this._clickHandler):"mouseover"===i?(r.on("mousemove",this._mousemoveHandler,this),r.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1):console.warn("Unkown focusNodeAdjacencyOn value s"+i)}this._lastMouseOverDataIndex=-1},_clickHandler:function(t){if(!this._layouting){var e=this._pointsBuilder.getPointsMesh().dataIndex;e>=0?this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:e}):this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(t){if(!this._layouting){var e=this._pointsBuilder.getPointsMesh().dataIndex;e>=0?e!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:e}):this._mouseOutHandler(t),this._lastMouseOverDataIndex=e}},_mouseOutHandler:function(t){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(t,e){var n=this._forceEdgesMesh.geometry,r=e.getEdgeData(),i=0,a=this._forceLayoutInstance,o=2*r.count();n.attributes.node.init(o),n.attributes.color.init(o),r.each(function(e){var o=t[e];n.attributes.node.set(i,a.getNodeUV(o.node1)),n.attributes.node.set(i+1,a.getNodeUV(o.node2));var u=r.getItemVisual(o.dataIndex,"color"),l=s["a"].parseColor(u);l[3]*=c["a"].firstNotNull(r.getItemVisual(o.dataIndex,"opacity"),1),n.attributes.color.set(i,l),n.attributes.color.set(i+1,l),i+=2}),n.dirty()},_updateMeshLinesGeometry:function(){var t=this._model.getEdgeData(),e=this._edgesMesh.geometry,n=(t=this._model.getEdgeData(),this._model.getData().getLayout("points"));e.resetOffset(),e.setVertexCount(t.count()*e.getLineVertexCount()),e.setTriangleCount(t.count()*e.getLineTriangleCount());var r=[],i=[],a=["lineStyle","width"];this._originalEdgeColors=new Float32Array(4*t.count()),this._edgeIndicesMap=new Float32Array(t.count()),t.each(function(o){var u=t.graph.getEdgeByIndex(o),l=2*u.node1.dataIndex,h=2*u.node2.dataIndex;r[0]=n[l],r[1]=n[l+1],i[0]=n[h],i[1]=n[h+1];var f=t.getItemVisual(u.dataIndex,"color"),d=s["a"].parseColor(f);d[3]*=c["a"].firstNotNull(t.getItemVisual(u.dataIndex,"opacity"),1);var p=t.getItemModel(u.dataIndex),m=c["a"].firstNotNull(p.get(a),1)*this._api.getDevicePixelRatio();e.addLine(r,i,d,m);for(var g=0;g<4;g++)this._originalEdgeColors[4*u.dataIndex+g]=d[g];this._edgeIndicesMap[u.dataIndex]=o},this),e.dirty()},_updateForceNodesGeometry:function(t){for(var e=this._pointsBuilder.getPointsMesh(),n=[],r=0;r<t.count();r++)this._forceLayoutInstance.getNodeUV(r,n),e.geometry.attributes.position.set(r,n);e.geometry.dirty("position")},_initLayout:function(t,e,n){var r=t.get("layout"),a=t.getGraph(),s=t.getBoxLayoutParams(),u=o.a.getLayoutRect(s,{width:n.getWidth(),height:n.getHeight()});"force"===r&&(console.warn("Currently only forceAtlas2 layout supported."),r="forceAtlas2"),this.stopLayout(t,e,n,{beforeLayout:!0});var l=t.getData(),d=t.getData();if("forceAtlas2"===r){var p=t.getModel("forceAtlas2"),m=this._forceLayoutInstance,g=[],v=[],_=l.getDataExtent("value"),y=d.getDataExtent("value"),x=c["a"].firstNotNull(p.get("edgeWeight"),1),b=c["a"].firstNotNull(p.get("nodeWeight"),1);"number"===typeof x&&(x=[x,x]),"number"===typeof b&&(b=[b,b]);var w=0,T={},S=new Float32Array(2*l.count());if(a.eachNode(function(t){var e,n,r=t.dataIndex,a=l.get("value",r);if(l.hasItemOption){var o=l.getItemModel(r);e=o.get("x"),n=o.get("y")}null==e&&(e=u.x+Math.random()*u.width,n=u.y+Math.random()*u.height),S[2*w]=e,S[2*w+1]=n,T[t.id]=w++;var s=i.a.number.linearMap(a,_,b);isNaN(s)&&(s=isNaN(b[0])?1:b[0]),g.push({x:e,y:n,mass:s,size:l.getItemVisual(r,"symbolSize")})}),l.setLayout("points",S),a.eachEdge(function(t){var e=t.dataIndex,n=l.get("value",e),r=i.a.number.linearMap(n,y,x);isNaN(r)&&(r=isNaN(x[0])?1:x[0]),v.push({node1:T[t.node1.id],node2:T[t.node2.id],weight:r,dataIndex:e})}),!m){var E=p.get("GPU");this._forceLayoutInstance&&((!E||this._forceLayoutInstance instanceof h["a"])&&(E||this._forceLayoutInstance instanceof f["a"])||(this._forceLayoutInstanceToDispose=this._forceLayoutInstance)),m=this._forceLayoutInstance=E?new h["a"]:new f["a"]}m.initData(g,v),m.updateOption(p.option),this._updateForceEdgesGeometry(m.getEdges(),t),this._updatePositionTexture(),n.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else{S=new Float32Array(2*l.count()),w=0;a.eachNode(function(t){var e,n,r=t.dataIndex;if(l.hasItemOption){var i=l.getItemModel(r);e=i.get("x"),n=i.get("y")}S[w++]=e,S[w++]=n}),l.setLayout("points",S),this._updateAfterLayout(t,e,n)}},_updatePositionTexture:function(){var t=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(t),this._forceEdgesMesh.material.set("positionTex",t)},startLayout:function(t,e,n,r){if(!r||null==r.from||r.from===this.uid){var i=this.viewGL,a=(n=this._api,this._forceLayoutInstance),o=this._model.getData(),s=this._model.getModel("forceAtlas2");if(a){if(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance){this._updateForceNodesGeometry(t.getData()),this._pointsBuilder.hideLabels();var u=this,l=this._layoutId=x++,c=s.getShallow("maxSteps"),h=s.getShallow("steps"),f=0,d=Math.max(2*h,20),m=function(e){if(e===u._layoutId)return a.isFinished(c)?(n.dispatchAction({type:"graphGLStopLayout",from:u.uid}),void n.dispatchAction({type:"graphGLFinishLayout",points:o.getLayout("points"),from:u.uid})):void a.update(i.layer.renderer,h,function(){u._updatePositionTexture(),f+=h,f>=d&&(u._syncNodePosition(t),f=0),n.getZr().refresh(),p()(function(){m(e)})})};p()(function(){u._forceLayoutInstanceToDispose&&(u._forceLayoutInstanceToDispose.dispose(i.layer.renderer),u._forceLayoutInstanceToDispose=null),m(l)}),this._layouting=!0}}else console.error("None layout don't have startLayout action")}},stopLayout:function(t,e,n,r){r&&null!=r.from&&r.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(r&&r.beforeLayout||(this._syncNodePosition(t),this._updateAfterLayout(t,e,n)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(t){var e=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);t.getData().setLayout("points",e),t.setNodePosition(e)},_updateAfterLayout:function(t,e,n){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(t,e,n),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(t,e,n,r){var i=this._model.getData();this._downplayAll();var a=r.dataIndex,o=i.graph,s=[],u=o.getNodeByIndex(a);s.push(u),u.edges.forEach(function(t){t.dataIndex<0||(t.node1!==u&&s.push(t.node1),t.node2!==u&&s.push(t.node2))},this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach(function(t){this._pointsBuilder.highlight(i,t.dataIndex)},this),this._pointsBuilder.updateLabels(s.map(function(t){return t.dataIndex}));var l=[];u.edges.forEach(function(t){t.dataIndex>=0&&(this._highlightEdge(t.dataIndex),l.push(t))},this),this._focusNodes=s,this._focusEdges=l},unfocusNodeAdjacency:function(t,e,n,r){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(t){var e=this._model.getEdgeData().getItemModel(t),n=s["a"].parseColor(e.get("emphasis.lineStyle.color")||e.get("lineStyle.color")),r=c["a"].firstNotNull(e.get("emphasis.lineStyle.opacity"),e.get("lineStyle.opacity"),1);n[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],n)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach(function(t){this._pointsBuilder.downplay(this._model.getData(),t.dataIndex)},this),this._focusEdges&&this._focusEdges.forEach(function(t){this._downplayEdge(t.dataIndex)},this)},_downplayEdge:function(t){var e=this._getColor(t,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)},_setEdgeFade:function(){var t=[];return function(e,n){this._getColor(e,t),t[3]*=n,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)}}(),_getColor:function(t,e){for(var n=0;n<4;n++)e[n]=this._originalEdgeColors[4*t+n];return e},_fadeOutEdgesAll:function(t){var e=this._model.getData().graph;e.eachEdge(function(e){this._setEdgeFade(e.dataIndex,t)},this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(t,e){this.viewGL.setViewport(0,0,e.getWidth(),e.getHeight(),e.getDevicePixelRatio());for(var n=this.viewGL.camera,r=t.getData(),i=r.getLayout("points"),a=y.create(1/0,1/0),o=y.create(-1/0,-1/0),s=[],u=0;u<i.length;)s[0]=i[u++],s[1]=i[u++],y.min(a,a,s),y.max(o,o,s);var l=(o[1]+a[1])/2,c=(o[0]+a[0])/2;if(!(c>n.left&&c<n.right&&l<n.bottom&&l>n.top)){var h=Math.max(o[0]-a[0],10),f=h/e.getWidth()*e.getHeight();h*=1.4,f*=1.4,a[0]-=.2*h,n.left=a[0],n.top=l-f/2,n.bottom=l+f/2,n.right=h+a[0],n.near=0,n.far=100}},dispose:function(){var t=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(t),this.groupGL.removeAll(),this._layoutId=-1},remove:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(16),s=n(10),u=n(270);a["a"].Shader.import(u["a"]);var l={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function c(t){var e={type:a["a"].Texture.FLOAT,minFilter:a["a"].Texture.NEAREST,magFilter:a["a"].Texture.NEAREST};this._positionSourceTex=new a["a"].Texture2D(e),this._positionSourceTex.flipY=!1,this._positionTex=new a["a"].Texture2D(e),this._positionPrevTex=new a["a"].Texture2D(e),this._forceTex=new a["a"].Texture2D(e),this._forcePrevTex=new a["a"].Texture2D(e),this._weightedSumTex=new a["a"].Texture2D(e),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new a["a"].Texture2D(e),this._globalSpeedPrevTex=new a["a"].Texture2D(e),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new o["a"]({fragment:a["a"].Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new o["a"]({fragment:a["a"].Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new o["a"]({fragment:a["a"].Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new o["a"]({fragment:a["a"].Shader.source("clay.compositor.output")});var n=function(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE)};this._edgeForceMesh=new a["a"].Mesh({geometry:new a["a"].Geometry({attributes:{node1:new a["a"].Geometry.Attribute("node1","float",2),node2:new a["a"].Geometry.Attribute("node2","float",2),weight:new a["a"].Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new a["a"].Material({transparent:!0,shader:a["a"].createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:n,depthMask:!1,depthText:!1}),mode:a["a"].Mesh.POINTS}),this._weightedSumMesh=new a["a"].Mesh({geometry:new a["a"].Geometry({attributes:{node:new a["a"].Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new a["a"].Material({transparent:!0,shader:a["a"].createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:n,depthMask:!1,depthText:!1}),mode:a["a"].Mesh.POINTS}),this._framebuffer=new s["a"]({depthBuffer:!1}),this._dummyCamera=new a["a"].OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}c.prototype.updateOption=function(t){for(var e in l)this[e]=l[e];var n=this._nodes.length;if(this.jitterTolerence=n>5e4?10:n>5e3?1:.1,this.scaling=n>100?2:10,t)for(var e in l)null!=t[e]&&(this[e]=t[e]);if(this.repulsionByDegree)for(var r=this._positionSourceTex.pixels,i=0;i<this._nodes.length;i++)r[4*i+2]=(this._nodes[i].degree||0)+1},c.prototype._updateGravityCenter=function(t){var e=this._nodes,n=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var r=[1/0,1/0],i=[-1/0,-1/0],a=0;a<e.length;a++)r[0]=Math.min(e[a].x,r[0]),r[1]=Math.min(e[a].y,r[1]),i[0]=Math.max(e[a].x,i[0]),i[1]=Math.max(e[a].y,i[1]);this._gravityCenter=[.5*(r[0]+i[0]),.5*(r[1]+i[1])]}for(a=0;a<n.length;a++){var o=n[a].node1,s=n[a].node2;e[o].degree=(e[o].degree||0)+1,e[s].degree=(e[s].degree||0)+1}},c.prototype.initData=function(t,e){this._nodes=t,this._edges=e,this._updateGravityCenter();var n=Math.ceil(Math.sqrt(t.length)),r=n,i=new Float32Array(n*r*4);this._resize(n,r);for(var a=0,o=0;o<t.length;o++){var s=t[o];i[a++]=s.x||0,i[a++]=s.y||0,i[a++]=s.mass||1,i[a++]=s.size||1}this._positionSourceTex.pixels=i;var u=this._edgeForceMesh.geometry,l=e.length;u.attributes.node1.init(2*l),u.attributes.node2.init(2*l),u.attributes.weight.init(2*l);var c=[];for(o=0;o<e.length;o++){var h=u.attributes,f=e[o].weight;null==f&&(f=1),h.node1.set(o,this.getNodeUV(e[o].node1,c)),h.node2.set(o,this.getNodeUV(e[o].node2,c)),h.weight.set(o,f),h.node1.set(o+l,this.getNodeUV(e[o].node2,c)),h.node2.set(o+l,this.getNodeUV(e[o].node1,c)),h.weight.set(o+l,f)}var d=this._weightedSumMesh.geometry;d.attributes.node.init(t.length);for(o=0;o<t.length;o++)d.attributes.node.set(o,this.getNodeUV(o,c));u.dirty(),d.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",t.length),this._nodeRepulsionPass.material.setUniform("textureSize",[n,r]),this._inited=!1,this._frame=0},c.prototype.getNodes=function(){return this._nodes},c.prototype.getEdges=function(){return this._edges},c.prototype.step=function(t){this._inited||(this._initFromSource(t),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(t);var e=this._nodeRepulsionPass;e.setUniform("strongGravityMode",this.strongGravityMode),e.setUniform("gravity",this.gravity),e.setUniform("gravityCenter",this._gravityCenter),e.setUniform("scaling",this.scaling),e.setUniform("preventOverlap",this.preventOverlap),e.setUniform("positionTex",this._positionPrevTex),e.render(t);var n=this._edgeForceMesh;n.material.set("linLogMode",this.linLogMode),n.material.set("edgeWeightInfluence",this.edgeWeightInfluence),n.material.set("preventOverlap",this.preventOverlap),n.material.set("positionTex",this._positionPrevTex),t.gl.enable(t.gl.BLEND),t.renderPass([n],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT),t.gl.enable(t.gl.BLEND);var r=this._weightedSumMesh;r.material.set("positionTex",this._positionPrevTex),r.material.set("forceTex",this._forceTex),r.material.set("forcePrevTex",this._forcePrevTex),t.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var i=this._globalSpeedPass;i.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),i.setUniform("weightedSumTex",this._weightedSumTex),i.setUniform("jitterTolerence",this.jitterTolerence),t.gl.disable(t.gl.BLEND),i.render(t);var a=this._positionPass;this._framebuffer.attach(this._positionTex),a.setUniform("globalSpeedTex",this._globalSpeedTex),a.setUniform("positionTex",this._positionPrevTex),a.setUniform("forceTex",this._forceTex),a.setUniform("forcePrevTex",this._forcePrevTex),a.render(t),this._framebuffer.unbind(t),this._swapTexture()},c.prototype.update=function(t,e,n){null==e&&(e=1),e=Math.max(e,1);for(var r=0;r<e;r++)this.step(t);n&&n()},c.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},c.prototype.getNodeUV=function(t,e){e=e||[];var n=this._positionTex.width,r=this._positionTex.height;return e[0]=t%n/(n-1),e[1]=Math.floor(t/n)/(r-1)||0,e},c.prototype.getNodePosition=function(t,e){var n=this._positionArr,r=this._positionTex.width,i=this._positionTex.height,a=r*i;n&&n.length===4*a||(n=this._positionArr=new Float32Array(4*a)),this._framebuffer.bind(t),this._framebuffer.attach(this._positionPrevTex),t.gl.readPixels(0,0,r,i,t.gl.RGBA,t.gl.FLOAT,n),this._framebuffer.unbind(t),e||(e=new Float32Array(2*this._nodes.length));for(var o=0;o<this._nodes.length;o++)e[2*o]=n[4*o],e[2*o+1]=n[4*o+1];return e},c.prototype.getTextureData=function(t,e){var n=this["_"+e+"Tex"],r=n.width,i=n.height;this._framebuffer.bind(t),this._framebuffer.attach(n);var a=new Float32Array(r*i*4);return t.gl.readPixels(0,0,r,i,t.gl.RGBA,t.gl.FLOAT,a),this._framebuffer.unbind(t),a},c.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},c.prototype.isFinished=function(t){return this._frame>t},c.prototype._swapTexture=function(){var t=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=t;t=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=t;t=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=t},c.prototype._initFromSource=function(t){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(t),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(t),t.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(t)},c.prototype._resize=function(t,e){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach(function(n){this[n].width=t,this[n].height=e,this[n].dirty()},this)},c.prototype.dispose=function(t){this._framebuffer.dispose(t),this._copyPass.dispose(t),this._nodeRepulsionPass.dispose(t),this._positionPass.dispose(t),this._globalSpeedPass.dispose(t),this._edgeForceMesh.geometry.dispose(t),this._weightedSumMesh.geometry.dispose(t),this._positionSourceTex.dispose(t),this._positionTex.dispose(t),this._positionPrevTex.dispose(t),this._forceTex.dispose(t),this._forcePrevTex.dispose(t),this._weightedSumTex.dispose(t),this._globalSpeedTex.dispose(t),this._globalSpeedPrevTex.dispose(t)},i.a.ForceAtlas2GPU=c,e["a"]=c},function(t,e,n){"use strict";e["a"]="@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n vec2 force = vec2(0.0);\n for (int i = 0; i < NODE_COUNT; i++) {\n vec2 uv = vec2(\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n );\n vec4 n1 = texture2D(positionTex, uv);\n\n vec2 dir = n0.xy - n1.xy;\n float d2 = dot(dir, dir);\n\n if (d2 > 0.0) {\n float factor = 0.0;\n if (preventOverlap) {\n float d = sqrt(d2);\n d = d - n0.w - n1.w;\n if (d > 0.0) {\n factor = scaling * n0.z * n1.z / (d * d);\n }\n else if (d < 0.0) {\n factor = scaling * 100.0 * n0.z * n1.z;\n }\n }\n else {\n factor = scaling * n0.z * n1.z / d2;\n }\n force += dir * factor;\n }\n }\n\n vec2 dir = gravityCenter - n0.xy;\n float d = 1.0;\n if (!strongGravityMode) {\n d = length(dir);\n }\n\n force += dir * n0.z * gravity / (d + 1.0);\n\n gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, node1);\n vec4 n1 = texture2D(positionTex, node2);\n\n vec2 dir = n1.xy - n0.xy;\n float d = length(dir);\n float w;\n if (edgeWeightInfluence == 0.0) {\n w = 1.0;\n }\n else if (edgeWeightInfluence == 1.0) {\n w = weight;\n }\n else {\n w = pow(weight, edgeWeightInfluence);\n }\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n vec2 pos = node1 * scale * 2.0 - 1.0;\n gl_Position = vec4(pos + offset, 0.0, 1.0);\n gl_PointSize = 1.0;\n\n float factor;\n if (preventOverlap) {\n d = d - n1.w - n0.w;\n }\n if (d <= 0.0) {\n v_Force = vec2(0.0);\n return;\n }\n\n if (linLogMode) {\n factor = w * log(d) / d;\n }\n else {\n factor = w;\n }\n v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n v_NodeUv = node;\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n float mass = texture2D(positionTex, v_NodeUv).z;\n float swing = length(force - forcePrev) * mass;\n float traction = length(force + forcePrev) * 0.5 * mass;\n\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n float globalSpeed = jitterTolerence * jitterTolerence\n * weightedSum.y / weightedSum.x;\n if (prevGlobalSpeed > 0.0) {\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n }\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n vec4 node = texture2D(positionTex, v_Texcoord);\n\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n float swing = length(force - forcePrev);\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n float df = length(force);\n if (df > 0.0) {\n speed = min(df * speed, 10.0) / df;\n\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\n }\n else {\n gl_FragColor = node;\n }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(\n texture2D(positionTex, node).xy, -10.0, 1.0\n );\n v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n gl_FragColor = color * v_Color;\n}\n@end"},function(t,e,n){"use strict";var r=n(5),i=n(4),a=n(272),o=a["a"].toString();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}"));var s={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},u=function(t){for(var e in s)this[e]=s[e];if(t)for(var e in t)this[e]=t[e];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new r["a"]({type:i["a"].FLOAT,flipY:!1,minFilter:i["a"].NEAREST,magFilter:i["a"].NEAREST})};u.prototype.initData=function(t,e){var n=new Blob([o]),r=window.URL.createObjectURL(n);this._worker=new Worker(r),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=t,this._edges=e,this._frame=0;for(var i=t.length,a=e.length,s=new Float32Array(2*i),u=new Float32Array(i),l=new Float32Array(i),c=new Float32Array(2*a),h=new Float32Array(a),f=0;f<t.length;f++){var d=t[f];s[2*f]=d.x,s[2*f+1]=d.y,u[f]=null==d.mass?1:d.mass,l[f]=null==d.size?1:d.size}for(f=0;f<e.length;f++){var p=e[f],m=p.node1,g=p.node2;c[2*f]=m,c[2*f+1]=g,h[f]=null==p.weight?1:p.weight}var v=Math.ceil(Math.sqrt(t.length)),_=v,y=new Float32Array(v*_*4),x=this._positionTex;x.width=v,x.height=_,x.pixels=y,this._worker.postMessage({cmd:"init",nodesPosition:s,nodesMass:u,nodesSize:l,edges:c,edgesWeight:h}),this._globalSpeed=1/0},u.prototype.updateOption=function(t){var e={};for(var n in s)e[n]=s[n];var r=this._nodes,i=this._edges,a=r.length;if(e.jitterTolerence=a>5e4?10:a>5e3?1:.1,e.scaling=a>100?2:10,e.barnesHutOptimize=a>1e3,t)for(var n in s)null!=t[n]&&(e[n]=t[n]);if(!e.gravityCenter){for(var o=[1/0,1/0],u=[-1/0,-1/0],l=0;l<r.length;l++)o[0]=Math.min(r[l].x,o[0]),o[1]=Math.min(r[l].y,o[1]),u[0]=Math.max(r[l].x,u[0]),u[1]=Math.max(r[l].y,u[1]);e.gravityCenter=[.5*(o[0]+u[0]),.5*(o[1]+u[1])]}for(l=0;l<i.length;l++){var c=i[l].node1,h=i[l].node2;r[c].degree=(r[c].degree||0)+1,r[h].degree=(r[h].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:e})},u.prototype.update=function(t,e,n){null==e&&(e=1),e=Math.max(e,1),this._frame+=e,this._onupdate=n,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(e)})},u.prototype._$onupdate=function(t){if(!this._disposed){var e=new Float32Array(t.data.buffer);this._globalSpeed=t.data.globalSpeed,this._positionArr=e,this._updateTexture(e),this._onupdate&&this._onupdate()}},u.prototype.getNodePositionTexture=function(){return this._positionTex},u.prototype.getNodeUV=function(t,e){e=e||[];var n=this._positionTex.width,r=this._positionTex.height;return e[0]=t%n/(n-1),e[1]=Math.floor(t/n)/(r-1),e},u.prototype.getNodes=function(){return this._nodes},u.prototype.getEdges=function(){return this._edges},u.prototype.isFinished=function(t){return this._frame>t},u.prototype.getNodePosition=function(t,e){if(e||(e=new Float32Array(2*this._nodes.length)),this._positionArr)for(var n=0;n<this._positionArr.length;n++)e[n]=this._positionArr[n];return e},u.prototype._updateTexture=function(t){for(var e=this._positionTex.pixels,n=0,r=0;r<t.length;)e[n++]=t[r++],e[n++]=t[r++],e[n++]=1,e[n++]=1;this._positionTex.dirty()},u.prototype.dispose=function(t){this._disposed=!0,this._worker=null},e["a"]=u},function(t,e,n){"use strict";function r(){var t={create:function(){return new Float32Array(2)},dist:function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},len:function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},scaleAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},sub:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},normalize:function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t}};function e(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var n=e.prototype;function r(){this.position=new Float32Array(2),this.force=t.create(),this.forcePrev=t.create(),this.mass=1,this.inDegree=0,this.outDegree=0}function i(t,e){this.source=t,this.target=e,this.weight=1}function a(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new e,this.rootRegion.centerOfMass=t.create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}n.beforeUpdate=function(){for(var t=0;t<this.nSubRegions;t++)this.subRegions[t].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},n.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var t=0;t<this.nSubRegions;t++)this.subRegions[t].afterUpdate()},n.addNode=function(t){if(0===this.nSubRegions){if(null==this.node)return void(this.node=t);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(t),this._updateCenterOfMass(t)},n.findSubRegion=function(t,e){for(var n=0;n<this.nSubRegions;n++){var r=this.subRegions[n];if(r.contain(t,e))return r}},n.contain=function(t,e){return this.bbox[0]<=t&&this.bbox[2]>=t&&this.bbox[1]<=e&&this.bbox[3]>=e},n.setBBox=function(t,e,n,r){this.bbox[0]=t,this.bbox[1]=e,this.bbox[2]=n,this.bbox[3]=r,this.size=(n-t+r-e)/2},n._newSubRegion=function(){var t=this.subRegions[this.nSubRegions];return t||(t=new e,this.subRegions[this.nSubRegions]=t),this.nSubRegions++,t},n._addNodeToSubRegion=function(t){var e=this.findSubRegion(t.position[0],t.position[1]),n=this.bbox;if(!e){var r=(n[0]+n[2])/2,i=(n[1]+n[3])/2,a=(n[2]-n[0])/2,o=(n[3]-n[1])/2,s=t.position[0]>=r?1:0,u=t.position[1]>=i?1:0;e=this._newSubRegion();e.setBBox(s*a+n[0],u*o+n[1],(s+1)*a+n[0],(u+1)*o+n[1])}e.addNode(t)},n._updateCenterOfMass=function(t){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var e=this.centerOfMass[0]*this.mass,n=this.centerOfMass[1]*this.mass;e+=t.position[0]*t.mass,n+=t.position[1]*t.mass,this.mass+=t.mass,this.centerOfMass[0]=e/this.mass,this.centerOfMass[1]=n/this.mass};var o=a.prototype;o.initNodes=function(t,e,n){var i=e.length;this.nodes.length=0;for(var a="undefined"!=typeof n,o=0;o<i;o++){var s=new r;s.position[0]=t[2*o],s.position[1]=t[2*o+1],s.mass=e[o],a&&(s.size=n[o]),this.nodes.push(s)}this._massArr=e,this._swingingArr=new Float32Array(i),a&&(this._sizeArr=n)},o.initEdges=function(t,e){var n=t.length/2;this.edges.length=0;for(var r=0;r<n;r++){var a=t[2*r],o=t[2*r+1],s=this.nodes[a],u=this.nodes[o];if(!s||!u)return void console.error("Node not exists, try initNodes before initEdges");s.outDegree++,u.inDegree++;var l=new i(s,u);e&&(l.weight=e[r]),this.edges.push(l)}},o.updateSettings=function(){if(this.repulsionByDegree)for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];e.mass=e.inDegree+e.outDegree+1}else for(t=0;t<this.nodes.length;t++){e=this.nodes[t];e.mass=this._massArr[t]}},o.update=function(){var e=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var n=0;n<e;n++)this.rootRegion.addNode(this.nodes[n]);this.rootRegion.afterUpdate()}for(n=0;n<e;n++){var r=this.nodes[n];t.copy(r.forcePrev,r.force),t.set(r.force,0,0)}for(n=0;n<e;n++){var i=this.nodes[n];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,i);else for(var a=n+1;a<e;a++){var o=this.nodes[a];this.applyNodeToNodeRepulsion(i,o,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(i):this.applyNodeGravity(i))}for(n=0;n<this.edges.length;n++)this.applyEdgeAttraction(this.edges[n]);var s=0,u=0,l=t.create();for(n=0;n<e;n++){r=this.nodes[n];var c=t.dist(r.force,r.forcePrev);s+=c*r.mass,t.add(l,r.force,r.forcePrev);var h=.5*t.len(l);u+=h*r.mass,this._swingingArr[n]=c}var f=this.jitterTolerence*this.jitterTolerence*u/s;this._globalSpeed>0&&(f=Math.min(f/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=f;for(n=0;n<e;n++){r=this.nodes[n],c=this._swingingArr[n];var d=.1*f/(1+f*Math.sqrt(c)),p=t.len(r.force);p>0&&(d=Math.min(p*d,10)/p,t.scaleAndAdd(r.position,r.position,r.force,d))}},o.applyRegionToNodeRepulsion=function(){var e=t.create();return function(n,r){if(n.node)this.applyNodeToNodeRepulsion(n.node,r,!0);else{t.sub(e,r.position,n.centerOfMass);var i=e[0]*e[0]+e[1]*e[1];if(i>this.barnesHutTheta*n.size*n.size){var a=this.scaling*r.mass*n.mass/i;t.scaleAndAdd(r.force,r.force,e,a)}else for(var o=0;o<n.nSubRegions;o++)this.applyRegionToNodeRepulsion(n.subRegions[o],r)}}}(),o.applyNodeToNodeRepulsion=function(){var e=t.create();return function(n,r,i){if(n!=r){t.sub(e,n.position,r.position);var a=e[0]*e[0]+e[1]*e[1];if(0!==a){var o;if(this.preventOverlap){var s=Math.sqrt(a);if(s=s-n.size-r.size,s>0)o=this.scaling*n.mass*r.mass/(s*s);else{if(!(s<0))return;o=100*this.scaling*n.mass*r.mass}}else o=this.scaling*n.mass*r.mass/a;t.scaleAndAdd(n.force,n.force,e,o),t.scaleAndAdd(r.force,r.force,e,-o)}}}}(),o.applyEdgeAttraction=function(){var e=t.create();return function(n){var r=n.source,i=n.target;t.sub(e,r.position,i.position);var a,o,s=t.len(e);a=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?n.weight:Math.pow(n.weight,this.edgeWeightInfluence),this.preventOverlap&&(s=s-r.size-i.size,s<=0)||(o=this.linLogMode?-a*Math.log(s+1)/(s+1):-a,t.scaleAndAdd(r.force,r.force,e,o),t.scaleAndAdd(i.force,i.force,e,-o))}}(),o.applyNodeGravity=function(){var e=t.create();return function(n){t.sub(e,this.gravityCenter,n.position);var r=t.len(e);t.scaleAndAdd(n.force,n.force,e,this.gravity*n.mass/(r+1))}}(),o.applyNodeStrongGravity=function(){var e=t.create();return function(n){t.sub(e,this.gravityCenter,n.position),t.scaleAndAdd(n.force,n.force,e,this.gravity*n.mass)}}(),o.updateBBox=function(){for(var t=1/0,e=1/0,n=-1/0,r=-1/0,i=0;i<this.nodes.length;i++){var a=this.nodes[i].position;t=Math.min(t,a[0]),e=Math.min(e,a[1]),n=Math.max(n,a[0]),r=Math.max(r,a[1])}this.bbox[0]=t,this.bbox[1]=e,this.bbox[2]=n,this.bbox[3]=r},o.getGlobalSpeed=function(){return this._globalSpeed};var s=null;self.onmessage=function(t){switch(t.data.cmd){case"init":s=new a,s.initNodes(t.data.nodesPosition,t.data.nodesMass,t.data.nodesSize),s.initEdges(t.data.edges,t.data.edgesWeight);break;case"updateConfig":if(s)for(var e in t.data.config)s[e]=t.data.config[e];break;case"update":var n=t.data.steps;if(s){for(var r=0;r<n;r++)s.update();var i=s.nodes.length,o=new Float32Array(2*i);for(r=0;r<i;r++){var u=s.nodes[r];o[2*r]=u.position[0],o[2*r+1]=u.position[1]}self.postMessage({buffer:o.buffer,globalSpeed:s.getGlobalSpeed()},[o.buffer])}else{var l=new Float32Array;self.postMessage({buffer:l.buffer,globalSpeed:s.getGlobalSpeed()},[l.buffer])}break}}}e["a"]=r},function(t,e,n){"use strict";var r=n(7),i=(n(2),r["a"].extend(function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)},{init:function(){var t=this.zr;t.on("mousedown",this._mouseDownHandler),t.on("mousewheel",this._mouseWheelHandler),t.on("globalout",this._mouseUpHandler),t.animation.on("frame",this._update)},setTarget:function(t){this._target=t},setZoom:function(t){this._zoom=Math.max(Math.min(t,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(t){this._dx=t[0],this._dy=t[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var t=this._target,e=this._zoom;t.position.x=this._dx,t.position.y=this._dy,t.scale.set(e,e,e),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(t){if(!t.target){var e=t.offsetX,n=t.offsetY;if(!this.viewGL||this.viewGL.containPoint(e,n)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var r=this._convertPos(e,n);this._x=r.x,this._y=r.y}}},_convertPos:function(t,e){var n=this.viewGL.camera,r=this.viewGL.viewport;return{x:(t-r.x)/r.width*(n.right-n.left)+n.left,y:(e-r.y)/r.height*(n.bottom-n.top)+n.top}},_mouseMoveHandler:function(t){var e=this._convertPos(t.offsetX,t.offsetY);this._dx+=e.x-this._x,this._dy+=e.y-this._y,this._x=e.x,this._y=e.y,this._needsUpdate=!0},_mouseUpHandler:function(t){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(t){t=t.event;var e=t.wheelDelta||-t.detail;if(0!==e){var n=t.offsetX,r=t.offsetY;if(!this.viewGL||this.viewGL.containPoint(n,r)){var i=e>0?1.1:.9,a=Math.max(Math.min(this._zoom*i,this.maxZoom),this.minZoom);i=a/this._zoom;var o=this._convertPos(n,r),s=(o.x-this._dx)*(i-1),u=(o.y-this._dy)*(i-1);this._dx-=s,this._dy-=u,this._zoom=a,this._needsUpdate=!0}}},dispose:function(){var t=this.zr;t.off("mousedown",this._mouseDownHandler),t.off("mousemove",this._mouseMoveHandler),t.off("mouseup",this._mouseUpHandler),t.off("mousewheel",this._mouseWheelHandler),t.off("globalout",this._mouseUpHandler),t.animation.off("frame",this._update)}}));e["a"]=i},function(t,e,n){"use strict";e["a"]="@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n p2.xy /= p2.w;\n gl_Position.xy /= gl_Position.w;\n\n vec2 N = normalize(p2.xy - gl_Position.xy);\n gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n gl_Position.xy *= gl_Position.w;\n\n v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n\n@end"},function(t,e,n){"use strict";var r=n(0);n.n(r),n(276),n(280)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(22),u=n(277);i.a.extendChartView({type:"flowGL",__ecgl__:!0,init:function(t,e){this.viewGL=new s["a"]("orthographic"),this.groupGL=new a["a"].Node,this.viewGL.add(this.groupGL),this._particleSurface=new u["a"];var n=new a["a"].Mesh({geometry:new a["a"].PlaneGeometry,material:new a["a"].Material({shader:new a["a"].Shader({vertex:a["a"].Shader.source("ecgl.color.vertex"),fragment:a["a"].Shader.source("ecgl.color.fragment")}),transparent:!0})});n.material.enableTexture("diffuseMap"),this.groupGL.add(n),this._planeMesh=n},render:function(t,e,n){var r=this._particleSurface;r.setParticleType(t.get("particleType")),r.setSupersampling(t.get("supersampling")),this._updateData(t,n),this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio());var i=o["a"].firstNotNull(t.get("particleDensity"),128);r.setParticleDensity(i,i);var s=this._planeMesh,u=+new Date,l=this,c=!0;s.__percent=0,s.stopAnimation(),s.animate("",{loop:!0}).when(1e5,{__percent:1}).during(function(){var t=+new Date,e=Math.min(t-u,20);u+=e,l._renderer&&(r.update(l._renderer,n,e/1e3,c),s.material.set("diffuseMap",r.getSurfaceTexture())),c=!1}).start();var h=t.getModel("itemStyle"),f=a["a"].parseColor(h.get("color"));f[3]*=o["a"].firstNotNull(h.get("opacity"),1),s.material.set("color",f),r.setColorTextureImage(t.get("colorTexture"),n),r.setParticleSize(t.get("particleSize")),r.particleSpeedScaling=t.get("particleSpeed"),r.motionBlurFactor=1-Math.pow(.1,t.get("particleTrail"))},updateTransform:function(t,e,n){this._updateData(t,n)},afterRender:function(t,e,n,r){var i=r.renderer;this._renderer=i},_updateData:function(t,e){var n=t.coordinateSystem,r=n.dimensions.map(function(e){return t.coordDimToDataDim(e)[0]}),i=t.getData(),a=i.getDataExtent(r[0]),o=i.getDataExtent(r[1]),s=t.get("gridWidth"),u=t.get("gridHeight");if(null==s||"auto"===s){var l=(a[1]-a[0])/(o[1]-o[0]);s=Math.round(Math.sqrt(l*i.count()))}null!=u&&"auto"!==u||(u=Math.ceil(i.count()/s));var c=this._particleSurface.vectorFieldTexture,h=c.pixels;if(h&&h.length===u*s*4)for(var f=0;f<h.length;f++)h[f]=0;else h=c.pixels=new Float32Array(s*u*4);var d=0,p=1/0,m=new Float32Array(2*i.count()),g=0,v=[[1/0,1/0],[-1/0,-1/0]];i.each([r[0],r[1],"vx","vy"],function(t,e,r,i){var a=n.dataToPoint([t,e]);m[g++]=a[0],m[g++]=a[1],v[0][0]=Math.min(a[0],v[0][0]),v[0][1]=Math.min(a[1],v[0][1]),v[1][0]=Math.max(a[0],v[1][0]),v[1][1]=Math.max(a[1],v[1][1]);var o=Math.sqrt(r*r+i*i);d=Math.max(d,o),p=Math.min(p,o)}),i.each(["vx","vy"],function(t,e,n){var r=Math.round((m[2*n]-v[0][0])/(v[1][0]-v[0][0])*(s-1)),i=u-1-Math.round((m[2*n+1]-v[0][1])/(v[1][1]-v[0][1])*(u-1)),a=4*(i*s+r);h[a]=t/d*.5+.5,h[a+1]=e/d*.5+.5,h[a+3]=1}),c.width=s,c.height=u,"bmap"===t.get("coordinateSystem")&&this._fillEmptyPixels(c),c.dirty(),this._updatePlanePosition(v[0],v[1],t,e),this._updateGradientTexture(i.getVisual("visualMeta"),[p,d])},_fillEmptyPixels:function(t){var e=t.pixels,n=t.width,r=t.height;function i(t,i,a){t=Math.max(Math.min(t,n-1),0),i=Math.max(Math.min(i,r-1),0);var o=4*(i*(n-1)+t);return 0!==e[o+3]&&(a[0]=e[o],a[1]=e[o+1],!0)}function a(t,e,n){n[0]=t[0]+e[0],n[1]=t[1]+e[1]}for(var o=[],s=[],u=[],l=[],c=[],h=0,f=0;f<r;f++)for(var d=0;d<n;d++){var p=4*(f*(n-1)+d);0===e[p+3]&&(h=o[0]=o[1]=0,i(d-1,f,s)&&(h++,a(s,o,o)),i(d+1,f,u)&&(h++,a(u,o,o)),i(d,f-1,l)&&(h++,a(l,o,o)),i(d,f+1,c)&&(h++,a(c,o,o)),o[0]/=h,o[1]/=h,e[p]=o[0],e[p+1]=o[1]),e[p+3]=1}},_updateGradientTexture:function(t,e){if(t&&t.length){this._gradientTexture=this._gradientTexture||new a["a"].Texture2D({image:document.createElement("canvas")});var n=this._gradientTexture,r=n.image;r.width=200,r.height=1;var i=r.getContext("2d"),o=i.createLinearGradient(0,.5,r.width,.5);t[0].stops.forEach(function(t){var n;e[1]===e[0]?n=0:(n=t.value/e[1],n=Math.min(Math.max(n,0),1)),o.addColorStop(n,t.color)}),i.fillStyle=o,i.fillRect(0,0,r.width,r.height),n.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(t,e,n,r){var i=this._limitInViewportAndFullFill(t,e,n,r);t=i.leftTop,e=i.rightBottom,this._particleSurface.setRegion(i.region),this._planeMesh.position.set((t[0]+e[0])/2,r.getHeight()-(t[1]+e[1])/2,0);var a=e[0]-t[0],o=e[1]-t[1];this._planeMesh.scale.set(a/2,o/2,1),this._particleSurface.resize(Math.max(Math.min(a,2048),1),Math.max(Math.min(o,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(t,e,n,r){var i=[Math.max(t[0],0),Math.max(t[1],0)],a=[Math.min(e[0],r.getWidth()),Math.min(e[1],r.getHeight())];if("bmap"===n.get("coordinateSystem")){var o=n.getData().getDataExtent(n.coordDimToDataDim("lng")[0]),s=Math.floor(o[1]-o[0])>=359;s&&(i[0]>0&&(i[0]=0),a[0]<r.getWidth()&&(a[0]=r.getWidth()))}var u=e[0]-t[0],l=e[1]-t[1],c=a[0]-i[0],h=a[1]-i[1],f=[(i[0]-t[0])/u,1-h/l-(i[1]-t[1])/l,c/u,h/l];return{leftTop:i,rightBottom:a,region:f}},_updateCamera:function(t,e,n){this.viewGL.setViewport(0,0,t,e,n);var r=this.viewGL.camera;r.left=r.bottom=0,r.top=e,r.right=t,r.near=0,r.far=100,r.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(16),i=n(15),a=n(40),o=n(19),s=n(8),u=n(5),l=n(4),c=n(37),h=n(43),f=n(10),d=n(278),p=n(279);function m(t){var e=document.createElement("canvas");e.width=e.height=t;var n=e.getContext("2d");return n.fillStyle="#fff",n.arc(t/2,t/2,t/2,0,2*Math.PI),n.fill(),e}s["a"]["import"](p["a"]);var g=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new u["a"]({type:l["a"].FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};g.prototype={constructor:g,init:function(){var t={type:l["a"].FLOAT,minFilter:l["a"].NEAREST,magFilter:l["a"].NEAREST,useMipmap:!1};this._spawnTexture=new u["a"](t),this._particleTexture0=new u["a"](t),this._particleTexture1=new u["a"](t),this._frameBuffer=new f["a"]({depthBuffer:!1}),this._particlePass=new r["a"]({fragment:s["a"].source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new r["a"]({fragment:s["a"].source("clay.compositor.downsample")});var e=new a["a"]({renderOrder:10,material:new o["a"]({shader:new s["a"](s["a"].source("ecgl.vfParticle.renderPoints.vertex"),s["a"].source("ecgl.vfParticle.renderPoints.fragment"))}),mode:a["a"].POINTS,geometry:new i["a"]({dynamic:!0,mainAttribute:"texcoord0"})}),n=new a["a"]({renderOrder:10,material:new o["a"]({shader:new s["a"](s["a"].source("ecgl.vfParticle.renderLines.vertex"),s["a"].source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new d["a"],culling:!1}),p=new a["a"]({material:new o["a"]({shader:new s["a"](s["a"].source("ecgl.color.vertex"),s["a"].source("ecgl.color.fragment"))}),geometry:new h["a"]});p.material.enableTexture("diffuseMap"),this._particlePointsMesh=e,this._particleLinesMesh=n,this._lastFrameFullQuadMesh=p,this._camera=new c["a"],this._thisFrameTexture=new u["a"],this._lastFrameTexture=new u["a"]},setParticleDensity:function(t,e){for(var n=t*e,r=new Float32Array(4*n),i=0,a=this.particleLife,o=0;o<t;o++)for(var s=0;s<e;s++,i++){r[4*i]=Math.random(),r[4*i+1]=Math.random(),r[4*i+2]=Math.random();var u=(a[1]-a[0])*Math.random()+a[0];r[4*i+3]=u}"line"===this._particleType?this._setLineGeometry(t,e):this._setPointsGeometry(t,e),this._spawnTexture.width=t,this._spawnTexture.height=e,this._spawnTexture.pixels=r,this._particleTexture0.width=this._particleTexture1.width=t,this._particleTexture0.height=this._particleTexture1.height=e,this._particlePass.setUniform("textureSize",[t,e])},_setPointsGeometry:function(t,e){var n=t*e,r=this._particlePointsMesh.geometry,i=r.attributes;i.texcoord0.init(n);for(var a=0,o=0;o<t;o++)for(var s=0;s<e;s++,a++)i.texcoord0.value[2*a]=o/t,i.texcoord0.value[2*a+1]=s/e;r.dirty()},_setLineGeometry:function(t,e){var n=t*e,r=this._getParticleMesh().geometry;r.setLineCount(n),r.resetOffset();for(var i=0;i<t;i++)for(var a=0;a<e;a++)r.addLine([i/t,a/e]);r.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(t,e,n,r){var i=this._getParticleMesh(),a=this._frameBuffer,o=this._particlePass;r&&this._updateDownsampleTextures(t,e),i.material.set("size",this._particleSize*this._supersampling),i.material.set("color",this.particleColor),o.setUniform("speedScaling",this.particleSpeedScaling),a.attach(this._particleTexture1),o.setUniform("firstFrameTime",r?(this.particleLife[1]+this.particleLife[0])/2:0),o.setUniform("particleTexture",this._particleTexture0),o.setUniform("deltaTime",n),o.setUniform("elapsedTime",this._elapsedTime),o.render(t,a),i.material.set("particleTexture",this._particleTexture1),i.material.set("prevParticleTexture",this._particleTexture0),a.attach(this._thisFrameTexture),a.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set("diffuseMap",this._lastFrameTexture),s.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),t.renderPass([s,i],this._camera),a.unbind(t),this._downsample(t),this._swapTexture(),this._elapsedTime+=n},_downsample:function(t){var e=this._downsampleTextures;if(0!==e.length){var n=0,r=this._thisFrameTexture,i=e[n];while(i)this._frameBuffer.attach(i),this._downsamplePass.setUniform("texture",r),this._downsamplePass.setUniform("textureSize",[r.width,r.height]),this._downsamplePass.render(t,this._frameBuffer),r=i,i=e[++n]}},getSurfaceTexture:function(){var t=this._downsampleTextures;return t.length>0?t[t.length-1]:this._lastFrameTexture},setRegion:function(t){this._particlePass.setUniform("region",t)},resize:function(t,e){this._lastFrameTexture.width=t*this._supersampling,this._lastFrameTexture.height=e*this._supersampling,this._thisFrameTexture.width=t*this._supersampling,this._thisFrameTexture.height=e*this._supersampling,this._width=t,this._height=e},setParticleSize:function(t){var e=this._getParticleMesh();if(t<=2)return e.material.disableTexture("spriteTexture"),void(e.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new u["a"]),this._spriteTexture.image&&this._spriteTexture.image.width===t||(this._spriteTexture.image=m(t),this._spriteTexture.dirty()),e.material.transparent=!0,e.material.enableTexture("spriteTexture"),e.material.set("spriteTexture",this._spriteTexture),this._particleSize=t},setGradientTexture:function(t){var e=this._getParticleMesh().material;e[t?"enableTexture":"disableTexture"]("gradientTexture"),e.setUniform("gradientTexture",t)},setColorTextureImage:function(t,e){var n=this._getParticleMesh().material;n.setTextureImage("colorTexture",t,e,{flipY:!0})},setParticleType:function(t){this._particleType=t},clearFrame:function(t){var e=this._frameBuffer;e.attach(this._lastFrameTexture),e.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),e.unbind(t)},setSupersampling:function(t){this._supersampling=t,this.resize(this._width,this._height)},_updateDownsampleTextures:function(t,e){for(var n=this._downsampleTextures,r=Math.max(Math.floor(Math.log(this._supersampling/e.getDevicePixelRatio())/Math.log(2)),0),i=2,a=this._width*this._supersampling,o=this._height*this._supersampling,s=0;s<r;s++)n[s]=n[s]||new u["a"],n[s].width=a/i,n[s].height=o/i,i*=2;for(;s<n.length;s++)n[s].dispose(t);n.length=r},_swapTexture:function(){var t=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=t;t=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=t},dispose:function(t){t.disposeFrameBuffer(this._frameBuffer),t.disposeTexture(this.vectorFieldTexture),t.disposeTexture(this._spawnTexture),t.disposeTexture(this._particleTexture0),t.disposeTexture(this._particleTexture1),t.disposeTexture(this._thisFrameTexture),t.disposeTexture(this._lastFrameTexture),t.disposeGeometry(this._particleLinesMesh.geometry),t.disposeGeometry(this._particlePointsMesh.geometry),t.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&t.disposeTexture(this._spriteTexture),this._particlePass.dispose(t),this._downsamplePass.dispose(t),this._downsampleTextures.forEach(function(e){e.dispose(t)})}},e["a"]=g},function(t,e,n){"use strict";var r=n(15),i=n(0),a=(n.n(i),r["a"].extend(function(){return{dynamic:!0,attributes:{position:new r["a"].Attribute("position","float",3,"POSITION")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(t){var e=this.attributes,n=4*t,r=2*t;this.vertexCount!==n&&e.position.init(n),this.triangleCount!==r&&(this.indices=0===r?null:this.vertexCount>65535?new Uint32Array(3*r):new Uint16Array(3*r))},addLine:function(t){var e=this._vertexOffset;this.attributes.position.set(e,[t[0],t[1],1]),this.attributes.position.set(e+1,[t[0],t[1],-1]),this.attributes.position.set(e+2,[t[0],t[1],2]),this.attributes.position.set(e+3,[t[0],t[1],-2]),this.setTriangleIndices(this._faceOffset++,[e,e+1,e+2]),this.setTriangleIndices(this._faceOffset++,[e+1,e+2,e+3]),this._vertexOffset+=4}}));e["a"]=a},function(t,e,n){"use strict";e["a"]="@export ecgl.vfParticle.particle.fragment\n\nuniform sampler2D particleTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D velocityTexture;\n\nuniform float deltaTime;\nuniform float elapsedTime;\n\nuniform float speedScaling : 1.0;\n\nuniform vec2 textureSize;\nuniform vec4 region : [0, 0, 1, 1];\nuniform float firstFrameTime;\n\nvarying vec2 v_Texcoord;\n\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, v_Texcoord);\n bool spawn = false;\n if (p.w <= 0.0) {\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\n p.w -= firstFrameTime;\n spawn = true;\n }\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\n v = (v - 0.5) * 2.0;\n p.z = length(v);\n p.xy += v * deltaTime / 10.0 * speedScaling;\n p.w -= deltaTime;\n\n if (spawn || p.xy != fract(p.xy)) {\n p.z = 0.0;\n }\n p.xy = fract(p.xy);\n\n gl_FragColor = p;\n}\n@end\n\n@export ecgl.vfParticle.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D particleTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size : 1.0;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, texcoord);\n\n if (p.w > 0.0 && p.z > 1e-5) {\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n\n v_Mag = p.z;\n v_Uv = p.xy;\n\n gl_PointSize = size;\n}\n\n@end\n\n@export ecgl.vfParticle.renderPoints.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n if (color.a == 0.0) {\n discard;\n }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D particleTexture;\nuniform sampler2D prevParticleTexture;\n\nuniform float size : 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\n@import clay.util.rand\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, position.xy);\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\n\n p.xy = p.xy * 2.0 - 1.0;\n p2.xy = p2.xy * 2.0 - 1.0;\n\n if (p.w > 0.0 && p.z > 1e-5) {\n vec2 dir = normalize(p.xy - p2.xy);\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n if (abs(position.z) == 2.0) {\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n v_Uv = p.xy;\n v_Mag = p.z;\n }\n else {\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n v_Mag = p2.z;\n v_Uv = p2.xy;\n }\n gl_Position = worldViewProjection * gl_Position;\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n #ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n"},function(t,e,n){"use strict";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualColorAccessPath:"itemStyle.color",getInitialData:function(t,e){var n=i.a.getCoordinateSystemDimensions(this.get("coordinateSystem"))||["x","y"];if(n.length>2)throw new Error("flowGL can only be used on 2d coordinate systems.");n.push("vx","vy");var r=i.a.helper.completeDimensions(n,this.getSource(),{encodeDef:this.get("encode"),dimsDef:this.get("dimensions")}),a=new i.a.List(r,this);return a.initData(this.getSource()),a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(282),n(283),n(17));i.a.registerVisual(Object(a["a"])("linesGL"))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(13),o=(n.n(a),i.a.extendSeriesModel({type:"series.linesGL",dependencies:["grid","geo"],visualColorAccessPath:"lineStyle.color",streamEnabled:!0,init:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),o.superApply(this,"init",arguments)},mergeOption:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),o.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=Object(a["concatArray"])(this._flatCoords,e.flatCoords),this._flatCoordsOffset=Object(a["concatArray"])(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow("coords");if(!(n instanceof Array&&n.length>0&&n[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(n)+". Lines must have 2d coords array in data item.");return n},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],i=0;i<r;i++)e[i]=e[i]||[],e[i][0]=this._flatCoords[n+2*i],e[i][1]=this._flatCoords[n+2*i+1];return r}var a=this._getCoordsFromItemModel(t);for(i=0;i<a.length;i++)e[i]=e[i]||[],e[i][0]=a[i][0],e[i][1]=a[i][1];return a.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"===typeof t[0]){for(var n=t.length,r=new Uint32Array(n),i=new Float64Array(n),a=0,o=0,s=0,u=0;u<n;){s++;var l=t[u++];r[o++]=a+e,r[o++]=l;for(var c=0;c<l;c++){var h=t[u++],f=t[u++];if(i[a++]=h,i[a++]=f,u>n)throw new Error("Invalid data format.")}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var n=new i.a.List(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[i]:a:void 0}),n},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(22),s=n(105),u=n(103),l=n(2);i.a.extendChartView({type:"linesGL",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this.viewGL=new o["a"]("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new u["a"](this.viewGL),this._nativeLinesShader=a["a"].createShader("ecgl.lines3D"),this._meshLinesShader=a["a"].createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n);var r=this._linesMeshes[0];r||(r=this._linesMeshes[0]=this._createLinesMesh(t)),this._linesMeshes.length=1,this.groupGL.add(r),this._updateLinesMesh(t,r,0,t.getData().count()),this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n),this._currentStep=0,this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalRender:function(t,e,n,r){var i=this._linesMeshes[this._currentStep];i||(i=this._createLinesMesh(e),this._linesMeshes[this._currentStep]=i),this._updateLinesMesh(e,i,t.start,t.end),this.groupGL.add(i),r.getZr().refresh(),this._currentStep++},updateTransform:function(t,e,n){t.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(t,n)},_createLinesMesh:function(t){var e=new a["a"].Mesh({$ignorePicking:!0,material:new a["a"].Material({shader:a["a"].createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new s["a"]({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:a["a"].Mesh.LINES,culling:!1});return e},_updateLinesMesh:function(t,e,n,r){var i=t.getData();e.material.blend="lighter"===t.get("blendMode")?a["a"].additiveBlend:null;var o=t.get("lineStyle.curveness")||0,s=t.get("polyline"),u=e.geometry,c=t.coordinateSystem,h=l["a"].firstNotNull(t.get("lineStyle.width"),1);h>1?(e.material.shader!==this._meshLinesShader&&e.material.attachShader(this._meshLinesShader),e.mode=a["a"].Mesh.TRIANGLES):(e.material.shader!==this._nativeLinesShader&&e.material.attachShader(this._nativeLinesShader),e.mode=a["a"].Mesh.LINES),n=n||0,r=r||i.count(),u.resetOffset();var f=0,d=0,p=[],m=[],g=[],v=[],_=[],y=.3,x=.7;function b(){m[0]=p[0]*x+v[0]*y-(p[1]-v[1])*o,m[1]=p[1]*x+v[1]*y-(v[0]-p[0])*o,g[0]=p[0]*y+v[0]*x-(p[1]-v[1])*o,g[1]=p[1]*y+v[1]*x-(v[0]-p[0])*o}if(s||0!==o)for(var w=n;w<r;w++)if(s){var T=t.getLineCoordsCount(w);f+=u.getPolylineVertexCount(T),d+=u.getPolylineTriangleCount(T)}else t.getLineCoords(w,_),this._glViewHelper.dataToPoint(c,_[0],p),this._glViewHelper.dataToPoint(c,_[1],v),b(),f+=u.getCubicCurveVertexCount(p,m,g,v),d+=u.getCubicCurveTriangleCount(p,m,g,v);else{var S=r-n;f+=S*u.getLineVertexCount(),d+=S*u.getLineVertexCount()}u.setVertexCount(f),u.setTriangleCount(d);var E=n,M=[];for(w=n;w<r;w++){a["a"].parseColor(i.getItemVisual(E,"color"),M);var A=l["a"].firstNotNull(i.getItemVisual(E,"opacity"),1);M[3]*=A;T=t.getLineCoords(w,_);for(var C=0;C<T;C++)this._glViewHelper.dataToPoint(c,_[C],_[C]);s?u.addPolyline(_,M,h,0,T):0!==o?(p=_[0],v=_[1],b(),u.addCubicCurve(p,m,g,v,M,h)):u.addPolyline(_,M,h,0,2),E++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})}])})},"7cd6":function(t,e,n){var r=n("40c3"),i=n("5168")("iterator"),a=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[r(t)]}},"7d6d":function(t,e){var n={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function r(t,e,r){return n.hasOwnProperty(e)?r*t.dpr:r}t.exports=r},"7d7b":function(t,e,n){var r=n("e4ae"),i=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},"7e63":function(t,e,n){var r=n("4e08"),i=(r.__DEV__,n("6d8b")),a=i.each,o=i.filter,s=i.map,u=i.isArray,l=i.indexOf,c=i.isObject,h=i.isString,f=i.createHashMap,d=i.assert,p=i.clone,m=i.merge,g=i.extend,v=i.mixin,_=n("e0d3"),y=n("4319"),x=n("6cb7"),b=n("8971"),w=n("e47b"),T=n("0f99"),S=T.resetSourceDefaulter,E="\0_ec_inner",M=y.extend({init:function(t,e,n,r){n=n||{},this.option=null,this._theme=new y(n),this._optionManager=r},setOption:function(t,e){d(!(E in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var r=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(r)):O.call(this,r),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var i=n.getTimelineOption(this);i&&(this.mergeOption(i),e=!0)}if(!t||"recreate"===t||"media"===t){var o=n.getMediaOption(this,this._api);o.length&&a(o,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){var e=this.option,n=this._componentsMap,r=[];function i(r,i){var o=_.normalizeToArray(t[r]),s=_.mappingToExists(n.get(r),o);_.makeIdAndName(s),a(s,function(t,e){var n=t.option;c(n)&&(t.keyInfo.mainType=r,t.keyInfo.subType=L(r,n,t.exist))});var u=D(n,i);e[r]=[],n.set(r,[]),a(s,function(t,i){var a=t.exist,o=t.option;if(d(c(o)||a,"Empty component definition"),o){var s=x.getClass(r,t.keyInfo.subType,!0);if(a&&a instanceof s)a.name=t.keyInfo.name,a.mergeOption(o,this),a.optionUpdated(o,!1);else{var l=g({dependentModels:u,componentIndex:i},t.keyInfo);a=new s(o,this,this,l),g(a,l),a.init(o,this,this,l),a.optionUpdated(null,!0)}}else a.mergeOption({},this),a.optionUpdated({},!1);n.get(r)[i]=a,e[r][i]=a.option},this),"series"===r&&I(this,n.get("series"))}S(this),a(t,function(t,n){null!=t&&(x.hasClass(n)?n&&r.push(n):e[n]=null==e[n]?p(t):m(e[n],t,!0))}),x.topologicalTravel(r,x.getAllClassMainTypes(),i,this),this._seriesIndicesMap=f(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=p(this.option);return a(t,function(e,n){if(x.hasClass(n)){e=_.normalizeToArray(e);for(var r=e.length-1;r>=0;r--)_.isIdInner(e[r])&&e.splice(r,1);t[n]=e}}),delete t[E],t},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,r=t.index,i=t.id,a=t.name,c=this._componentsMap.get(e);if(!c||!c.length)return[];if(null!=r)u(r)||(r=[r]),n=o(s(r,function(t){return c[t]}),function(t){return!!t});else if(null!=i){var h=u(i);n=o(c,function(t){return h&&l(i,t.id)>=0||!h&&t.id===i})}else if(null!=a){var f=u(a);n=o(c,function(t){return f&&l(a,t.name)>=0||!f&&t.name===a})}else n=c.slice();return P(n,t)},findComponents:function(t){var e=t.query,n=t.mainType,r=a(e),i=r?this.queryComponents(r):this._componentsMap.get(n);return s(P(i,t));function a(t){var e=n+"Index",r=n+"Id",i=n+"Name";return!t||null==t[e]&&null==t[r]&&null==t[i]?null:{mainType:n,index:t[e],id:t[r],name:t[i]}}function s(e){return t.filter?o(e,t.filter):e}},eachComponent:function(t,e,n){var r=this._componentsMap;if("function"===typeof t)n=e,e=t,r.each(function(t,r){a(t,function(t,i){e.call(n,r,t,i)})});else if(h(t))a(r.get(t),e,n);else if(c(t)){var i=this.findComponents(t);a(i,e,n)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return o(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return o(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){R(this),a(this._seriesIndices,function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)},this)},eachRawSeries:function(t,e){a(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,n){R(this),a(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];i.subType===t&&e.call(n,i,r)},this)},eachRawSeriesByType:function(t,e,n){return a(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return R(this),null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){R(this);var n=o(this._componentsMap.get("series"),t,e);I(this,n)},restoreData:function(t){var e=this._componentsMap;I(this,e.get("series"));var n=[];e.each(function(t,e){n.push(e)}),x.topologicalTravel(n,x.getAllClassMainTypes(),function(n,r){a(e.get(n),function(e){("series"!==n||!A(e,t))&&e.restoreData()})})}});function A(t,e){if(e){var n=e.seiresIndex,r=e.seriesId,i=e.seriesName;return null!=n&&t.componentIndex!==n||null!=r&&t.id!==r||null!=i&&t.name!==i}}function C(t,e){var n=t.color&&!t.colorLayer;a(e,function(e,r){"colorLayer"===r&&n||x.hasClass(r)||("object"===typeof e?t[r]=t[r]?m(t[r],e,!1):p(e):null==t[r]&&(t[r]=e))})}function O(t){t=t,this.option={},this.option[E]=1,this._componentsMap=f({series:[]}),this._seriesIndices,this._seriesIndicesMap,C(t,this._theme.option),m(t,b,!1),this.mergeOption(t)}function D(t,e){u(e)||(e=e?[e]:[]);var n={};return a(e,function(e){n[e]=(t.get(e)||[]).slice()}),n}function L(t,e,n){var r=e.type?e.type:n?n.subType:x.determineSubType(t,e);return r}function I(t,e){t._seriesIndicesMap=f(t._seriesIndices=s(e,function(t){return t.componentIndex})||[])}function P(t,e){return e.hasOwnProperty("subType")?o(t,function(t){return t.subType===e.subType}):t}function R(t){}v(M,w);var N=M;t.exports=N},"7e90":function(t,e,n){var r=n("d9f6"),i=n("e4ae"),a=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){i(t);var n,o=a(e),s=o.length,u=0;while(s>u)r.f(t,n=o[u++],e[n]);return t}},"7eb8":function(t,e,n){var r={"./axis.ts":"bf06","./legend.ts":"70c0","./markareas.ts":"9c69","./marks.ts":"7ac5","./tooltip.ts":"172f"};function i(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="7eb8"},"7f20":function(t,e,n){var r=n("86cc").f,i=n("69a8"),a=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},"7f7f":function(t,e,n){var r=n("86cc").f,i=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in i||n("9e1e")&&r(i,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},8079:function(t,e,n){var r=n("7726"),i=n("1991").set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,u="process"==n("2d95")(o);t.exports=function(){var t,e,n,l=function(){var r,i;u&&(r=o.domain)&&r.exit();while(t){i=t.fn,t=t.next;try{i()}catch(a){throw t?n():e=void 0,a}}e=void 0,r&&r.enter()};if(u)n=function(){o.nextTick(l)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var h=!0,f=document.createTextNode("");new a(l).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},"80f0":function(t,e){function n(t){return t}function r(t,e,r,i,a){this._old=t,this._new=e,this._oldKeyGetter=r||n,this._newKeyGetter=i||n,this.context=a}function i(t,e,n,r,i){for(var a=0;a<t.length;a++){var o="_ec_"+i[r](t[a],a),s=e[o];null==s?(n.push(o),e[o]=a):(s.length||(e[o]=s=[s]),s.push(a))}}r.prototype={constructor:r,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},r={},a=[],o=[];for(i(t,n,a,"_oldKeyGetter",this),i(e,r,o,"_newKeyGetter",this),c=0;c<t.length;c++){var s=a[c],u=r[s];if(null!=u){var l=u.length;l?(1===l&&(r[s]=null),u=u.unshift()):r[s]=null,this._update&&this._update(u,c)}else this._remove&&this._remove(c)}for(var c=0;c<o.length;c++){s=o[c];if(r.hasOwnProperty(s)){u=r[s];if(null==u)continue;if(u.length){var h=0;for(l=u.length;h<l;h++)this._add&&this._add(u[h])}else this._add&&this._add(u)}}}};var a=r;t.exports=a},"810d":function(t,e,n){"use strict";n.r(e),e["default"]=function(t){var e;return t.marks&&"max-min"===t.marks.type&&(e={data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}),{markPoint:e}}},"81f8":function(t,e,n){"use strict";n.r(e),e["default"]={name:"no-lines",props:{y:{line:!1,ticks:!1},x:{line:!1,ticks:!1}}}},"82eb":function(t,e){var n={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},r=9;e.ContextCachedBy=n,e.WILL_BE_RESTORED=r},"834a":function(t,e,n){"use strict";n.r(e),e["default"]=[{name:"女性",value:[[161.2,51.6],[167.5,59],[159.5,49.2],[157,63],[155.8,53.6],[170,59],[159.1,47.6],[166,69.8],[176.2,66.8],[160.2,75.2],[172.5,55.2],[170.9,54.2],[172.9,62.5],[153.4,42],[160,50],[147.2,49.8],[168.2,49.2],[175,73.2],[157,47.8],[167.6,68.8],[159.5,50.6],[175,82.5],[166.8,57.2],[176.5,87.8],[170.2,72.8],[174,54.5],[173,59.8],[179.9,67.3],[170.5,67.8],[160,47],[154.4,46.2],[162,55],[176.5,83],[160,54.4],[152,45.8],[162.1,53.6],[170,73.2],[160.2,52.1],[161.3,67.9],[166.4,56.6],[168.9,62.3],[163.8,58.5],[167.6,54.5],[160,50.2],[161.3,60.3],[167.6,58.3],[165.1,56.2],[160,50.2],[170,72.9],[157.5,59.8],[167.6,61],[160.7,69.1],[163.2,55.9],[152.4,46.5],[157.5,54.3],[168.3,54.8],[180.3,60.7],[165.5,60],[165,62],[164.5,60.3],[156,52.7],[160,74.3],[163,62],[165.7,73.1],[161,80],[162,54.7],[166,53.2],[174,75.7],[172.7,61.1],[167.6,55.7],[151.1,48.7],[164.5,52.3],[163.5,50],[152,59.3],[169,62.5],[164,55.7],[161.2,54.8],[155,45.9],[170,70.6],[176.2,67.2],[170,69.4],[162.5,58.2],[170.3,64.8],[164.1,71.6],[169.5,52.8],[163.2,59.8],[154.5,49],[159.8,50],[173.2,69.2],[170,55.9],[161.4,63.4],[169,58.2],[166.2,58.6],[159.4,45.7],[162.5,52.2],[159,48.6],[162.8,57.8],[159,55.6],[179.8,66.8],[162.9,59.4],[161,53.6],[151.1,73.2],[168.2,53.4],[168.9,69],[173.2,58.4],[171.8,56.2],[178,70.6],[164.3,59.8],[163,72],[168.5,65.2],[166.8,56.6],[172.7,105.2],[163.5,51.8],[169.4,63.4],[167.8,59],[159.5,47.6],[167.6,63],[161.2,55.2],[160,45],[163.2,54],[162.2,50.2],[161.3,60.2],[149.5,44.8],[157.5,58.8],[163.2,56.4],[172.7,62],[155,49.2],[156.5,67.2],[164,53.8],[160.9,54.4],[162.8,58],[167,59.8],[160,54.8],[160,43.2],[168.9,60.5],[158.2,46.4],[156,64.4],[160,48.8],[167.1,62.2],[158,55.5],[167.6,57.8],[156,54.6],[162.1,59.2],[173.4,52.7],[159.8,53.2],[170.5,64.5],[159.2,51.8],[157.5,56],[161.3,63.6],[162.6,63.2],[160,59.5],[168.9,56.8],[165.1,64.1],[162.6,50],[165.1,72.3],[166.4,55],[160,55.9],[152.4,60.4],[170.2,69.1],[162.6,84.5],[170.2,55.9],[158.8,55.5],[172.7,69.5],[167.6,76.4],[162.6,61.4],[167.6,65.9],[156.2,58.6],[175.2,66.8],[172.1,56.6],[162.6,58.6],[160,55.9],[165.1,59.1],[182.9,81.8],[166.4,70.7],[165.1,56.8],[177.8,60],[165.1,58.2],[175.3,72.7],[154.9,54.1],[158.8,49.1],[172.7,75.9],[168.9,55],[161.3,57.3],[167.6,55],[165.1,65.5],[175.3,65.5],[157.5,48.6],[163.8,58.6],[167.6,63.6],[165.1,55.2],[165.1,62.7],[168.9,56.6],[162.6,53.9],[164.5,63.2],[176.5,73.6],[168.9,62],[175.3,63.6],[159.4,53.2],[160,53.4],[170.2,55],[162.6,70.5],[167.6,54.5],[162.6,54.5],[160.7,55.9],[160,59],[157.5,63.6],[162.6,54.5],[152.4,47.3],[170.2,67.7],[165.1,80.9],[172.7,70.5],[165.1,60.9],[170.2,63.6],[170.2,54.5],[170.2,59.1],[161.3,70.5],[167.6,52.7],[167.6,62.7],[165.1,86.3],[162.6,66.4],[152.4,67.3],[168.9,63],[170.2,73.6],[175.2,62.3],[175.2,57.7],[160,55.4],[165.1,104.1],[174,55.5],[170.2,77.3],[160,80.5],[167.6,64.5],[167.6,72.3],[167.6,61.4],[154.9,58.2],[162.6,81.8],[175.3,63.6],[171.4,53.4],[157.5,54.5],[165.1,53.6],[160,60],[174,73.6],[162.6,61.4],[174,55.5],[162.6,63.6],[161.3,60.9],[156.2,60],[149.9,46.8],[169.5,57.3],[160,64.1],[175.3,63.6],[169.5,67.3],[160,75.5],[172.7,68.2],[162.6,61.4],[157.5,76.8],[176.5,71.8],[164.4,55.5],[160.7,48.6],[174,66.4],[163.8,67.3]]},{name:"男性",value:[[174,65.6],[175.3,71.8],[193.5,80.7],[186.5,72.6],[187.2,78.8],[181.5,74.8],[184,86.4],[184.5,78.4],[175,62],[184,81.6],[180,76.6],[177.8,83.6],[192,90],[176,74.6],[174,71],[184,79.6],[192.7,93.8],[171.5,70],[173,72.4],[176,85.9],[176,78.8],[180.5,77.8],[172.7,66.2],[176,86.4],[173.5,81.8],[178,89.6],[180.3,82.8],[180.3,76.4],[164.5,63.2],[173,60.9],[183.5,74.8],[175.5,70],[188,72.4],[189.2,84.1],[172.8,69.1],[170,59.5],[182,67.2],[170,61.3],[177.8,68.6],[184.2,80.1],[186.7,87.8],[171.4,84.7],[172.7,73.4],[175.3,72.1],[180.3,82.6],[182.9,88.7],[188,84.1],[177.2,94.1],[172.1,74.9],[167,59.1],[169.5,75.6],[174,86.2],[172.7,75.3],[182.2,87.1],[164.1,55.2],[163,57],[171.5,61.4],[184.2,76.8],[174,86.8],[174,72.2],[177,71.6],[186,84.8],[167,68.2],[171.8,66.1],[182,72],[167,64.6],[177.8,74.8],[164.5,70],[192,101.6],[175.5,63.2],[171.2,79.1],[181.6,78.9],[167.4,67.7],[181.1,66],[177,68.2],[174.5,63.9],[177.5,72],[170.5,56.8],[182.4,74.5],[197.1,90.9],[180.1,93],[175.5,80.9],[180.6,72.7],[184.4,68],[175.5,70.9],[180.6,72.5],[177,72.5],[177.1,83.4],[181.6,75.5],[176.5,73],[175,70.2],[174,73.4],[165.1,70.5],[177,68.9],[192,102.3],[176.5,68.4],[169.4,65.9],[182.1,75.7],[179.8,84.5],[175.3,87.7],[184.9,86.4],[177.3,73.2],[167.4,53.9],[178.1,72],[168.9,55.5],[157.2,58.4],[180.3,83.2],[170.2,72.7],[177.8,64.1],[172.7,72.3],[165.1,65],[186.7,86.4],[165.1,65],[174,88.6],[175.3,84.1],[185.4,66.8],[177.8,75.5],[180.3,93.2],[180.3,82.7],[177.8,58],[177.8,79.5],[177.8,78.6],[177.8,71.8],[177.8,116.4],[163.8,72.2],[188,83.6],[198.1,85.5],[175.3,90.9],[166.4,85.9],[190.5,89.1],[166.4,75],[177.8,77.7],[179.7,86.4],[172.7,90.9],[190.5,73.6],[185.4,76.4],[168.9,69.1],[167.6,84.5],[175.3,64.5],[170.2,69.1],[190.5,108.6],[177.8,86.4],[190.5,80.9],[177.8,87.7],[184.2,94.5],[176.5,80.2],[177.8,72],[180.3,71.4],[171.4,72.7],[172.7,84.1],[172.7,76.8],[177.8,63.6],[177.8,80.9],[182.9,80.9],[170.2,85.5],[167.6,68.6],[175.3,67.7],[165.1,66.4],[185.4,102.3],[181.6,70.5],[172.7,95.9],[190.5,84.1],[179.1,87.3],[175.3,71.8],[170.2,65.9],[193,95.9],[171.4,91.4],[177.8,81.8],[177.8,96.8],[167.6,69.1],[167.6,82.7],[180.3,75.5],[182.9,79.5],[176.5,73.6],[186.7,91.8],[188,84.1],[188,85.9],[177.8,81.8],[174,82.5],[177.8,80.5],[171.4,70],[185.4,81.8],[185.4,84.1],[188,90.5],[188,91.4],[182.9,89.1],[176.5,85],[175.3,69.1],[175.3,73.6],[188,80.5],[188,82.7],[175.3,86.4],[170.5,67.7],[179.1,92.7],[177.8,93.6],[175.3,70.9],[182.9,75],[170.8,93.2],[188,93.2],[180.3,77.7],[177.8,61.4],[185.4,94.1],[168.9,75],[185.4,83.6],[180.3,85.5],[174,73.9],[167.6,66.8],[182.9,87.3],[160,72.3],[180.3,88.6],[167.6,75.5],[186.7,101.4],[175.3,91.1],[175.3,67.3],[175.9,77.7],[175.3,81.8],[179.1,75.5],[181.6,84.5],[177.8,76.6],[182.9,85],[177.8,102.5],[184.2,77.3],[179.1,71.8],[176.5,87.9],[188,94.3],[174,70.9],[167.6,64.5],[170.2,77.3],[167.6,72.3],[188,87.3],[174,80],[176.5,82.3],[180.3,73.6],[167.6,74.1],[188,85.9],[180.3,73.2],[167.6,76.3],[183,65.9],[183,90.9],[179.1,89.1],[170.2,62.3],[177.8,82.7],[179.1,79.1],[190.5,98.2],[177.8,84.1],[180.3,83.2],[180.3,83.2]]}]},8378:function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},8436:function(t,e){t.exports=function(){}},"843e":function(t,e,n){var r=n("6d8b"),i=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function a(t){r.each(i,function(e){this[e]=r.bind(t[e],t)},this)}var o=a;t.exports=o},"84ce":function(t,e,n){var r=n("6d8b"),i=r.each,a=r.map,o=n("3842"),s=o.linearMap,u=o.getPixelPrecision,l=n("e073"),c=l.createAxisTicks,h=l.createAxisLabels,f=l.calculateCategoryInterval,d=[0,1],p=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};function m(t,e){var n=t[1]-t[0],r=e,i=n/r/2;t[0]+=i,t[1]-=i}function g(t,e,n,r,a){var o=e.length;if(t.onBand&&!r&&o){var s,u=t.getExtent();if(1===o)e[0].coord=u[0],s=e[1]={coord:u[0]};else{var l=e[1].coord-e[0].coord;i(e,function(t){t.coord-=l/2;var e=e||0;e%2>0&&(t.coord-=l/(2*(e+1)))}),s={coord:e[o-1].coord+l},e.push(s)}var c=u[0]>u[1];h(e[0].coord,u[0])&&(a?e[0].coord=u[0]:e.shift()),a&&h(u[0],e[0].coord)&&e.unshift({coord:u[0]}),h(u[1],s.coord)&&(a?s.coord=u[1]:e.pop()),a&&h(s.coord,u[1])&&e.push({coord:u[1]})}function h(t,e){return c?t>e:t<e}}p.prototype={constructor:p,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return u(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&(n=n.slice(),m(n,r.count())),s(t,d,n,e)},coordToData:function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&(n=n.slice(),m(n,r.count()));var i=s(t,n,d,e);return this.scale.scale(i)},pointToData:function(t,e){},getTicksCoords:function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=c(this,e),r=n.ticks,i=a(r,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this),o=e.get("alignWithLabel");return g(this,i,n.tickCategoryInterval,o,t.clamp),i},getViewLabels:function(){return h(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return f(this)}};var v=p;t.exports=v},"84f2":function(t,e){t.exports={}},"857d":function(t,e){var n=2*Math.PI;function r(t){return t%=n,t<0&&(t+=n),t}e.normalizeRadian=r},"85f2":function(t,e,n){t.exports=n("454f")},"862d":function(t,e,n){var r=n("6d8b"),i=r.createHashMap,a=r.each,o=r.isString,s=r.defaults,u=r.extend,l=r.isObject,c=r.clone,h=n("e0d3"),f=h.normalizeToArray,d=n("0f99"),p=d.guessOrdinal,m=n("ec6f"),g=n("2f45"),v=g.OTHER_DIMENSIONS;function _(t,e,n){m.isInstance(e)||(e=m.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var r=(n.dimsDef||[]).slice(),h=i(n.encodeDef),d=i(),g=i(),_=[],b=y(e,t,r,n.dimCount),w=0;w<b;w++){var T=r[w]=u({},l(r[w])?r[w]:{name:r[w]}),S=T.name,E=_[w]={otherDims:{}};null!=S&&null==d.get(S)&&(E.name=E.displayName=S,d.set(S,w)),null!=T.type&&(E.type=T.type),null!=T.displayName&&(E.displayName=T.displayName)}h.each(function(t,e){if(t=f(t).slice(),1===t.length&&t[0]<0)h.set(e,!1);else{var n=h.set(e,[]);a(t,function(t,r){o(t)&&(t=d.get(t)),null!=t&&t<b&&(n[r]=t,A(_[t],e,r))})}});var M=0;function A(t,e,n){null!=v.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,g.set(e,!0))}a(t,function(t,e){var n,r,i;if(o(t))n=t,t={};else{n=t.name;var u=t.ordinalMeta;t.ordinalMeta=null,t=c(t),t.ordinalMeta=u,r=t.dimsDef,i=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var d=h.get(n);if(!1!==d){d=f(d);if(!d.length)for(var p=0;p<(r&&r.length||1);p++){while(M<_.length&&null!=_[M].coordDim)M++;M<_.length&&d.push(M++)}a(d,function(e,a){var o=_[e];if(A(s(o,t),n,a),null==o.name&&r){var u=r[a];!l(u)&&(u={name:u}),o.name=o.displayName=u.name,o.defaultTooltip=u.defaultTooltip}i&&s(o.otherDims,i)})}});var C=n.generateCoord,O=n.generateCoordCount,D=null!=O;O=C?O||1:0;for(var L=C||"value",I=0;I<b;I++){E=_[I]=_[I]||{};var P=E.coordDim;null==P&&(E.coordDim=x(L,g,D),E.coordDimIndex=0,(!C||O<=0)&&(E.isExtraCoord=!0),O--),null==E.name&&(E.name=x(E.coordDim,d)),null==E.type&&p(e,I,E.name)&&(E.type="ordinal")}return _}function y(t,e,n,r){var i=Math.max(t.dimensionsDetectCount||1,e.length,n.length,r||0);return a(e,function(t){var e=t.dimsDef;e&&(i=Math.max(i,e.length))}),i}function x(t,e,n){if(n||null!=e.get(t)){var r=0;while(null!=e.get(t+r))r++;t+=r}return e.set(t,!0),t}var b=_;t.exports=b},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),a=n("6a99"),o=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},8728:function(t,e){function n(t,e,n,r,i,a){if(a>e&&a>r||a<e&&a<r)return 0;if(r===e)return 0;var o=r<e?1:-1,s=(a-e)/(r-e);1!==s&&0!==s||(o=r<e?.5:-.5);var u=s*(n-t)+t;return u===i?1/0:u>i?o:0}t.exports=n},"87b1":function(t,e,n){var r=n("cbe5"),i=n("4fac"),a=r.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){i.buildPath(t,e,!0)}});t.exports=a},8819:function(t,e,n){"use strict";n.r(e),e["default"]={name:"ring",props:{radius:["40%","50%"]}}},8866:function(t,e,n){"use strict";n.r(e);var r={xAxis:!1,yAxis:!1};e["default"]=r},8877:function(t,e,n){"use strict";n.r(e),e["default"]={name:"title-center",props:{styles:{title:{position:"center"}}}}},"88b3":function(t,e){var n="\0__throttleOriginMethod",r="\0__throttleRate",i="\0__throttleType";function a(t,e,n){var r,i,a,o,s,u=0,l=0,c=null;function h(){l=(new Date).getTime(),c=null,t.apply(a,o||[])}e=e||0;var f=function(){r=(new Date).getTime(),a=this,o=arguments;var t=s||e,f=s||n;s=null,i=r-(f?u:l)-t,clearTimeout(c),f?c=setTimeout(h,t):i>=0?h():c=setTimeout(h,-i),u=r};return f.clear=function(){c&&(clearTimeout(c),c=null)},f.debounceNextCall=function(t){s=t},f}function o(t,e,o,s){var u=t[e];if(u){var l=u[n]||u,c=u[i],h=u[r];if(h!==o||c!==s){if(null==o||!s)return t[e]=l;u=t[e]=a(l,o,"debounce"===s),u[n]=l,u[i]=s,u[r]=o}return u}}function s(t,e){var r=t[e];r&&r[n]&&(t[e]=r[n])}e.throttle=a,e.createOrUpdate=o,e.clear=s},8918:function(t,e,n){var r=n("6d8b"),i=n("625e"),a=i.parseClassType,o=0;function s(t){return[t||"",o++,Math.random().toFixed(5)].join("_")}function u(t){var e={};return t.registerSubTypeDefaulter=function(t,n){t=a(t),e[t.main]=n},t.determineSubType=function(n,r){var i=r.type;if(!i){var o=a(n).main;t.hasSubTypes(n)&&e[o]&&(i=e[o](r))}return i},t}function l(t,e){function n(t){var n={},o=[];return r.each(t,function(s){var u=i(n,s),l=u.originalDeps=e(s),c=a(l,t);u.entryCount=c.length,0===u.entryCount&&o.push(s),r.each(c,function(t){r.indexOf(u.predecessor,t)<0&&u.predecessor.push(t);var e=i(n,t);r.indexOf(e.successor,t)<0&&e.successor.push(s)})}),{graph:n,noEntryList:o}}function i(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function a(t,e){var n=[];return r.each(t,function(t){r.indexOf(e,t)>=0&&n.push(t)}),n}t.topologicalTravel=function(t,e,i,a){if(t.length){var o=n(e),s=o.graph,u=o.noEntryList,l={};r.each(t,function(t){l[t]=!0});while(u.length){var c=u.pop(),h=s[c],f=!!l[c];f&&(i.call(a,c,h.originalDeps.slice()),delete l[c]),r.each(h.successor,f?p:d)}r.each(l,function(){throw new Error("Circle dependency may exists")})}function d(t){s[t].entryCount--,0===s[t].entryCount&&u.push(t)}function p(t){l[t]=!0,d(t)}}}e.getUID=s,e.enableSubTypeDefaulter=u,e.enableTopologicalTravel=l},8971:function(t,e){var n="";"undefined"!==typeof navigator&&(n=navigator.platform||"");var r={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:n.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};t.exports=r},"897a":function(t,e,n){var r=n("22d1"),i=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function a(t){return r.browser.ie&&r.browser.version>=11?function(){var e,n=this.__clipPaths,r=this.style;if(n)for(var a=0;a<n.length;a++){var o=n[a],s=o&&o.shape,u=o&&o.type;if(s&&("sector"===u&&s.startAngle===s.endAngle||"rect"===u&&(!s.width||!s.height))){for(var l=0;l<i.length;l++)i[l][2]=r[i[l][0]],r[i[l][0]]=i[l][1];e=!0;break}}if(t.apply(this,arguments),e)for(l=0;l<i.length;l++)r[i[l][0]]=i[l][2]}:t}t.exports=a},"89cf":function(t,e,n){"use strict";n.r(e);var r={xAxis:!1,yAxis:!1,backgroundColor:"transparent",visualMap:{max:20,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]}},xAxis3D:{type:"category",axisLabel:{color:"#fff"},splitLine:{lineStyle:{color:"rgba(33, 150, 243, 0.5)"}},data:["12a","1a","2a","3a","4a","5a","6a","7a","8a","9a","10a","11a","12p","1p","2p","3p","4p","5p","6p","7p","8p","9p","10p","11p"]},yAxis3D:{type:"category",axisLabel:{color:"#fff"},splitLine:{lineStyle:{color:"rgba(33, 150, 243, 0.5)"}},data:["一","二","三","四","五","六","日"]},zAxis3D:{type:"value",axisLabel:{color:"#fff"},splitLine:{lineStyle:{color:"rgba(33, 150, 243, 0.5)"}}},grid3D:{boxWidth:200,boxDepth:80,light:{main:{intensity:1.2},ambient:{intensity:.3}}}};e["default"]=r},"89e3":function(t,e,n){var r=n("3842"),i=n("eda2"),a=n("e0d8"),o=n("944e"),s=r.round,u=a.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),u.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=o.getIntervalPrecision(t)},getTicks:function(){return o.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=r.getPrecisionSafe(t)||0:"auto"===n&&(n=this._intervalPrecision),t=s(t,n,!0),i.addCommas(t)},niceTicks:function(t,e,n){t=t||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var a=o.intervalScaleNiceTicks(r,t,e,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;var r=e[1]-e[0];isFinite(r)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=s(Math.floor(e[0]/i)*i)),t.fixMax||(e[1]=s(Math.ceil(e[1]/i)*i))}});u.create=function(){return new u};var l=u;t.exports=l},"8b12":function(t,e,n){"use strict";n.r(e),e["default"]={name:"no-legend",props:{accessories:{legend:!1}}}},"8b7f":function(t,e,n){var r=n("4e08"),i=(r.__DEV__,n("6d8b")),a=i.createHashMap,o=(i.retrieve,i.each);function s(t){var e=t.get("coordinateSystem"),n={coordSysName:e,coordSysDims:[],axisMap:a(),categoryAxisMap:a()},r=u[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}var u={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis")[0],a=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",a),l(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),l(a)&&(r.set("y",a),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],n.set("single",i),l(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar")[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",o),l(a)&&(r.set("radius",a),e.firstCategoryDimIndex=0),l(o)&&(r.set("angle",o),e.firstCategoryDimIndex=1)},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();o(a.parallelAxisIndex,function(t,a){var o=i.getComponent("parallelAxis",t),u=s[a];n.set(u,o),l(o)&&null==e.firstCategoryDimIndex&&(r.set(u,o),e.firstCategoryDimIndex=a)})}};function l(t){return"category"===t.get("type")}e.getCoordSysDefineBySeries=s},"8b97":function(t,e,n){var r=n("d3f4"),i=n("cb7c"),a=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:a}},"8bbf":function(t,n){t.exports=e},"8c2a":function(t,e,n){var r=n("6d8b"),i=n("e0d8"),a=n("3842"),o=n("89e3"),s=i.prototype,u=o.prototype,l=a.getPrecisionSafe,c=a.round,h=Math.floor,f=Math.ceil,d=Math.pow,p=Math.log,m=i.extend({type:"log",base:10,$constructor:function(){i.apply(this,arguments),this._originalScale=new o},getTicks:function(){var t=this._originalScale,e=this._extent,n=t.getExtent();return r.map(u.getTicks.call(this),function(r){var i=a.round(d(this.base,r));return i=r===e[0]&&t.__fixMin?g(i,n[0]):i,i=r===e[1]&&t.__fixMax?g(i,n[1]):i,i},this)},getLabel:u.getLabel,scale:function(t){return t=s.scale.call(this,t),d(this.base,t)},setExtent:function(t,e){var n=this.base;t=p(t)/p(n),e=p(e)/p(n),u.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=s.getExtent.call(this);e[0]=d(t,e[0]),e[1]=d(t,e[1]);var n=this._originalScale,r=n.getExtent();return n.__fixMin&&(e[0]=g(e[0],r[0])),n.__fixMax&&(e[1]=g(e[1],r[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=p(t[0])/p(e),t[1]=p(t[1])/p(e),s.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var r=a.quantity(n),i=t/n*r;i<=.5&&(r*=10);while(!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0)r*=10;var o=[a.round(f(e[0]/r)*r),a.round(h(e[1]/r)*r)];this._interval=r,this._niceExtent=o}},niceExtent:function(t){u.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});function g(t,e){return c(t,l(e))}r.each(["contain","normalize"],function(t){m.prototype[t]=function(e){return e=p(e)/p(this.base),s[t].call(this,e)}}),m.create=function(){return new m};var v=m;t.exports=v},"8d32":function(t,e,n){var r=n("cbe5"),i=r.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),a=e.startAngle,o=e.endAngle,s=e.clockwise,u=Math.cos(a),l=Math.sin(a);t.moveTo(u*i+n,l*i+r),t.arc(n,r,i,a,o,!s)}});t.exports=i},"8e43":function(t,e,n){var r=n("6d8b"),i=r.createHashMap,a=r.isObject,o=r.map;function s(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}s.createByAxisModel=function(t){var e=t.option,n=e.data,r=n&&o(n,c);return new s({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})};var u=s.prototype;function l(t){return t._map||(t._map=i(t.categories))}function c(t){return a(t)&&null!=t.value?t.value:t+""}u.getOrdinal=function(t){return l(this).get(t)},u.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!==typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=l(this);return e=r.get(t),null==e&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e};var h=s;t.exports=h},"8e60":function(t,e,n){t.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8ee9":function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){return t}},"8f60":function(t,e,n){"use strict";var r=n("a159"),i=n("aebd"),a=n("45f2"),o={};n("35e8")(o,n("5168")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),a(t,e+" Iterator")}},"8fb1":function(t,e,n){"use strict";n.r(e);var r=n("301d");e["default"]={name:"rich-label-big-number",props:{styles:{label:{formats:r["a"].bignumber}}}}},9003:function(t,e,n){var r=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==r(t)}},9093:function(t,e,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},9138:function(t,e,n){t.exports=n("35e8")},"93d0":function(t,e){var n="original",r="arrayRows",i="objectRows",a="keyedColumns",o="unknown",s="typedArray",u="column",l="row";e.SOURCE_FORMAT_ORIGINAL=n,e.SOURCE_FORMAT_ARRAY_ROWS=r,e.SOURCE_FORMAT_OBJECT_ROWS=i,e.SOURCE_FORMAT_KEYED_COLUMNS=a,e.SOURCE_FORMAT_UNKNOWN=o,e.SOURCE_FORMAT_TYPED_ARRAY=s,e.SERIES_LAYOUT_BY_COLUMN=u,e.SERIES_LAYOUT_BY_ROW=l},9427:function(t,e,n){var r=n("63b6");r(r.S,"Object",{create:n("a159")})},"944e":function(t,e,n){var r=n("3842"),i=r.round;function a(t,e,n,a){var s={},l=t[1]-t[0],c=s.interval=r.nice(l/e,!0);null!=n&&c<n&&(c=s.interval=n),null!=a&&c>a&&(c=s.interval=a);var h=s.intervalPrecision=o(c),f=s.niceTickExtent=[i(Math.ceil(t[0]/c)*c,h),i(Math.floor(t[1]/c)*c,h)];return u(f,t),s}function o(t){return r.getPrecisionSafe(t)+2}function s(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function u(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),s(t,0,e),s(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function l(t,e,n,r){var a=[];if(!t)return a;var o=1e4;e[0]<n[0]&&a.push(e[0]);var s=n[0];while(s<=n[1]){if(a.push(s),s=i(s+t,r),s===a[a.length-1])break;if(a.length>o)return[]}return e[1]>(a.length?a[a.length-1]:n[1])&&a.push(e[1]),a}e.intervalScaleNiceTicks=a,e.getIntervalPrecision=o,e.fixExtent=u,e.intervalScaleGetTicks=l},9566:function(t,e,n){"use strict";n.r(e),e["default"]=[[{name:"flare",children:[{name:"animate",symbolSize:16,label:{fontSize:16,color:"#fff"},itemStyle:{color:"#ff0000",borderColor:"#0000ff",borderWidth:3,normal:{color:"#00ff00"}},lineStyle:{color:"#fff",width:4,type:"dotted"},children:[{name:"Easing",value:17010},{name:"FunctionSequence",value:5842},{name:"interpolate",children:[{name:"ArrayInterpolator",value:1983},{name:"ColorInterpolator",value:2047},{name:"DateInterpolator",value:1375},{name:"Interpolator",value:8746},{name:"MatrixInterpolator",value:2202}]},{name:"ISchedulable",value:1041},{name:"Parallel",value:5176},{name:"Pause",value:449}]},{name:"data",category:"tree2",label:{normal:{show:!0}},itemStyle:{normal:{show:!1,color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"green"},{offset:1,color:"white"}],globalCoord:!1},borderColor:"blue",borderWidth:2,shadowColor:"rgba(0, 0, 0, 1)",shadowBlur:10},emphasis:{color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"green"},{offset:1,color:"white"}],globalCoord:!1}}},children:[{name:"converters",children:[{name:"Converters",value:721},{name:"DelimitedTextConverter",value:4294},{name:"GraphMLConverter",value:9800},{name:"IDataConverter",value:1314},{name:"JSONConverter",value:2220}]},{name:"DataField",value:1759},{name:"DataSchema",value:2165}]}]}]]},"95c5":function(t,e,n){"use strict";n.r(e);n("f751");e["default"]=function(t,e){var n={},r=t.border;return!0===r&&(n.itemStyle={normal:{borderColor:"#000"}}),Object.assign({},n)}},"95d5":function(t,e,n){var r=n("40c3"),i=n("5168")("iterator"),a=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||a.hasOwnProperty(r(e))}},9680:function(t,e){function n(t,e,n,r,i,a,o){if(0===i)return!1;var s=i,u=0,l=t;if(o>e+s&&o>r+s||o<e-s&&o<r-s||a>t+s&&a>n+s||a<t-s&&a<n-s)return!1;if(t===n)return Math.abs(a-t)<=s/2;u=(e-r)/(t-n),l=(t*r-n*e)/(t-n);var c=u*a-o+l,h=c*c/(u*u+1);return h<=s/2*s/2}e.containStroke=n},9850:function(t,e,n){var r=n("401b"),i=n("1687"),a=r.applyTransform,o=Math.min,s=Math.max;function u(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}u.prototype={constructor:u,union:function(t){var e=o(t.x,this.x),n=o(t.y,this.y);this.width=s(t.x+t.width,this.x+this.width)-e,this.height=s(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],r=[];return function(i){if(i){t[0]=n[0]=this.x,t[1]=r[1]=this.y,e[0]=r[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,a(t,t,i),a(e,e,i),a(n,n,i),a(r,r,i),this.x=o(t[0],e[0],n[0],r[0]),this.y=o(t[1],e[1],n[1],r[1]);var u=s(t[0],e[0],n[0],r[0]),l=s(t[1],e[1],n[1],r[1]);this.width=u-this.x,this.height=l-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,r=t.height/e.height,a=i.create();return i.translate(a,a,[-e.x,-e.y]),i.scale(a,a,[n,r]),i.translate(a,a,[t.x,t.y]),a},intersect:function(t){if(!t)return!1;t instanceof u||(t=u.create(t));var e=this,n=e.x,r=e.x+e.width,i=e.y,a=e.y+e.height,o=t.x,s=t.x+t.width,l=t.y,c=t.y+t.height;return!(r<o||s<n||a<l||c<i)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new u(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},u.create=function(t){return new u(t.x,t.y,t.width,t.height)};var l=u;t.exports=l},"98b7":function(t,e){var n="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=n},"98db":function(t,e,n){(function(t,e){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;(function(n){(function(t){var r="object"===typeof e?e:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),i=a(n);function a(t,e){return function(n,r){"function"!==typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=n:i=a(r.Reflect,i),t(i)})(function(e){var n=Object.prototype.hasOwnProperty,r="function"===typeof Symbol,i=r&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=r&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",o="function"===typeof Object.create,s={__proto__:[]}instanceof Array,u=!o&&!s,l={create:o?function(){return at(Object.create(null))}:s?function(){return at({__proto__:null})}:function(){return at({})},has:u?function(t,e){return n.call(t,e)}:function(t,e){return e in t},get:u?function(t,e){return n.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},c=Object.getPrototypeOf(Function),h="object"===typeof t&&Object({NODE_ENV:"production",BASE_URL:"/"})&&"true"===Object({NODE_ENV:"production",BASE_URL:"/"})["REFLECT_METADATA_USE_MAP_POLYFILL"],f=h||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?nt():Map,d=h||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?rt():Set,p=h||"function"!==typeof WeakMap?it():WeakMap,m=new p;function g(t,e,n,r){if(F(n)){if(!X(t))throw new TypeError;if(!Y(e))throw new TypeError;return M(t,e)}if(!X(t))throw new TypeError;if(!U(e))throw new TypeError;if(!U(r)&&!F(r)&&!B(r))throw new TypeError;return B(r)&&(r=void 0),n=W(n),A(t,e,n,r)}function v(t,e){function n(n,r){if(!U(n))throw new TypeError;if(!F(r)&&!Z(r))throw new TypeError;P(t,e,n,r)}return n}function _(t,e,n,r){if(!U(n))throw new TypeError;return F(r)||(r=W(r)),P(t,e,n,r)}function y(t,e,n){if(!U(e))throw new TypeError;return F(n)||(n=W(n)),O(t,e,n)}function x(t,e,n){if(!U(e))throw new TypeError;return F(n)||(n=W(n)),D(t,e,n)}function b(t,e,n){if(!U(e))throw new TypeError;return F(n)||(n=W(n)),L(t,e,n)}function w(t,e,n){if(!U(e))throw new TypeError;return F(n)||(n=W(n)),I(t,e,n)}function T(t,e){if(!U(t))throw new TypeError;return F(e)||(e=W(e)),R(t,e)}function S(t,e){if(!U(t))throw new TypeError;return F(e)||(e=W(e)),N(t,e)}function E(t,e,n){if(!U(e))throw new TypeError;F(n)||(n=W(n));var r=C(e,n,!1);if(F(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var i=m.get(e);return i.delete(n),i.size>0||(m.delete(e),!0)}function M(t,e){for(var n=t.length-1;n>=0;--n){var r=t[n],i=r(e);if(!F(i)&&!B(i)){if(!Y(i))throw new TypeError;e=i}}return e}function A(t,e,n,r){for(var i=t.length-1;i>=0;--i){var a=t[i],o=a(e,n,r);if(!F(o)&&!B(o)){if(!U(o))throw new TypeError;r=o}}return r}function C(t,e,n){var r=m.get(t);if(F(r)){if(!n)return;r=new f,m.set(t,r)}var i=r.get(e);if(F(i)){if(!n)return;i=new f,r.set(e,i)}return i}function O(t,e,n){var r=D(t,e,n);if(r)return!0;var i=et(e);return!B(i)&&O(t,i,n)}function D(t,e,n){var r=C(e,n,!1);return!F(r)&&H(r.has(t))}function L(t,e,n){var r=D(t,e,n);if(r)return I(t,e,n);var i=et(e);return B(i)?void 0:L(t,i,n)}function I(t,e,n){var r=C(e,n,!1);if(!F(r))return r.get(t)}function P(t,e,n,r){var i=C(n,r,!0);i.set(t,e)}function R(t,e){var n=N(t,e),r=et(t);if(null===r)return n;var i=R(r,e);if(i.length<=0)return n;if(n.length<=0)return i;for(var a=new d,o=[],s=0,u=n;s<u.length;s++){var l=u[s],c=a.has(l);c||(a.add(l),o.push(l))}for(var h=0,f=i;h<f.length;h++){l=f[h],c=a.has(l);c||(a.add(l),o.push(l))}return o}function N(t,e){var n=[],r=C(t,e,!1);if(F(r))return n;var i=r.keys(),a=$(i),o=0;while(1){var s=Q(a);if(!s)return n.length=o,n;var u=J(s);try{n[o]=u}catch(l){try{tt(a)}finally{throw l}}o++}}function k(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function F(t){return void 0===t}function B(t){return null===t}function z(t){return"symbol"===typeof t}function U(t){return"object"===typeof t?null!==t:"function"===typeof t}function G(t,e){switch(k(t)){case 0:return t;case 1:return t;case 2:return t;case 3:return t;case 4:return t;case 5:return t}var n=3===e?"string":5===e?"number":"default",r=K(t,i);if(void 0!==r){var a=r.call(t,n);if(U(a))throw new TypeError;return a}return j(t,"default"===n?"number":n)}function j(t,e){if("string"===e){var n=t.toString;if(q(n)){var r=n.call(t);if(!U(r))return r}var i=t.valueOf;if(q(i)){r=i.call(t);if(!U(r))return r}}else{i=t.valueOf;if(q(i)){r=i.call(t);if(!U(r))return r}var a=t.toString;if(q(a)){r=a.call(t);if(!U(r))return r}}throw new TypeError}function H(t){return!!t}function V(t){return""+t}function W(t){var e=G(t,3);return z(e)?e:V(e)}function X(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function q(t){return"function"===typeof t}function Y(t){return"function"===typeof t}function Z(t){switch(k(t)){case 3:return!0;case 4:return!0;default:return!1}}function K(t,e){var n=t[e];if(void 0!==n&&null!==n){if(!q(n))throw new TypeError;return n}}function $(t){var e=K(t,a);if(!q(e))throw new TypeError;var n=e.call(t);if(!U(n))throw new TypeError;return n}function J(t){return t.value}function Q(t){var e=t.next();return!e.done&&e}function tt(t){var e=t["return"];e&&e.call(t)}function et(t){var e=Object.getPrototypeOf(t);if("function"!==typeof t||t===c)return e;if(e!==c)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var i=r.constructor;return"function"!==typeof i?e:i===t?e:i}function nt(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[a]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,i)},e.prototype.entries=function(){return new n(this._keys,this._values,o)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[a]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function i(t,e){return e}function o(t,e){return[t,e]}}function rt(){return function(){function t(){this._map=new f}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[a]=function(){return this.keys()},t}()}function it(){var t=16,e=l.create(),r=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=a(t,!1);return void 0!==e&&l.has(e,this._key)},t.prototype.get=function(t){var e=a(t,!1);return void 0!==e?l.get(e,this._key):void 0},t.prototype.set=function(t,e){var n=a(t,!0);return n[this._key]=e,this},t.prototype.delete=function(t){var e=a(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){var t;do{t="@@WeakMap@@"+u()}while(l.has(e,t));return e[t]=!0,t}function a(t,e){if(!n.call(t,r)){if(!e)return;Object.defineProperty(t,r,{value:l.create()})}return t[r]}function o(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(t){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):o(new Uint8Array(t),t):o(new Array(t),t)}function u(){var e=s(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<t;++r){var i=e[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function at(t){return t.__=void 0,delete t.__,t}e("decorate",g),e("metadata",v),e("defineMetadata",_),e("hasMetadata",y),e("hasOwnMetadata",x),e("getMetadata",b),e("getOwnMetadata",w),e("getMetadataKeys",T),e("getOwnMetadataKeys",S),e("deleteMetadata",E)})})(n||(n={}))}).call(this,n("f28c"),n("c8ba"))},"98e7":function(t,e,n){var r=n("6d8b"),i=r.createHashMap;function a(t){return{getTargetSeries:function(e){var n={},r=i();return e.eachSeriesByType(t,function(t){t.__paletteScope=n,r.set(t.uid,t)}),r},reset:function(t,e){var n=t.getRawData(),r={},i=t.getData();i.each(function(t){var e=i.getRawIndex(t);r[e]=t}),n.each(function(e){var a=r[e],o=null!=a&&i.getItemVisual(a,"color",!0);if(o)n.setItemVisual(e,"color",o);else{var s=n.getItemModel(e),u=s.get("itemStyle.color")||t.getColorFromPalette(n.getName(e)||e+"",t.__paletteScope,n.count());n.setItemVisual(e,"color",u),null!=a&&i.setItemVisual(a,"color",u)}})}}}t.exports=a},"998c":function(t,e,n){var r=n("6d8b"),i=n("2306"),a=Math.PI;function o(t,e){e=e||{},r.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new i.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),o=new i.Arc({shape:{startAngle:-a/2,endAngle:-a/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),s=new i.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*a/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*a/2}).delay(300).start("circularInOut");var u=new i.Group;return u.add(o),u.add(s),u.add(n),u.resize=function(){var e=t.getWidth()/2,r=t.getHeight()/2;o.setShape({cx:e,cy:r});var i=o.shape.r;s.setShape({x:e-i,y:r-i,width:2*i,height:2*i}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},u.resize(),u}t.exports=o},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9ac4":function(t,e,n){var r={"./colors.ts":"272d","./gap.ts":"0949","./preset.ts":"b89a","./styles.ts":"4c88","./symbol.ts":"1f44","./x.radar.ts":"c09b","./x.ts":"78bb","./y.radar.ts":"dec5","./y.ts":"3cbf"};function i(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="9ac4"},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9bdb":function(t,e,n){var r=n("282b"),i=r([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),a={getAreaStyle:function(t,e){return i(this,t,e)}};t.exports=a},"9c2c":function(t,e,n){var r=n("401b"),i=r.min,a=r.max,o=r.scale,s=r.distance,u=r.add,l=r.clone,c=r.sub;function h(t,e,n,r){var h,f,d,p,m=[],g=[],v=[],_=[];if(r){d=[1/0,1/0],p=[-1/0,-1/0];for(var y=0,x=t.length;y<x;y++)i(d,d,t[y]),a(p,p,t[y]);i(d,d,r[0]),a(p,p,r[1])}for(y=0,x=t.length;y<x;y++){var b=t[y];if(n)h=t[y?y-1:x-1],f=t[(y+1)%x];else{if(0===y||y===x-1){m.push(l(t[y]));continue}h=t[y-1],f=t[y+1]}c(g,f,h),o(g,g,e);var w=s(b,h),T=s(b,f),S=w+T;0!==S&&(w/=S,T/=S),o(v,g,-w),o(_,g,T);var E=u([],b,v),M=u([],b,_);r&&(a(E,E,d),i(E,E,p),a(M,M,d),i(M,M,p)),m.push(E),m.push(M)}return n&&m.push(m.shift()),m}t.exports=h},"9c69":function(t,e,n){"use strict";n.r(e);var r=n("75fc");n("6762"),n("2fdb");e["default"]=function(t,e){var n=t.accessories.markareas,i=[];"max-min"===n.mode?i=[{type:"custom",data:[{name:"",xAxis:"min",yAxis:"min"},{xAxis:"max",yAxis:"max"}]}]:["columns","rows"].includes(n.mode)&&(i=n.data.map(function(t){var e={type:"custom",silent:!0,color:t.color,markArea:{data:[[{name:t.label,xAxis:t.coords[0]},{xAxis:t.coords[1]}]],label:{show:!0,position:"top"}}};return e}));var a=e.series||[];return a.push.apply(a,Object(r["a"])(i)),{series:a}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9c80":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9cf9":function(t,e){var n=Math.round;function r(t,e,r){var i=r&&r.lineWidth;if(e&&i){var o=e.x1,s=e.x2,u=e.y1,l=e.y2;n(2*o)===n(2*s)?t.x1=t.x2=a(o,i,!0):(t.x1=o,t.x2=s),n(2*u)===n(2*l)?t.y1=t.y2=a(u,i,!0):(t.y1=u,t.y2=l)}}function i(t,e,n){var r=n&&n.lineWidth;if(e&&r){var i=e.x,o=e.y,s=e.width,u=e.height;t.x=a(i,r,!0),t.y=a(o,r,!0),t.width=Math.max(a(i+s,r,!1)-t.x,0===s?0:1),t.height=Math.max(a(o+u,r,!1)-t.y,0===u?0:1)}}function a(t,e,r){var i=n(2*t);return(i+n(e))%2===0?i/2:(i+(r?1:-1))/2}e.subPixelOptimizeLine=r,e.subPixelOptimizeRect=i,e.subPixelOptimize=a},"9d57":function(t,e,n){var r=n("6d8b"),i=n("3842"),a=i.parsePercent,o=n("ee1a"),s=o.isDimensionStacked,u=n("cccd"),l="__ec_stack_",c=.5,h="undefined"!==typeof Float32Array?Float32Array:Array;function f(t){return t.get("stack")||l+t.seriesIndex}function d(t){return t.dim+t.index}function p(t){var e=[],n=t.axis,i="axis0";if("category"===n.type){for(var a=n.getBandWidth(),o=0;o<t.count;o++)e.push(r.defaults({bandWidth:a,axisKey:i,stackId:l+o},t));var s=v(e),u=[];for(o=0;o<t.count;o++){var c=s[i][l+o];c.offsetCenter=c.offset+c.width/2,u.push(c)}return u}}function m(t,e){var n=[];return e.eachSeriesByType(t,function(t){b(t)&&!w(t)&&n.push(t)}),n}function g(t){var e=[];return r.each(t,function(t){var n=t.getData(),r=t.coordinateSystem,i=r.getBaseAxis(),o=i.getExtent(),s="category"===i.type?i.getBandWidth():Math.abs(o[1]-o[0])/n.count(),u=a(t.get("barWidth"),s),l=a(t.get("barMaxWidth"),s),c=t.get("barGap"),h=t.get("barCategoryGap");e.push({bandWidth:s,barWidth:u,barMaxWidth:l,barGap:c,barCategoryGap:h,axisKey:d(i),stackId:f(t)})}),v(e)}function v(t){var e={};r.each(t,function(t,n){var r=t.axisKey,i=t.bandWidth,a=e[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=a.stacks;e[r]=a;var s=t.stackId;o[s]||a.autoWidthCount++,o[s]=o[s]||{width:0,maxWidth:0};var u=t.barWidth;u&&!o[s].width&&(o[s].width=u,u=Math.min(a.remainedWidth,u),a.remainedWidth-=u);var l=t.barMaxWidth;l&&(o[s].maxWidth=l);var c=t.barGap;null!=c&&(a.gap=c);var h=t.barCategoryGap;null!=h&&(a.categoryGap=h)});var n={};return r.each(e,function(t,e){n[e]={};var i=t.stacks,o=t.bandWidth,s=a(t.categoryGap,o),u=a(t.gap,1),l=t.remainedWidth,c=t.autoWidthCount,h=(l-s)/(c+(c-1)*u);h=Math.max(h,0),r.each(i,function(t,e){var n=t.maxWidth;n&&n<h&&(n=Math.min(n,l),t.width&&(n=Math.min(n,t.width)),l-=n,t.width=n,c--)}),h=(l-s)/(c+(c-1)*u),h=Math.max(h,0);var f,d=0;r.each(i,function(t,e){t.width||(t.width=h),f=t,d+=t.width*(1+u)}),f&&(d-=f.width*u);var p=-d/2;r.each(i,function(t,r){n[e][r]=n[e][r]||{offset:p,width:t.width},p+=t.width*(1+u)})}),n}function _(t,e,n){if(t&&e){var r=t[d(e)];return null!=r&&null!=n&&(r=r[f(n)]),r}}function y(t,e){var n=m(t,e),i=g(n),a={},o={};r.each(n,function(t){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),u=f(t),l=i[d(r)][u],c=l.offset,h=l.width,p=n.getOtherAxis(r),m=t.get("barMinHeight")||0;a[u]=a[u]||[],o[u]=o[u]||[],e.setLayout({offset:c,size:h});for(var g=e.mapDimension(p.dim),v=e.mapDimension(r.dim),_=s(e,g),y=p.isHorizontal(),x=T(r,p,_),b=0,w=e.count();b<w;b++){var S=e.get(g,b),E=e.get(v,b);if(!isNaN(S)){var M,A,C,O,D=S>=0?"p":"n",L=x;if(_&&(a[u][E]||(a[u][E]={p:x,n:x}),L=a[u][E][D]),y){var I=n.dataToPoint([S,E]);M=L,A=I[1]+c,C=I[0]-x,O=h,Math.abs(C)<m&&(C=(C<0?-1:1)*m),_&&(a[u][E][D]+=C)}else{I=n.dataToPoint([E,S]);M=I[0]+c,A=L,C=h,O=I[1]-x,Math.abs(O)<m&&(O=(O<=0?-1:1)*m),_&&(a[u][E][D]+=O)}e.setItemLayout(b,{x:M,y:A,width:C,height:O})}}},this)}var x={seriesType:"bar",plan:u(),reset:function(t){if(b(t)&&w(t)){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),i=n.getOtherAxis(r),a=e.mapDimension(i.dim),o=e.mapDimension(r.dim),s=i.isHorizontal(),u=s?0:1,l=_(g([t]),r,t).width;return l>c||(l=c),{progress:f}}function f(t,e){var c,f=new h(2*t.count),d=[],p=[],m=0;while(null!=(c=t.next()))p[u]=e.get(a,c),p[1-u]=e.get(o,c),d=n.dataToPoint(p,null,d),f[m++]=d[0],f[m++]=d[1];e.setLayout({largePoints:f,barWidth:l,valueAxisStart:T(r,i,!1),valueAxisHorizontal:s})}}};function b(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function w(t){return t.pipelineContext&&t.pipelineContext.large}function T(t,e,n){var r,i,a=e.getGlobalExtent();a[0]>a[1]?(r=a[1],i=a[0]):(r=a[0],i=a[1]);var o=e.toGlobalCoord(e.dataToCoord(0));return o<r&&(o=r),o>i&&(o=i),o}e.getLayoutOnAxis=p,e.prepareLayoutBarSeries=m,e.makeColumnLayout=g,e.retrieveColumnLayout=_,e.layout=y,e.largeLayout=x},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"9e2e":function(t,e,n){var r=n("a73c"),i=n("9850"),a=n("82eb"),o=a.WILL_BE_RESTORED,s=new i,u=function(){};u.prototype={constructor:u,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&r.normalizeTextStyle(n,!0);var i=n.text;if(null!=i&&(i+=""),r.needDrawText(i,n)){t.save();var a=this.transform;n.transformText?this.setTransform(t):a&&(s.copy(e),s.applyTransform(a),e=s),r.renderText(this,t,i,n,e,o),t.restore()}}};var l=u;t.exports=l},"9f51":function(t,e,n){var r=n("857d"),i=r.normalizeRadian,a=2*Math.PI;function o(t,e,n,r,o,s,u,l,c){if(0===u)return!1;var h=u;l-=t,c-=e;var f=Math.sqrt(l*l+c*c);if(f-h>n||f+h<n)return!1;if(Math.abs(r-o)%a<1e-4)return!0;if(s){var d=r;r=i(o),o=i(d)}else r=i(r),o=i(o);r>o&&(o+=a);var p=Math.atan2(c,l);return p<0&&(p+=a),p>=r&&p<=o||p+a>=r&&p+a<=o}e.containStroke=o},a00a:function(t,e,n){var r=n("164e"),i=n("4ae9");n("5d99"),n("2114"),r.registerCoordinateSystem("bmap",i),r.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(t,e){e.eachComponent("bmap",function(t){var e=t.getBMap(),n=e.getCenter();t.setCenterAndZoom([n.lng,n.lat],e.getZoom())})});var a="1.0.0";e.version=a},a157:function(t,e,n){"use strict";n.r(e),e["default"]=[[100,150,500,250,400],[47,100,100,430,210]]},a159:function(t,e,n){var r=n("e4ae"),i=n("7e90"),a=n("1691"),o=n("5559")("IE_PROTO"),s=function(){},u="prototype",l=function(){var t,e=n("1ec9")("iframe"),r=a.length,i="<",o=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+o+"document.F=Object"+i+"/script"+o),t.close(),l=t.F;while(r--)delete l[u][a[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[o]=t):n=l(),void 0===e?n:i(n,e)}},a15a:function(t,e,n){var r=n("6d8b"),i=n("2306"),a=n("9850"),o=i.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+i,r+a),t.lineTo(n-i,r+a),t.closePath()}}),s=i.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+i,r),t.lineTo(n,r+a),t.lineTo(n-i,r),t.closePath()}}),u=i.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),u=r-a+o+s,l=Math.asin(s/o),c=Math.cos(l)*o,h=Math.sin(l),f=Math.cos(l),d=.6*o,p=.7*o;t.moveTo(n-c,u+s),t.arc(n,u,o,Math.PI-l,2*Math.PI+l),t.bezierCurveTo(n+c-h*d,u+s+f*d,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-c+h*d,u+s+f*d,n-c,u+s),t.closePath()}}),l=i.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,a=e.y,o=r/3*2;t.moveTo(i,a),t.lineTo(i+o,a+n),t.lineTo(i,a+n/4*3),t.lineTo(i-o,a+n),t.lineTo(i,a),t.closePath()}}),c={line:i.Line,rect:i.Rect,roundRect:i.Rect,square:i.Rect,circle:i.Circle,diamond:s,pin:u,arrow:l,triangle:o},h={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var a=Math.min(n,r);i.x=t,i.y=e,i.width=a,i.height=a},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},f={};r.each(c,function(t,e){f[e]=new t});var d=i.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style,e=this.shape;"pin"===e.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,n){var r=e.symbolType,i=f[r];"none"!==e.symbolType&&(i||(r="rect",i=f[r]),h[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n))}});function p(t,e){if("image"!==this.type){var n=this.style,r=this.shape;r&&"line"===r.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}}function m(t,e,n,r,o,s,u){var l,c=0===t.indexOf("empty");return c&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),l=0===t.indexOf("image://")?i.makeImage(t.slice(8),new a(e,n,r,o),u?"center":"cover"):0===t.indexOf("path://")?i.makePath(t.slice(7),{},new a(e,n,r,o),u?"center":"cover"):new d({shape:{symbolType:t,x:e,y:n,width:r,height:o}}),l.__isEmptyBrush=c,l.setColor=p,l.setColor(s),l}e.createSymbol=m},a25f:function(t,e,n){var r=n("7726"),i=r.navigator;t.exports=i&&i.userAgent||""},a481:function(t,e,n){"use strict";var r=n("cb7c"),i=n("4bf8"),a=n("9def"),o=n("4588"),s=n("0390"),u=n("5f1b"),l=Math.max,c=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,function(t,e,n,m){return[function(r,i){var a=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,a,i):n.call(String(a),r,i)},function(t,e){var i=m(n,t,this,e);if(i.done)return i.value;var h=r(t),f=String(this),d="function"===typeof e;d||(e=String(e));var v=h.global;if(v){var _=h.unicode;h.lastIndex=0}var y=[];while(1){var x=u(h,f);if(null===x)break;if(y.push(x),!v)break;var b=String(x[0]);""===b&&(h.lastIndex=s(f,a(h.lastIndex),_))}for(var w="",T=0,S=0;S<y.length;S++){x=y[S];for(var E=String(x[0]),M=l(c(o(x.index),f.length),0),A=[],C=1;C<x.length;C++)A.push(p(x[C]));var O=x.groups;if(d){var D=[E].concat(A,M,f);void 0!==O&&D.push(O);var L=String(e.apply(void 0,D))}else L=g(E,f,M,A,O,e);M>=T&&(w+=f.slice(T,M)+L,T=M+E.length)}return w+f.slice(T)}];function g(t,e,r,a,o,s){var u=r+t.length,l=a.length,c=d;return void 0!==o&&(o=i(o),c=f),n.call(s,c,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=o[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(c>l){var f=h(c/10);return 0===f?n:f<=l?void 0===a[f-1]?i.charAt(1):a[f-1]+i.charAt(1):n}s=a[c-1]}return void 0===s?"":s})}})},a5b2:function(t,e,n){"use strict";n.r(e);var r={xAxis:[{type:"value"}]};e["default"]=r},a5b8:function(t,e,n){"use strict";var r=n("d8e8");function i(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},a73c:function(t,e,n){var r=n("6d8b"),i=r.retrieve2,a=r.retrieve3,o=r.each,s=r.normalizeCssArray,u=r.isString,l=r.isObject,c=n("e86a"),h=n("5693"),f=n("5e76"),d=n("7d6d"),p=n("82eb"),m=p.ContextCachedBy,g=p.WILL_BE_RESTORED,v=c.DEFAULT_FONT,_={left:1,right:1,center:1},y={top:1,bottom:1,middle:1},x=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]];function b(t){return w(t),o(t.rich,w),t}function w(t){if(t){t.font=c.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||_[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||y[n]?n:"top";var r=t.textPadding;r&&(t.textPadding=s(t.textPadding))}}function T(t,e,n,r,i,a){r.rich?E(t,e,n,r,i,a):S(t,e,n,r,i,a)}function S(t,e,n,r,i,a){"use strict";var o,s=O(r),u=!1,l=e.__attrCachedBy===m.PLAIN_TEXT;a!==g?(a&&(o=a.style,u=!s&&l&&o),e.__attrCachedBy=s?m.NONE:m.PLAIN_TEXT):l&&(e.__attrCachedBy=m.NONE);var h=r.font||v;u&&h===(o.font||v)||(e.font=h);var f=t.__computedFont;t.__styleFont!==h&&(t.__styleFont=h,f=t.__computedFont=e.font);var p=r.textPadding,_=r.textLineHeight,y=t.__textCotentBlock;y&&!t.__dirtyText||(y=t.__textCotentBlock=c.parsePlainText(n,f,p,_,r.truncate));var b=y.outerHeight,w=y.lines,T=y.lineHeight,S=I(b,r,i),E=S.baseX,M=S.baseY,C=S.textAlign||"left",L=S.textVerticalAlign;A(e,r,i,E,M);var P=c.adjustTextY(M,b,L),k=E,B=P;if(s||p){var z=c.getWidth(n,f),U=z;p&&(U+=p[1]+p[3]);var G=c.adjustTextX(E,U,C);s&&D(t,e,r,G,P,U,b),p&&(k=F(E,C,p),B+=p[0])}e.textAlign=C,e.textBaseline="middle",e.globalAlpha=r.opacity||1;for(var j=0;j<x.length;j++){var H=x[j],V=H[0],W=H[1],X=r[V];u&&X===o[V]||(e[W]=d(e,W,X||H[2]))}B+=T/2;var q=r.textStrokeWidth,Y=u?o.textStrokeWidth:null,Z=!u||q!==Y,K=!u||Z||r.textStroke!==o.textStroke,$=R(r.textStroke,q),J=N(r.textFill);if($&&(Z&&(e.lineWidth=q),K&&(e.strokeStyle=$)),J&&(u&&r.textFill===o.textFill||(e.fillStyle=J)),1===w.length)$&&e.strokeText(w[0],k,B),J&&e.fillText(w[0],k,B);else for(j=0;j<w.length;j++)$&&e.strokeText(w[j],k,B),J&&e.fillText(w[j],k,B),B+=T}function E(t,e,n,r,i,a){a!==g&&(e.__attrCachedBy=m.NONE);var o=t.__textCotentBlock;o&&!t.__dirtyText||(o=t.__textCotentBlock=c.parseRichText(n,r)),M(t,e,o,r,i)}function M(t,e,n,r,i){var a=n.width,o=n.outerWidth,s=n.outerHeight,u=r.textPadding,l=I(s,r,i),h=l.baseX,f=l.baseY,d=l.textAlign,p=l.textVerticalAlign;A(e,r,i,h,f);var m=c.adjustTextX(h,o,d),g=c.adjustTextY(f,s,p),v=m,_=g;u&&(v+=u[3],_+=u[0]);var y=v+a;O(r)&&D(t,e,r,m,g,o,s);for(var x=0;x<n.lines.length;x++){var b,w=n.lines[x],T=w.tokens,S=T.length,E=w.lineHeight,M=w.width,L=0,P=v,R=y,N=S-1;while(L<S&&(b=T[L],!b.textAlign||"left"===b.textAlign))C(t,e,b,r,E,_,P,"left"),M-=b.width,P+=b.width,L++;while(N>=0&&(b=T[N],"right"===b.textAlign))C(t,e,b,r,E,_,R,"right"),M-=b.width,R-=b.width,N--;P+=(a-(P-v)-(y-R)-M)/2;while(L<=N)b=T[L],C(t,e,b,r,E,_,P+b.width/2,"center"),P+=b.width,L++;_+=E}}function A(t,e,n,r,i){if(n&&e.textRotation){var a=e.textOrigin;"center"===a?(r=n.width/2+n.x,i=n.height/2+n.y):a&&(r=a[0]+n.x,i=a[1]+n.y),t.translate(r,i),t.rotate(-e.textRotation),t.translate(-r,-i)}}function C(t,e,n,r,o,s,u,l){var c=r.rich[n.styleName]||{};c.text=n.text;var h=n.textVerticalAlign,f=s+o/2;"top"===h?f=s+n.height/2:"bottom"===h&&(f=s+o-n.height/2),!n.isLineHolder&&O(c)&&D(t,e,c,"right"===l?u-n.width:"center"===l?u-n.width/2:u,f-n.height/2,n.width,n.height);var d=n.textPadding;d&&(u=F(u,l,d),f-=n.height/2-d[2]-n.textHeight/2),P(e,"shadowBlur",a(c.textShadowBlur,r.textShadowBlur,0)),P(e,"shadowColor",c.textShadowColor||r.textShadowColor||"transparent"),P(e,"shadowOffsetX",a(c.textShadowOffsetX,r.textShadowOffsetX,0)),P(e,"shadowOffsetY",a(c.textShadowOffsetY,r.textShadowOffsetY,0)),P(e,"textAlign",l),P(e,"textBaseline","middle"),P(e,"font",n.font||v);var p=R(c.textStroke||r.textStroke,g),m=N(c.textFill||r.textFill),g=i(c.textStrokeWidth,r.textStrokeWidth);p&&(P(e,"lineWidth",g),P(e,"strokeStyle",p),e.strokeText(n.text,u,f)),m&&(P(e,"fillStyle",m),e.fillText(n.text,u,f))}function O(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function D(t,e,n,r,i,a,o){var s=n.textBackgroundColor,c=n.textBorderWidth,d=n.textBorderColor,p=u(s);if(P(e,"shadowBlur",n.textBoxShadowBlur||0),P(e,"shadowColor",n.textBoxShadowColor||"transparent"),P(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),P(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),p||c&&d){e.beginPath();var m=n.textBorderRadius;m?h.buildPath(e,{x:r,y:i,width:a,height:o,r:m}):e.rect(r,i,a,o),e.closePath()}if(p)if(P(e,"fillStyle",s),null!=n.fillOpacity){var g=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=g}else e.fill();else if(l(s)){var v=s.image;v=f.createOrUpdateImage(v,null,t,L,s),v&&f.isImageReady(v)&&e.drawImage(v,r,i,a,o)}if(c&&d)if(P(e,"lineWidth",c),P(e,"strokeStyle",d),null!=n.strokeOpacity){g=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=g}else e.stroke()}function L(t,e){e.image=t}function I(t,e,n){var r=e.x||0,i=e.y||0,a=e.textAlign,o=e.textVerticalAlign;if(n){var s=e.textPosition;if(s instanceof Array)r=n.x+k(s[0],n.width),i=n.y+k(s[1],n.height);else{var u=c.adjustTextPositionOnRect(s,n,e.textDistance);r=u.x,i=u.y,a=a||u.textAlign,o=o||u.textVerticalAlign}var l=e.textOffset;l&&(r+=l[0],i+=l[1])}return{baseX:r,baseY:i,textAlign:a,textVerticalAlign:o}}function P(t,e,n){return t[e]=d(t,e,n),t[e]}function R(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function N(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function k(t,e){return"string"===typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function F(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function B(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}e.normalizeTextStyle=b,e.renderText=T,e.getStroke=R,e.getFill=N,e.needDrawText=B},a745:function(t,e,n){t.exports=n("f410")},a963:function(t,e,n){},a98e:function(t,e,n){var r=n("3eba");n("32f8"),n("cb7d"),r.registerVisual(r.util.curry(n("98e7"),"liquidFill"))},aa77:function(t,e,n){var r=n("5ca1"),i=n("be13"),a=n("79e5"),o=n("fdef"),s="["+o+"]",u="​",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),h=function(t,e,n){var i={},s=a(function(){return!!o[t]()||u[t]()!=u}),l=i[t]=s?e(f):o[t];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},f=h.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),a=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},ac0f:function(t,e,n){var r=n("cbe5"),i=n("401b"),a=n("4a3f"),o=a.quadraticSubdivide,s=a.cubicSubdivide,u=a.quadraticAt,l=a.cubicAt,c=a.quadraticDerivativeAt,h=a.cubicDerivativeAt,f=[];function d(t,e,n){var r=t.cpx2,i=t.cpy2;return null===r||null===i?[(n?h:l)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?h:l)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?c:u)(t.x1,t.cpx1,t.x2,e),(n?c:u)(t.y1,t.cpy1,t.y2,e)]}var p=r.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2,u=e.cpx1,l=e.cpy1,c=e.cpx2,h=e.cpy2,d=e.percent;0!==d&&(t.moveTo(n,r),null==c||null==h?(d<1&&(o(n,u,i,d,f),u=f[1],i=f[2],o(r,l,a,d,f),l=f[1],a=f[2]),t.quadraticCurveTo(u,l,i,a)):(d<1&&(s(n,u,c,i,d,f),u=f[1],c=f[2],i=f[3],s(r,l,h,a,d,f),l=f[1],h=f[2],a=f[3]),t.bezierCurveTo(u,l,c,h,i,a)))},pointAt:function(t){return d(this.shape,t,!1)},tangentAt:function(t){var e=d(this.shape,t,!0);return i.normalize(e,e)}});t.exports=p},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),a=n("2aba"),o=n("7726"),s=n("32e9"),u=n("84f2"),l=n("2b4c"),c=l("iterator"),h=l("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),m=0;m<p.length;m++){var g,v=p[m],_=d[v],y=o[v],x=y&&y.prototype;if(x&&(x[c]||s(x,c,f),x[h]||s(x,h,v),u[v]=f,_))for(g in r)x[g]||a(x,g,r[g],!0)}},ae69:function(t,e,n){var r=n("cbe5"),i=r.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var n=.5522848,r=e.cx,i=e.cy,a=e.rx,o=e.ry,s=a*n,u=o*n;t.moveTo(r-a,i),t.bezierCurveTo(r-a,i-u,r-s,i-o,r,i-o),t.bezierCurveTo(r+s,i-o,r+a,i-u,r+a,i),t.bezierCurveTo(r+a,i+u,r+s,i+o,r,i+o),t.bezierCurveTo(r-s,i+o,r-a,i+u,r-a,i),t.closePath()}});t.exports=i},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},aef6:function(t,e,n){"use strict";var r=n("5ca1"),i=n("9def"),a=n("d2c8"),o="endsWith",s=""[o];r(r.P+r.F*n("5147")(o),"String",{endsWith:function(t){var e=a(this,t,o),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),u=void 0===n?r:Math.min(i(n),r),l=String(t);return s?s.call(e,l,u):e.slice(u-l.length,u)===l}})},afa0:function(t,e,n){var r=n("6d8b"),i=n("22d1"),a=n("e1fc"),o=n("04f6");function s(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var u=function(){this._roots=[],this._displayList=[],this._displayListLen=0};u.prototype={constructor:u,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,a=e.length;r<a;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,i.canvasSupported&&o(n,s)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var r=t.clipPath;if(r){e=e?e.slice():[];var i=r,a=t;while(i)i.parent=a,i.updateTransform(),e.push(i),a=i,i=i.clipPath}if(t.isGroup){for(var o=t._children,s=0;s<o.length;s++){var u=o[s];t.__dirty&&(u.__dirty=!0),this._updateAndAddDisplayable(u,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof a&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof a&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var i=t.length;e<i;e++)this.delRoot(t[e])}else{var o=r.indexOf(this._roots,t);o>=0&&(this.delFromStorage(t),this._roots.splice(o,1),t instanceof a&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:s};var l=u;t.exports=l},b0b4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("85f2"),i=n.n(r);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i()(t,r.key,r)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b0dc:function(t,e,n){var r=n("e4ae");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var a=t["return"];throw void 0!==a&&r(a.call(t)),o}}},b12f:function(t,e,n){var r=n("e1fc"),i=n("8918"),a=n("625e"),o=function(){this.group=new r,this.uid=i.getUID("viewComponent")};o.prototype={constructor:o,init:function(t,e){},render:function(t,e,n,r){},dispose:function(){},filterForExposedEvent:null};var s=o.prototype;s.updateView=s.updateLayout=s.updateVisual=function(t,e,n,r){},a.enableClassExtend(o),a.enableClassManagement(o,{registerWhenExtend:!0});var u=o;t.exports=u},b1d4:function(t,e,n){var r=n("862d");function i(t,e){return e=e||{},r(e.coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}t.exports=i},b447:function(t,e,n){var r=n("3a38"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},b500:function(t,e,n){"use strict";n.r(e);n("6c7b"),n("28a5");var r=n("768b"),i=n("75fc"),a=n("7618");n("f751"),n("ac6a");e["default"]=function(t,e,n){var o={barWidth:e.barWidth,barGap:e.barGap};if(e.stacked&&(o.stack=e.stacked||"stack-1"),e.round&&(o.itemStyle={barBorderRadius:e.barWidth/2}),t.forEach(function(t){Object.assign(t,o)}),e.shadow){"object"===Object(a["a"])(n.xAxis)&&(n.xAxis=[n.xAxis,{type:"category",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},data:n.xAxis.data}]);var s={type:"bar",data:[]},u=0;e.data.forEach(function(t){u=Math.max.apply(Math,[u].concat(Object(i["a"])(t)))});var l=u.toPrecision(2).split("e+"),c=Object(r["a"])(l,2),h=c[0],f=c[1];u=Math.ceil(parseFloat(h))*Math.pow(10,parseInt(f,10)),s.data=Array(e.data[0].length).fill(u),s.barGap=e.barGap,s.xAxisIndex=1,s.barCategoryGap="-100%",s.barWidth=e.barWidth,s.itemStyle={normal:{color:"rgba(255,255,255,0.2)"}};var d=[];t.forEach(function(t){d.push(s),d.push(t)}),t=d}return t}},b691:function(t,e){},b719:function(t,e,n){var r=n("697e");e.zrender=r;var i=n("1687");e.matrix=i;var a=n("401b");e.vector=a;var o=n("6d8b"),s=n("41ef");e.color=s;var u=n("2306"),l=n("3842");e.number=l;var c=n("eda2");e.format=c;var h=n("88b3");h.throttle;e.throttle=h.throttle;var f=n("1548");e.helper=f;var d=n("bda7");e.parseGeoJSON=d;var p=n("6179");e.List=p;var m=n("4319");e.Model=m;var g=n("84ce");e.Axis=g;var v=n("22d1");e.env=v;var _=d,y={};o.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){y[t]=o[t]});var x={};o.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(t){x[t]=u[t]}),e.parseGeoJson=_,e.util=y,e.graphic=x},b809:function(t,e,n){var r=n("6d8b"),i=n("29a8"),a=n("2b17"),o=a.retrieveRawValue;function s(t,e){var n=e.getModel("aria");if(n.get("show"))if(n.get("description"))t.setAttribute("aria-label",n.get("description"));else{var a=0;e.eachSeries(function(t,e){++a},this);var s,u=n.get("data.maxCount")||10,l=n.get("series.maxCount")||10,c=Math.min(a,l);if(!(a<1)){var h=g();s=h?p(m("general.withTitle"),{title:h}):m("general.withoutTitle");var f=[],d=a>1?"series.multiple.prefix":"series.single.prefix";s+=p(m(d),{seriesCount:a}),e.eachSeries(function(t,e){if(e<c){var n,r=t.get("name"),i="series."+(a>1?"multiple":"single")+".";n=m(r?i+"withName":i+"withoutName"),n=p(n,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:v(t.subType)});var s=t.getData();window.data=s,s.count()>u?n+=p(m("data.partialData"),{displayCnt:u}):n+=m("data.allData");for(var l=[],h=0;h<s.count();h++)if(h<u){var d=s.getName(h),g=o(s,h);l.push(p(m(d?"data.withName":"data.withoutName"),{name:d,value:g}))}n+=l.join(m("data.separator.middle"))+m("data.separator.end"),f.push(n)}}),s+=f.join(m("series.multiple.separator.middle"))+m("series.multiple.separator.end"),t.setAttribute("aria-label",s)}}function p(t,e){if("string"!==typeof t)return t;var n=t;return r.each(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}function m(t){var e=n.get(t);if(null==e){for(var r=t.split("."),a=i.aria,o=0;o<r.length;++o)a=a[r[o]];return a}return e}function g(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}function v(t){return i.series.typeNames[t]||"自定义图"}}t.exports=s},b866:function(t,e,n){"use strict";n.r(e),e["default"]={name:"gdp",theme:"dark",props:{barWidth:10,barGap:"10%",styles:{canvas:["15%","10%","15%","10%"]}}}},b89a:function(t,e,n){"use strict";n.r(e);var r=n("75fc"),i=(n("28a5"),n("4917"),n("cadf"),n("ac6a"),n("2ef0")),a={},o=n("6534");o.keys().forEach(function(t){var e=t.match(/([\w\-]+)\.ts$/);if(e&&e[1]){var n=e[1];a[n]=o(t).default}}),e["default"]=function(t){var e=(t.preset||"").split(","),n=e.map(function(t){return t in a?a[t]:{}});return i["merge"].apply(void 0,[{}].concat(Object(r["a"])(n)))}},b8e3:function(t,e){t.exports=!0},ba21:function(t,e,n){"use strict";n.r(e);n("f751");e["default"]=function(t,e){var n={roam:!1,nodeClick:!1,breadcrumb:{show:!1}};return t=t.map(function(t){return Object.assign({},t,n)}),t}},bcaa:function(t,e,n){var r=n("cb7c"),i=n("d3f4"),a=n("a5b8");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=a.f(t),o=n.resolve;return o(e),n.promise}},bd6b:function(t,e,n){var r=n("06ad"),i=n("4942"),a=n("6d8b"),o=a.isString,s=a.isFunction,u=a.isObject,l=a.isArrayLike,c=a.indexOf,h=function(){this.animators=[]};function f(t,e,n,r,i,a,u,l){o(r)?(a=i,i=r,r=0):s(i)?(a=i,i="linear",r=0):s(r)?(a=r,r=0):s(n)?(a=n,n=500):n||(n=500),t.stopAnimation(),d(t,"",t,e,n,r,l);var c=t.animators.slice(),h=c.length;function f(){h--,h||a&&a()}h||a&&a();for(var p=0;p<c.length;p++)c[p].done(f).start(i,u)}function d(t,e,n,r,i,a,o){var s={},c=0;for(var h in r)r.hasOwnProperty(h)&&(null!=n[h]?u(r[h])&&!l(r[h])?d(t,e?e+"."+h:h,n[h],r[h],i,a,o):(o?(s[h]=n[h],p(t,e,h,r[h])):s[h]=r[h],c++):null==r[h]||o||p(t,e,h,r[h]));c>0&&t.animate(e,!1).when(null==i?500:i,s).delay(a||0)}function p(t,e,n,r){if(e){var i={};i[e]={},i[e][n]=r,t.attr(i)}else t.attr(n,r)}h.prototype={constructor:h,animate:function(t,e){var n,a=!1,o=this,s=this.__zr;if(t){var u=t.split("."),l=o;a="shape"===u[0];for(var h=0,f=u.length;h<f;h++)l&&(l=l[u[h]]);l&&(n=l)}else n=o;if(n){var d=o.animators,p=new r(n,e);return p.during(function(t){o.dirty(a)}).done(function(){d.splice(c(d,p),1)}),d.push(p),s&&s.animation.addAnimator(p),p}i('Property "'+t+'" is not existed in element '+o.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},animateTo:function(t,e,n,r,i,a){f(this,t,e,n,r,i,a)},animateFrom:function(t,e,n,r,i,a){f(this,t,e,n,r,i,a,!0)}};var m=h;t.exports=m},bda7:function(t,e,n){var r=n("6d8b"),i=n("f279");function a(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,r=0;r<n.length;r++)for(var i=n[r],a=i.geometry,s=a.coordinates,u=a.encodeOffsets,l=0;l<s.length;l++){var c=s[l];if("Polygon"===a.type)s[l]=o(c,u[l],e);else if("MultiPolygon"===a.type)for(var h=0;h<c.length;h++){var f=c[h];c[h]=o(f,u[l][h],e)}}return t.UTF8Encoding=!1,t}function o(t,e,n){for(var r=[],i=e[0],a=e[1],o=0;o<t.length;o+=2){var s=t.charCodeAt(o)-64,u=t.charCodeAt(o+1)-64;s=s>>1^-(1&s),u=u>>1^-(1&u),s+=i,u+=a,i=s,a=u,r.push([s/n,u/n])}return r}function s(t){return a(t),r.map(r.filter(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var e=t.properties,n=t.geometry,a=n.coordinates,o=[];"Polygon"===n.type&&o.push({type:"polygon",exterior:a[0],interiors:a.slice(1)}),"MultiPolygon"===n.type&&r.each(a,function(t){t[0]&&o.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});var s=new i(e.name,o,e.cp);return s.properties=e,s})}t.exports=s},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},bf06:function(t,e,n){"use strict";n.r(e),e["default"]=function(t,e){var n=t.accessories.axis,r={};r.position=n.position||"right",r.type=n.type||"value",r.splitLine={show:!1},n.unit&&(r.axisLabel={formatter:"100%"===n.unit?function(t,e){return 100*t+"%"}:"{value}"+n.unit});var i=e.yAxis||[{type:"value"}];return i.push(r),{yAxis:i}}},bf0b:function(t,e,n){var r=n("355d"),i=n("aebd"),a=n("36c3"),o=n("1bc3"),s=n("07e3"),u=n("794b"),l=Object.getOwnPropertyDescriptor;e.f=n("8e60")?l:function(t,e){if(t=a(t),e=o(e,!0),u)try{return l(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},c09b:function(t,e,n){"use strict";n.r(e);n("f751");e["default"]=function(t){var e=t.x,n={};return Array.isArray(e)&&(e={data:e}),n.indicator=e.data.map(function(e){return Object.assign({name:e},t.y.max&&{max:t.y.max})}),{radar:n}}},c1c1:function(t,e,n){"use strict";n.r(e);n("f751"),n("6c7b");e["default"]=function(t,e){var n=Array(t.length).fill(0).map(function(e,n){return 100*(n+1)/(t.length+1)}).map(function(t){return t+"%"}),r=e.distribute||n;return t.map(function(t,e){return Object.assign({},t,{center:[r[e],"50%"],backgroundStyle:{borderWidth:0,color:"transparent"}})})}},c207:function(t,e){},c366:function(t,e,n){var r=n("6821"),i=n("9def"),a=n("77f1");t.exports=function(t){return function(e,n,o){var s,u=r(e),l=i(u.length),c=a(o,l);if(t&&n!=n){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},c367:function(t,e,n){"use strict";var r=n("8436"),i=n("50ed"),a=n("481b"),o=n("36c3");t.exports=n("30f1")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},c3a1:function(t,e,n){var r=n("e6f3"),i=n("1691");t.exports=Object.keys||function(t){return r(t,i)}},c533:function(t,e){var n=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],r={color:n,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],n]};t.exports=r},c5f6:function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),a=n("2d95"),o=n("5dbc"),s=n("6a99"),u=n("79e5"),l=n("9093").f,c=n("11e9").f,h=n("86cc").f,f=n("aa77").trim,d="Number",p=r[d],m=p,g=p.prototype,v=a(n("2aeb")(g))==d,_="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():f(e,3);var n,r,i,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var o,u=e.slice(2),l=0,c=u.length;l<c;l++)if(o=u.charCodeAt(l),o<48||o>i)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(v?u(function(){g.valueOf.call(n)}):a(n)!=d)?o(new m(y(e)),n,p):y(e)};for(var x,b=n("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)i(m,x=b[w])&&!i(p,x)&&h(p,x,c(m,x));p.prototype=g,g.constructor=p,n("2aba")(r,d,p)}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c7a2:function(t,e,n){var r=n("cbe5"),i=n("5693"),a=n("9cf9"),o=a.subPixelOptimizeRect,s={},u=r.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n,r,a,u;this.subPixelOptimize?(o(s,e,this.style),n=s.x,r=s.y,a=s.width,u=s.height,s.r=e.r,e=s):(n=e.x,r=e.y,a=e.width,u=e.height),e.r?i.buildPath(t,e):t.rect(n,r,a,u),t.closePath()}});t.exports=u},c7ba:function(t,e,n){"use strict";n.r(e);n("7f7f");var r=[{name:"海门",value:9},{name:"鄂尔多斯",value:12},{name:"招远",value:12},{name:"舟山",value:12},{name:"齐齐哈尔",value:14},{name:"盐城",value:15},{name:"赤峰",value:16},{name:"青岛",value:18},{name:"乳山",value:18},{name:"金昌",value:19},{name:"泉州",value:21},{name:"莱西",value:21},{name:"日照",value:21},{name:"胶南",value:22},{name:"南通",value:23},{name:"拉萨",value:24},{name:"云浮",value:24},{name:"梅州",value:25},{name:"文登",value:25},{name:"上海",value:25},{name:"攀枝花",value:25},{name:"威海",value:25},{name:"承德",value:25},{name:"厦门",value:26},{name:"汕尾",value:26},{name:"潮州",value:26},{name:"丹东",value:27},{name:"太仓",value:27},{name:"曲靖",value:27},{name:"烟台",value:28},{name:"福州",value:29},{name:"瓦房店",value:30},{name:"即墨",value:30},{name:"抚顺",value:31},{name:"玉溪",value:31},{name:"张家口",value:31},{name:"阳泉",value:31},{name:"莱州",value:32},{name:"湖州",value:32},{name:"汕头",value:32},{name:"昆山",value:33},{name:"宁波",value:33},{name:"湛江",value:33},{name:"揭阳",value:34},{name:"荣成",value:34},{name:"连云港",value:35},{name:"葫芦岛",value:35},{name:"常熟",value:36},{name:"东莞",value:36},{name:"河源",value:36},{name:"淮安",value:36},{name:"泰州",value:36},{name:"南宁",value:37},{name:"营口",value:37},{name:"惠州",value:37},{name:"江阴",value:37},{name:"蓬莱",value:37},{name:"韶关",value:38},{name:"嘉峪关",value:38},{name:"广州",value:38},{name:"延安",value:38},{name:"太原",value:39},{name:"清远",value:39},{name:"中山",value:39},{name:"昆明",value:39},{name:"寿光",value:40},{name:"盘锦",value:40},{name:"长治",value:41},{name:"深圳",value:41},{name:"珠海",value:42},{name:"宿迁",value:43},{name:"咸阳",value:43},{name:"铜川",value:44},{name:"平度",value:44},{name:"佛山",value:44},{name:"海口",value:44},{name:"江门",value:45},{name:"章丘",value:45},{name:"肇庆",value:46},{name:"大连",value:47},{name:"临汾",value:47},{name:"吴江",value:47},{name:"石嘴山",value:49},{name:"沈阳",value:50},{name:"苏州",value:50},{name:"茂名",value:50},{name:"嘉兴",value:51},{name:"长春",value:51},{name:"胶州",value:52},{name:"银川",value:52},{name:"张家港",value:52},{name:"三门峡",value:53},{name:"锦州",value:54},{name:"南昌",value:54},{name:"柳州",value:54},{name:"三亚",value:54},{name:"自贡",value:56},{name:"吉林",value:56},{name:"阳江",value:57},{name:"泸州",value:57},{name:"西宁",value:57},{name:"宜宾",value:58},{name:"呼和浩特",value:58},{name:"成都",value:58},{name:"大同",value:58},{name:"镇江",value:59},{name:"桂林",value:59},{name:"张家界",value:59},{name:"宜兴",value:59},{name:"北海",value:60},{name:"西安",value:61},{name:"金坛",value:62},{name:"东营",value:62},{name:"牡丹江",value:63},{name:"遵义",value:63},{name:"绍兴",value:63},{name:"扬州",value:64},{name:"常州",value:64},{name:"潍坊",value:65},{name:"重庆",value:66},{name:"台州",value:67},{name:"南京",value:67},{name:"滨州",value:70},{name:"贵阳",value:71},{name:"无锡",value:71},{name:"本溪",value:71},{name:"克拉玛依",value:72},{name:"渭南",value:72},{name:"马鞍山",value:72},{name:"宝鸡",value:72},{name:"焦作",value:75},{name:"句容",value:75},{name:"北京",value:79},{name:"徐州",value:79},{name:"衡水",value:80},{name:"包头",value:80},{name:"绵阳",value:80},{name:"乌鲁木齐",value:84},{name:"枣庄",value:84},{name:"杭州",value:84},{name:"淄博",value:85},{name:"鞍山",value:86},{name:"溧阳",value:86},{name:"库尔勒",value:86},{name:"安阳",value:90},{name:"开封",value:90},{name:"济南",value:92},{name:"德阳",value:93},{name:"温州",value:95},{name:"九江",value:96},{name:"邯郸",value:98},{name:"临安",value:99},{name:"兰州",value:99},{name:"沧州",value:100},{name:"临沂",value:103},{name:"南充",value:104},{name:"天津",value:105},{name:"富阳",value:106},{name:"泰安",value:112},{name:"诸暨",value:112},{name:"郑州",value:113},{name:"哈尔滨",value:114},{name:"聊城",value:116},{name:"芜湖",value:117},{name:"唐山",value:119},{name:"平顶山",value:119},{name:"邢台",value:119},{name:"德州",value:120},{name:"济宁",value:120},{name:"荆州",value:127},{name:"宜昌",value:130},{name:"义乌",value:132},{name:"丽水",value:133},{name:"洛阳",value:134},{name:"秦皇岛",value:136},{name:"株洲",value:143},{name:"石家庄",value:147},{name:"莱芜",value:148},{name:"常德",value:152},{name:"保定",value:153},{name:"湘潭",value:154},{name:"金华",value:157},{name:"岳阳",value:169},{name:"长沙",value:175},{name:"衢州",value:177},{name:"廊坊",value:193},{name:"菏泽",value:194},{name:"合肥",value:229},{name:"武汉",value:273},{name:"大庆",value:279}],i={"海门":[121.15,31.89],"鄂尔多斯":[109.781327,39.608266],"招远":[120.38,37.35],"舟山":[122.207216,29.985295],"齐齐哈尔":[123.97,47.33],"盐城":[120.13,33.38],"赤峰":[118.87,42.28],"青岛":[120.33,36.07],"乳山":[121.52,36.89],"金昌":[102.188043,38.520089],"泉州":[118.58,24.93],"莱西":[120.53,36.86],"日照":[119.46,35.42],"胶南":[119.97,35.88],"南通":[121.05,32.08],"拉萨":[91.11,29.97],"云浮":[112.02,22.93],"梅州":[116.1,24.55],"文登":[122.05,37.2],"上海":[121.48,31.22],"攀枝花":[101.718637,26.582347],"威海":[122.1,37.5],"承德":[117.93,40.97],"厦门":[118.1,24.46],"汕尾":[115.375279,22.786211],"潮州":[116.63,23.68],"丹东":[124.37,40.13],"太仓":[121.1,31.45],"曲靖":[103.79,25.51],"烟台":[121.39,37.52],"福州":[119.3,26.08],"瓦房店":[121.979603,39.627114],"即墨":[120.45,36.38],"抚顺":[123.97,41.97],"玉溪":[102.52,24.35],"张家口":[114.87,40.82],"阳泉":[113.57,37.85],"莱州":[119.942327,37.177017],"湖州":[120.1,30.86],"汕头":[116.69,23.39],"昆山":[120.95,31.39],"宁波":[121.56,29.86],"湛江":[110.359377,21.270708],"揭阳":[116.35,23.55],"荣成":[122.41,37.16],"连云港":[119.16,34.59],"葫芦岛":[120.836932,40.711052],"常熟":[120.74,31.64],"东莞":[113.75,23.04],"河源":[114.68,23.73],"淮安":[119.15,33.5],"泰州":[119.9,32.49],"南宁":[108.33,22.84],"营口":[122.18,40.65],"惠州":[114.4,23.09],"江阴":[120.26,31.91],"蓬莱":[120.75,37.8],"韶关":[113.62,24.84],"嘉峪关":[98.289152,39.77313],"广州":[113.23,23.16],"延安":[109.47,36.6],"太原":[112.53,37.87],"清远":[113.01,23.7],"中山":[113.38,22.52],"昆明":[102.73,25.04],"寿光":[118.73,36.86],"盘锦":[122.070714,41.119997],"长治":[113.08,36.18],"深圳":[114.07,22.62],"珠海":[113.52,22.3],"宿迁":[118.3,33.96],"咸阳":[108.72,34.36],"铜川":[109.11,35.09],"平度":[119.97,36.77],"佛山":[113.11,23.05],"海口":[110.35,20.02],"江门":[113.06,22.61],"章丘":[117.53,36.72],"肇庆":[112.44,23.05],"大连":[121.62,38.92],"临汾":[111.5,36.08],"吴江":[120.63,31.16],"石嘴山":[106.39,39.04],"沈阳":[123.38,41.8],"苏州":[120.62,31.32],"茂名":[110.88,21.68],"嘉兴":[120.76,30.77],"长春":[125.35,43.88],"胶州":[120.03336,36.264622],"银川":[106.27,38.47],"张家港":[120.555821,31.875428],"三门峡":[111.19,34.76],"锦州":[121.15,41.13],"南昌":[115.89,28.68],"柳州":[109.4,24.33],"三亚":[109.511909,18.252847],"自贡":[104.778442,29.33903],"吉林":[126.57,43.87],"阳江":[111.95,21.85],"泸州":[105.39,28.91],"西宁":[101.74,36.56],"宜宾":[104.56,29.77],"呼和浩特":[111.65,40.82],"成都":[104.06,30.67],"大同":[113.3,40.12],"镇江":[119.44,32.2],"桂林":[110.28,25.29],"张家界":[110.479191,29.117096],"宜兴":[119.82,31.36],"北海":[109.12,21.49],"西安":[108.95,34.27],"金坛":[119.56,31.74],"东营":[118.49,37.46],"牡丹江":[129.58,44.6],"遵义":[106.9,27.7],"绍兴":[120.58,30.01],"扬州":[119.42,32.39],"常州":[119.95,31.79],"潍坊":[119.1,36.62],"重庆":[106.54,29.59],"台州":[121.420757,28.656386],"南京":[118.78,32.04],"滨州":[118.03,37.36],"贵阳":[106.71,26.57],"无锡":[120.29,31.59],"本溪":[123.73,41.3],"克拉玛依":[84.77,45.59],"渭南":[109.5,34.52],"马鞍山":[118.48,31.56],"宝鸡":[107.15,34.38],"焦作":[113.21,35.24],"句容":[119.16,31.95],"北京":[116.46,39.92],"徐州":[117.2,34.26],"衡水":[115.72,37.72],"包头":[110,40.58],"绵阳":[104.73,31.48],"乌鲁木齐":[87.68,43.77],"枣庄":[117.57,34.86],"杭州":[120.19,30.26],"淄博":[118.05,36.78],"鞍山":[122.85,41.12],"溧阳":[119.48,31.43],"库尔勒":[86.06,41.68],"安阳":[114.35,36.1],"开封":[114.35,34.79],"济南":[117,36.65],"德阳":[104.37,31.13],"温州":[120.65,28.01],"九江":[115.97,29.71],"邯郸":[114.47,36.6],"临安":[119.72,30.23],"兰州":[103.73,36.03],"沧州":[116.83,38.33],"临沂":[118.35,35.05],"南充":[106.110698,30.837793],"天津":[117.2,39.13],"富阳":[119.95,30.07],"泰安":[117.13,36.18],"诸暨":[120.23,29.71],"郑州":[113.65,34.76],"哈尔滨":[126.63,45.75],"聊城":[115.97,36.45],"芜湖":[118.38,31.33],"唐山":[118.02,39.63],"平顶山":[113.29,33.75],"邢台":[114.48,37.05],"德州":[116.29,37.45],"济宁":[116.59,35.38],"荆州":[112.239741,30.335165],"宜昌":[111.3,30.7],"义乌":[120.06,29.32],"丽水":[119.92,28.45],"洛阳":[112.44,34.7],"秦皇岛":[119.57,39.95],"株洲":[113.16,27.83],"石家庄":[114.48,38.03],"莱芜":[117.67,36.19],"常德":[111.69,29.05],"保定":[115.48,38.85],"湘潭":[112.91,27.87],"金华":[119.64,29.12],"岳阳":[113.09,29.37],"长沙":[113,28.21],"衢州":[118.88,28.97],"廊坊":[116.7,39.53],"菏泽":[115.480656,35.23375],"合肥":[117.27,31.86],"武汉":[114.31,30.52],"大庆":[125.03,46.58]},a=function(t){for(var e=[],n=0;n<t.length;n++){var r=i[t[n].name];r&&e.push({name:t[n].name,value:r.concat(t[n].value)})}return e};e["default"]=[a(r)]},c89a:function(t,e,n){"use strict";
/**
  * vue-class-component v7.0.2
  * (c) 2015-present Evan You
  * @license MIT
  */function r(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("8bbf")),a="undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys;function o(t,e){s(t,e),Object.getOwnPropertyNames(e.prototype).forEach(function(n){s(t.prototype,e.prototype,n)}),Object.getOwnPropertyNames(e).forEach(function(n){s(t,e,n)})}function s(t,e,n){var r=n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e);r.forEach(function(r){var i=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,i,t,n):Reflect.defineMetadata(r,i,t)})}var u={__proto__:[]},l=u instanceof Array;function c(t){return function(e,n,r){var i="function"===typeof e?e:e.constructor;i.__decorators__||(i.__decorators__=[]),"number"!==typeof r&&(r=void 0),i.__decorators__.push(function(e){return t(e,n,r)})}}function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.extend({mixins:t})}function f(t){var e=typeof t;return null==t||"object"!==e&&"function"!==e}function d(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach(function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})})};var r=new e;e.prototype._init=n;var i={};return Object.keys(r).forEach(function(t){void 0!==r[t]&&(i[t]=r[t])}),i}var p=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function m(t,e){void 0===e&&(e={}),e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach(function(t){if("constructor"!==t)if(p.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"===typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){var e;return e={},e[t]=r.value,e}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}}),(e.mixins||(e.mixins=[])).push({data:function(){return d(this,t)}});var r=t.__decorators__;r&&(r.forEach(function(t){return t(e)}),delete t.__decorators__);var s=Object.getPrototypeOf(t.prototype),u=s instanceof i?s.constructor:i,l=u.extend(e);return v(l,t,u),a&&o(l,t),l}var g={prototype:!0,arguments:!0,callee:!0,caller:!0};function v(t,e,n){Object.getOwnPropertyNames(e).forEach(function(r){if(!g[r]){var i=Object.getOwnPropertyDescriptor(t,r);if(!i||i.configurable){var a=Object.getOwnPropertyDescriptor(e,r);if(!l){if("cid"===r)return;var o=Object.getOwnPropertyDescriptor(n,r);if(!f(a.value)&&o&&o.value===a.value)return}0,Object.defineProperty(t,r,a)}}})}function _(t){return"function"===typeof t?m(t):function(e){return m(e,t)}}_.registerHooks=function(t){p.push.apply(p,t)},e.default=_,e.createDecorator=c,e.mixins=h},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},c8bb:function(t,e,n){t.exports=n("54a1")},ca1c:function(t,e,n){"use strict";n.r(e);n("f751"),n("ac6a");e["default"]=function(t,e){return t.forEach(function(t){var n={smooth:e.smooth};e.stacked&&(n.stack=e.stacked||"stack-1"),e.lineWidth&&(n.lineStyle={width:e.lineWidth}),Object.assign(t,n)}),t}},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},ca98:function(t,e,n){var r=n("6d8b"),i=n("e0d3"),a=n("6cb7"),o=r.each,s=r.clone,u=r.map,l=r.merge,c=/^(min|max)?(.+)$/;function h(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function f(t,e,n){var i,a,s=[],u=[],l=t.timeline;if(t.baseOption&&(a=t.baseOption),(l||t.options)&&(a=a||{},s=(t.options||[]).slice()),t.media){a=a||{};var c=t.media;o(c,function(t){t&&t.option&&(t.query?u.push(t):i||(i=t))})}return a||(a=t),a.timeline||(a.timeline=l),o([a].concat(s).concat(r.map(u,function(t){return t.option})),function(t){o(e,function(e){e(t,n)})}),{baseOption:a,timelineOptions:s,mediaDefault:i,mediaList:u}}function d(t,e,n){var i={width:e,height:n,aspectratio:e/n},a=!0;return r.each(t,function(t,e){var n=e.match(c);if(n&&n[1]&&n[2]){var r=n[1],o=n[2].toLowerCase();p(i[o],t,r)||(a=!1)}}),a}function p(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e}function m(t,e){return t.join(",")===e.join(",")}function g(t,e){e=e||{},o(e,function(e,n){if(null!=e){var r=t[n];if(a.hasClass(n)){e=i.normalizeToArray(e),r=i.normalizeToArray(r);var o=i.mappingToExists(r,e);t[n]=u(o,function(t){return t.option&&t.exist?l(t.exist,t.option,!0):t.exist||t.option})}else t[n]=l(r,e,!0)}})}h.prototype={constructor:h,setOption:function(t,e){t&&r.each(i.normalizeToArray(t.series),function(t){t&&t.data&&r.isTypedArray(t.data)&&r.setAsPrimitive(t.data)}),t=s(t,!0);var n=this._optionBackup,a=f.call(this,t,e,!n);this._newBaseOption=a.baseOption,n?(g(n.baseOption,a.baseOption),a.timelineOptions.length&&(n.timelineOptions=a.timelineOptions),a.mediaList.length&&(n.mediaList=a.mediaList),a.mediaDefault&&(n.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=u(e.timelineOptions,s),this._mediaList=u(e.mediaList,s),this._mediaDefault=s(e.mediaDefault),this._currentMediaIndices=[],s(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=s(n[r.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,i=this._mediaDefault,a=[],o=[];if(!r.length&&!i)return o;for(var l=0,c=r.length;l<c;l++)d(r[l].query,e,n)&&a.push(l);return!a.length&&i&&(a=[-1]),a.length&&!m(a,this._currentMediaIndices)&&(o=u(a,function(t){return s(-1===t?i.option:r[t].option)})),this._currentMediaIndices=a,o}};var v=h;t.exports=v},cadf:function(t,e,n){"use strict";var r=n("9c6c"),i=n("d53b"),a=n("84f2"),o=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},cb11:function(t,e,n){var r=n("cbe5"),i=n("9cf9"),a=i.subPixelOptimizeLine,o={},s=r.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n,r,i,s;this.subPixelOptimize?(a(o,e,this.style),n=o.x1,r=o.y1,i=o.x2,s=o.y2):(n=e.x1,r=e.y1,i=e.x2,s=e.y2);var u=e.percent;0!==u&&(t.moveTo(n,r),u<1&&(i=n*(1-u)+i*u,s=r*(1-u)+s*u),t.lineTo(i,s))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});t.exports=s},cb6d:function(t,e){function n(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function r(t,e){return{target:t,topTarget:e&&e.topTarget}}n.prototype={constructor:n,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(r(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(a,o,t),this.dispatchToElement(r(e,t),"drag",t.event);var s=this.findHover(n,i,e).target,u=this._dropTarget;this._dropTarget=s,e!==s&&(u&&s!==u&&this.dispatchToElement(r(u,t),"dragleave",t.event),s&&s!==u&&this.dispatchToElement(r(s,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(r(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(r(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var i=n;t.exports=i},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},cb7d:function(t,e,n){var r=n("3eba"),i=r.number,a=n("a15a"),o=i.parsePercent,s=n("ccf7");r.extendChartView({type:"liquidFill",render:function(t,e,n){var i=this.group;i.removeAll();var u=t.getData(),l=u.getItemModel(0),c=l.get("center"),h=l.get("radius"),f=n.getWidth(),d=n.getHeight(),p=Math.min(f,d),m=0,g=0,v=t.get("outline.show");v&&(m=t.get("outline.borderDistance"),g=o(t.get("outline.itemStyle.borderWidth"),p));var _,y,x,b=o(c[0],f),w=o(c[1],d),T=!1,S=t.get("shape");if("container"===S?(T=!0,_=[f/2,d/2],y=[_[0]-g/2,_[1]-g/2],x=[o(m,f),o(m,d)],h=[Math.max(y[0]-x[0],0),Math.max(y[1]-x[1],0)]):(_=o(h,p)/2,y=_-g/2,x=o(m,p),h=Math.max(y-x,0)),v){var E=I();E.style.lineWidth=g,i.add(I())}var M=T?0:b-h,A=T?0:w-h,C=null;i.add(P());var O=this._data,D=[];function L(t,e){if(S){if(0===S.indexOf("path://")){var n=r.graphic.makePath(S.slice(7),{}),i=n.getBoundingRect(),o=i.width,s=i.height;o>s?(s*=2*t/o,o=2*t):(o*=2*t/s,s=2*t);var u=e?0:b-o/2,l=e?0:w-s/2;return n=r.graphic.makePath(S.slice(7),{},new r.graphic.BoundingRect(u,l,o,s)),e&&(n.position=[-o/2,-s/2]),n}if(T){var c=e?-t[0]:b-t[0],h=e?-t[1]:w-t[1];return a.createSymbol("rect",c,h,2*t[0],2*t[1])}c=e?-t:b-t,h=e?-t:w-t;return"pin"===S?h+=t:"arrow"===S&&(h-=t),a.createSymbol(S,c,h,2*t,2*t)}return new r.graphic.Circle({shape:{cx:e?0:b,cy:e?0:w,r:t}})}function I(){var e=L(_);return e.style.fill=null,e.setStyle(t.getModel("outline.itemStyle").getItemStyle()),e}function P(){var e=L(h);e.setStyle(t.getModel("backgroundStyle").getItemStyle()),e.style.fill=null,e.z2=5;var n=L(h);n.setStyle(t.getModel("backgroundStyle").getItemStyle()),n.style.stroke=null;var i=new r.graphic.Group;return i.add(e),i.add(n),i}function R(e,n,i){var a=T?h[0]:h,l=T?d/2:h;console.log(l);var c=u.getItemModel(e),f=c.getModel("itemStyle"),p=c.get("phase"),m=o(c.get("amplitude"),2*l),g=o(c.get("waveLength"),2*a),v=u.get("value",e),_=l-v*l*2;p=i?i.shape.phase:"auto"===p?e*Math.PI/4:p;var y=f.getItemStyle();if(!y.fill){var x=t.get("color"),S=e%x.length;y.fill=x[S]}var E=2*a,M=new s({shape:{waveLength:g,radius:a,radiusY:l,cx:E,cy:0,waterLevel:_,amplitude:m,phase:p,inverse:n},style:y,position:[b,w]});M.shape._waterLevel=_;var A=c.getModel("emphasis.itemStyle").getItemStyle();A.lineWidth=0,r.graphic.setHoverStyle(M,A);var C=L(h,!0);return C.setStyle({fill:"white"}),M.setClipPath(C),M}function N(t,e,n){var r=u.getItemModel(t),i=r.get("period"),a=r.get("direction"),o=u.get("value",t),s=r.get("phase");s=n?n.shape.phase:"auto"===s?t*Math.PI/4:s;var l=function(e){var n=u.count();return 0===n?e:e*(.2+(n-t)/n*.8)},c=0;c="auto"===i?l(5e3):"function"===typeof i?i(o,t):i;var h=0;"right"===a||null==a?h=Math.PI:"left"===a?h=-Math.PI:"none"===a?h=0:console.error("Illegal direction value for liquid fill."),"none"!==a&&r.get("waveAnimation")&&e.animate("shape",!0).when(0,{phase:s}).when(c/2,{phase:h+s}).when(c,{phase:2*h+s}).during(function(){C&&C.dirty(!0)}).start()}function k(e){var n=l.getModel("label");function i(){var e=t.getFormattedLabel(0,"normal"),n=100*u.get("value",0),r=u.getName(0)||t.name;return isNaN(n)||(r=n.toFixed(0)+"%"),null==e?r:e}var a={z2:10,shape:{x:M,y:A,width:2*(T?h[0]:h),height:2*(T?h[1]:h)},style:{fill:"transparent",text:i(),textAlign:n.get("align"),textVerticalAlign:n.get("baseline")},silent:!0},o=new r.graphic.Rect(a),s=n.get("color");r.graphic.setText(o.style,n,s);var c=new r.graphic.Rect(a),f=n.get("insideColor");r.graphic.setText(c.style,n,f),c.style.textFill=f;var d=new r.graphic.Group;d.add(o),d.add(c);var p=L(h,!0);return C=new r.graphic.CompoundPath({shape:{paths:e},position:[b,w]}),C.setClipPath(p),c.setClipPath(C),d}u.diff(O).add(function(e){var n=R(e,!1),a=n.shape.waterLevel;n.shape.waterLevel=T?d/2:h,r.graphic.initProps(n,{shape:{waterLevel:a}},t),n.z2=2,N(e,n,null),i.add(n),u.setItemGraphicEl(e,n),D.push(n)}).update(function(e,n){for(var a=O.getItemGraphicEl(n),o=R(e,!1,a),s={},l=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],c=0;c<l.length;++c){var h=l[c];o.shape.hasOwnProperty(h)&&(s[h]=o.shape[h])}var f={},p=["fill","opacity","shadowBlur","shadowColor"];for(c=0;c<p.length;++c){h=p[c];o.style.hasOwnProperty(h)&&(f[h]=o.style[h])}T&&(s.radiusY=d/2),r.graphic.updateProps(a,{shape:s,style:f},t),a.position=o.position,a.setClipPath(o.clipPath),a.shape.inverse=o.inverse,N(e,a,a),i.add(a),u.setItemGraphicEl(e,a),D.push(a)}).remove(function(t){var e=O.getItemGraphicEl(t);i.remove(e)}).execute(),l.get("label.show")&&i.add(k(D)),this._data=u},dispose:function(){}})},cbe5:function(t,e,n){var r=n("19eb"),i=n("6d8b"),a=n("20c8"),o=n("d833"),s=n("dc2f"),u=s.prototype.getCanvasPattern,l=Math.abs,c=new a(!0);function h(t){r.call(this,t),this.path=null}h.prototype={constructor:h,type:"path",__dirtyPath:!0,strokeContainThreshold:5,subPixelOptimize:!1,brush:function(t,e){var n,r=this.style,i=this.path||c,a=r.hasStroke(),o=r.hasFill(),s=r.fill,l=r.stroke,h=o&&!!s.colorStops,f=a&&!!l.colorStops,d=o&&!!s.image,p=a&&!!l.image;(r.bind(t,this,e),this.setTransform(t),this.__dirty)&&(h&&(n=n||this.getBoundingRect(),this._fillGradient=r.getGradient(t,s,n)),f&&(n=n||this.getBoundingRect(),this._strokeGradient=r.getGradient(t,l,n)));h?t.fillStyle=this._fillGradient:d&&(t.fillStyle=u.call(s,t)),f?t.strokeStyle=this._strokeGradient:p&&(t.strokeStyle=u.call(l,t));var m=r.lineDash,g=r.lineDashOffset,v=!!t.setLineDash,_=this.getGlobalScale();if(i.setScale(_[0],_[1]),this.__dirtyPath||m&&!v&&a?(i.beginPath(t),m&&!v&&(i.setLineDash(m),i.setLineDashOffset(g)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o)if(null!=r.fillOpacity){var y=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,i.fill(t),t.globalAlpha=y}else i.fill(t);if(m&&v&&(t.setLineDash(m),t.lineDashOffset=g),a)if(null!=r.strokeOpacity){y=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,i.stroke(t),t.globalAlpha=y}else i.stroke(t);m&&v&&t.setLineDash([]),null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new a},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var r=this.path;r||(r=this.path=new a),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),t=r.getBoundingRect()}if(this._rect=t,e.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){i.copy(t);var o=e.lineWidth,s=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),s>1e-10&&(i.width+=o/s,i.height+=o/s,i.x-=o/s/2,i.y-=o/s/2)}return i}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var a=this.path.data;if(i.hasStroke()){var s=i.lineWidth,u=i.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(i.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),o.containStroke(a,s/u,t,e)))return!0}if(i.hasFill())return o.contain(a,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):r.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(i.isObject(t))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&l(t[0]-1)>1e-10&&l(t[3]-1)>1e-10?Math.sqrt(l(t[0]*t[3]-t[2]*t[1])):1}},h.extend=function(t){var e=function(e){h.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var i in n)!r.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(r[i]=n[i])}t.init&&t.init.call(this,e)};for(var n in i.inherits(e,h),t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},i.inherits(h,r);var f=h;t.exports=f},ccb9:function(t,e,n){e.f=n("5168")},cccd:function(t,e,n){var r=n("e0d3"),i=r.makeInner;function a(){var t=i();return function(e){var n=t(e),r=e.pipelineContext,i=n.large,a=n.progressiveRender,o=n.large=r.large,s=n.progressiveRender=r.progressiveRender;return!!(i^o||a^s)&&"reset"}}t.exports=a},ccf7:function(t,e,n){var r=n("3eba");function i(t,e,n,r){return 0===e?[[t+.5*n/Math.PI/2,r/2],[t+.5*n/Math.PI,r],[t+n/4,r]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),r],[t+.5*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-r/2],[t+.5*n/Math.PI,-r],[t+n/4,-r]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-r],[t+.5*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}t.exports=r.graphic.extendShape({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(t,e){null==e.radiusY&&(e.radiusY=e.radius);var n=Math.max(2*Math.ceil(2*e.radius/e.waveLength*4),8);while(e.phase<2*-Math.PI)e.phase+=2*Math.PI;while(e.phase>0)e.phase-=2*Math.PI;var r=e.phase/Math.PI/2*e.waveLength,a=e.cx-e.radius+r-2*e.radius;t.moveTo(a,e.waterLevel);for(var o=0,s=0;s<n;++s){var u=s%4,l=i(s*e.waveLength/4,u,e.waveLength,e.amplitude);t.bezierCurveTo(l[0][0]+a,-l[0][1]+e.waterLevel,l[1][0]+a,-l[1][1]+e.waterLevel,l[2][0]+a,-l[2][1]+e.waterLevel),s===n-1&&(o=l[2][0])}e.inverse?(t.lineTo(o+a,e.cy-e.radiusY),t.lineTo(a,e.cy-e.radiusY),t.lineTo(a,e.waterLevel)):(t.lineTo(o+a,e.cy+e.radiusY),t.lineTo(a,e.cy+e.radiusY),t.lineTo(a,e.waterLevel)),t.closePath()}})},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},cdaa:function(t,e,n){var r=n("607d"),i=r.addEventListener,a=r.removeEventListener,o=r.normalizeEvent,s=n("6d8b"),u=n("1fab"),l=n("22d1"),c=300,h=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],f=["touchstart","touchend","touchmove"],d={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},p=s.map(h,function(t){var e=t.replace("mouse","pointer");return d[e]?e:t});function m(t){return"mousewheel"===t&&l.browser.firefox?"DOMMouseScroll":t}function g(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}var v={mousemove:function(t){t=o(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){t=o(this.dom,t);var e=t.toElement||t.relatedTarget;if(e!==this.dom)while(e&&9!==e.nodeType){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){t=o(this.dom,t),t.zrByTouch=!0,this._lastTouchMoment=new Date,this.handler.processGesture(this,t,"start"),v.mousemove.call(this,t),v.mousedown.call(this,t),g(this)},touchmove:function(t){t=o(this.dom,t),t.zrByTouch=!0,this.handler.processGesture(this,t,"change"),v.mousemove.call(this,t),g(this)},touchend:function(t){t=o(this.dom,t),t.zrByTouch=!0,this.handler.processGesture(this,t,"end"),v.mouseup.call(this,t),+new Date-this._lastTouchMoment<c&&v.click.call(this,t),g(this)},pointerdown:function(t){v.mousedown.call(this,t)},pointermove:function(t){_(t)||v.mousemove.call(this,t)},pointerup:function(t){v.mouseup.call(this,t)},pointerout:function(t){_(t)||v.mouseout.call(this,t)}};function _(t){var e=t.pointerType;return"pen"===e||"touch"===e}function y(t){function e(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}s.each(f,function(e){t._handlers[e]=s.bind(v[e],t)}),s.each(p,function(e){t._handlers[e]=s.bind(v[e],t)}),s.each(h,function(n){t._handlers[n]=e(v[n],t)})}function x(t){function e(e,n){s.each(e,function(e){i(t,m(e),n._handlers[e])},n)}u.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._handlers={},y(this),l.pointerEventsSupported?e(p,this):(l.touchEventsSupported&&e(f,this),e(h,this))}s.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){v[t]=function(e){e=o(this.dom,e),this.trigger(t,e)}});var b=x.prototype;b.dispose=function(){for(var t=h.concat(f),e=0;e<t.length;e++){var n=t[e];a(this.dom,m(n),this._handlers[n])}},b.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},s.mixin(x,u);var w=x;t.exports=w},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),a=n("c366")(!1),o=n("613b")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=o&&r(s,n)&&l.push(n);while(e.length>u)r(s,n=e[u++])&&(~a(l,n)||l.push(n));return l}},ce7e:function(t,e,n){var r=n("63b6"),i=n("584a"),a=n("294c");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},cfdf:function(t,e,n){"use strict";n.r(e),console.log("provider-preset-legend-right-vertical))))))_________________"),e["default"]={title:{left:"38%"}}},d015:function(t,e,n){t.exports=n("a98e")},d15d:function(t,e,n){var r=n("6d8b"),i=r.createHashMap,a=r.each;function o(t){var e=i();t.eachSeries(function(t){var n=t.get("stack");if(n){var r=e.get(n)||e.set(n,[]),i=t.getData(),a={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),e.each(s)}function s(t){a(t,function(e,n){var r=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,u=o.map(a,function(a,u,l){var c,h,f=o.get(e.stackedDimension,l);if(isNaN(f))return i;s?h=o.getRawIndex(l):c=o.get(e.stackedByDimension,l);for(var d=NaN,p=n-1;p>=0;p--){var m=t[p];if(s||(h=m.data.rawIndexOf(m.stackedByDimension,c)),h>=0){var g=m.data.getByRawIndex(m.stackResultDimension,h);if(f>=0&&g>0||f<=0&&g<0){f+=g,d=g;break}}}return r[0]=f,r[1]=d,r});o.hostModel.setData(u),e.data=u})}t.exports=o},d185:function(t,e,n){var r=n("11e9"),i=n("38fd"),a=n("69a8"),o=n("5ca1"),s=n("d3f4"),u=n("cb7c");function l(t,e){var n,o,c=arguments.length<3?t:arguments[2];return u(t)===c?t[e]:(n=r.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:s(o=i(t))?l(o,e,c):void 0}o(o.S,"Reflect",{get:l})},d1b2:function(t,e,n){"use strict";n.r(e);n("f751"),n("ac6a");e["default"]=function(t,e){return t.forEach(function(t){var e={shading:"color",itemStyle:{opacity:.4}};Object.assign(t,e)}),t}},d225:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d2cf:function(t,e,n){var r=n("6d8b"),i=n("401b"),a=n("cb6d"),o=n("1fab"),s=n("607d"),u=n("0b44"),l="silent";function c(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:h}}function h(t){s.stop(this.event)}function f(){}f.prototype.dispose=function(){};var d=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],p=function(t,e,n,r){o.call(this),this.storage=t,this.painter=e,this.painterRoot=r,n=n||new f,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,a.call(this),this.setHandlerProxy(n)};function m(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){var r,i=t;while(i){if(i.clipPath&&!i.clipPath.contain(e,n))return!1;i.silent&&(r=!0),i=i.parent}return!r||l}return!1}p.prototype={constructor:p,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(r.each(d,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,n=t.zrY,r=this._hovered,i=r.target;i&&!i.__zr&&(r=this.findHover(r.x,r.y),i=r.target);var a=this._hovered=this.findHover(e,n),o=a.target,s=this.proxy;s.setCursor&&s.setCursor(o?o.cursor:"default"),i&&o!==i&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(a,"mousemove",t),o&&o!==i&&this.dispatchToElement(a,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,n=t.toElement||t.relatedTarget;do{n=n&&n.parentNode}while(n&&9!==n.nodeType&&!(e=n===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){t=t||{};var r=t.target;if(!r||!r.silent){var i="on"+e,a=c(e,t,n);while(r)if(r[i]&&(a.cancelBubble=r[i].call(r,a)),r.trigger(e,a),r=r.parent,a.cancelBubble)break;a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){"function"===typeof t[i]&&t[i].call(t,a),t.trigger&&t.trigger(e,a)}))}},findHover:function(t,e,n){for(var r=this.storage.getDisplayList(),i={x:t,y:e},a=r.length-1;a>=0;a--){var o;if(r[a]!==n&&!r[a].ignore&&(o=m(r[a],t,e))&&(!i.topTarget&&(i.topTarget=r[a]),o!==l)){i.target=r[a];break}}return i},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new u);var n=this._gestureMgr;"start"===e&&n.clear();var r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),r){var i=r.type;t.gestureEvent=i,this.dispatchToElement({target:r.target},i,r.event)}}},r.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){p.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY),r=n.target;if("mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||i.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}),r.mixin(p,o),r.mixin(p,a);var g=p;t.exports=g},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d498:function(t,e,n){var r=n("cbe5"),i=n("4fac"),a=r.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){i.buildPath(t,e,!1)}});t.exports=a},d4c6:function(t,e,n){var r=n("cbe5"),i=r.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),r.prototype.getBoundingRect.call(this)}});t.exports=i},d4d1:function(t,e,n){"use strict";n.r(e);var r={xAxis:!1,yAxis:!1};e["default"]=r},d51b:function(t,e){var n=function(){this.head=null,this.tail=null,this._len=0},r=n.prototype;r.insert=function(t){var e=new i(t);return this.insertEntry(e),e},r.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};var i=function(t){this.value=t,this.next,this.prev},a=function(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},o=a.prototype;o.put=function(t,e){var n=this._list,r=this._map,a=null;if(null==r[t]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=n.head;n.remove(u),delete r[u.key],a=u.value,this._lastRemovedEntry=u}s?s.value=e:s=new i(e),s.key=t,n.insertEntry(s),r[t]=s}return a},o.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},o.clear=function(){this._list.clear(),this._map={}};var s=a;t.exports=s},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d5b7:function(t,e,n){var r=n("de00"),i=n("1fab"),a=n("0cde"),o=n("bd6b"),s=n("6d8b"),u=function(t){a.call(this,t),i.call(this,t),o.call(this,t),this.id=t.id||r()};u.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"===typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(u,o),s.mixin(u,a),s.mixin(u,i);var l=u;t.exports=l},d833:function(t,e,n){var r=n("20c8"),i=n("9680"),a=n("e7d2"),o=n("68ab"),s=n("9f51"),u=n("857d"),l=u.normalizeRadian,c=n("4a3f"),h=n("8728"),f=r.CMD,d=2*Math.PI,p=1e-4;function m(t,e){return Math.abs(t-e)<p}var g=[-1,-1,-1],v=[-1,-1];function _(){var t=v[0];v[0]=v[1],v[1]=t}function y(t,e,n,r,i,a,o,s,u,l){if(l>e&&l>r&&l>a&&l>s||l<e&&l<r&&l<a&&l<s)return 0;var h=c.cubicRootAt(e,r,a,s,l,g);if(0===h)return 0;for(var f,d,p=0,m=-1,y=0;y<h;y++){var x=g[y],b=0===x||1===x?.5:1,w=c.cubicAt(t,n,i,o,x);w<u||(m<0&&(m=c.cubicExtrema(e,r,a,s,v),v[1]<v[0]&&m>1&&_(),f=c.cubicAt(e,r,a,s,v[0]),m>1&&(d=c.cubicAt(e,r,a,s,v[1]))),2===m?x<v[0]?p+=f<e?b:-b:x<v[1]?p+=d<f?b:-b:p+=s<d?b:-b:x<v[0]?p+=f<e?b:-b:p+=s<f?b:-b)}return p}function x(t,e,n,r,i,a,o,s){if(s>e&&s>r&&s>a||s<e&&s<r&&s<a)return 0;var u=c.quadraticRootAt(e,r,a,s,g);if(0===u)return 0;var l=c.quadraticExtremum(e,r,a);if(l>=0&&l<=1){for(var h=0,f=c.quadraticAt(e,r,a,l),d=0;d<u;d++){var p=0===g[d]||1===g[d]?.5:1,m=c.quadraticAt(t,n,i,g[d]);m<o||(g[d]<l?h+=f<e?p:-p:h+=a<f?p:-p)}return h}p=0===g[0]||1===g[0]?.5:1,m=c.quadraticAt(t,n,i,g[0]);return m<o?0:a<e?p:-p}function b(t,e,n,r,i,a,o,s){if(s-=e,s>n||s<-n)return 0;var u=Math.sqrt(n*n-s*s);g[0]=-u,g[1]=u;var c=Math.abs(r-i);if(c<1e-4)return 0;if(c%d<1e-4){r=0,i=d;var h=a?1:-1;return o>=g[0]+t&&o<=g[1]+t?h:0}if(a){u=r;r=l(i),i=l(u)}else r=l(r),i=l(i);r>i&&(i+=d);for(var f=0,p=0;p<2;p++){var m=g[p];if(m+t>o){var v=Math.atan2(s,m);h=a?1:-1;v<0&&(v=d+v),(v>=r&&v<=i||v+d>=r&&v+d<=i)&&(v>Math.PI/2&&v<1.5*Math.PI&&(h=-h),f+=h)}}return f}function w(t,e,n,r,u){for(var l=0,c=0,d=0,p=0,g=0,v=0;v<t.length;){var _=t[v++];switch(_===f.M&&v>1&&(n||(l+=h(c,d,p,g,r,u))),1===v&&(c=t[v],d=t[v+1],p=c,g=d),_){case f.M:p=t[v++],g=t[v++],c=p,d=g;break;case f.L:if(n){if(i.containStroke(c,d,t[v],t[v+1],e,r,u))return!0}else l+=h(c,d,t[v],t[v+1],r,u)||0;c=t[v++],d=t[v++];break;case f.C:if(n){if(a.containStroke(c,d,t[v++],t[v++],t[v++],t[v++],t[v],t[v+1],e,r,u))return!0}else l+=y(c,d,t[v++],t[v++],t[v++],t[v++],t[v],t[v+1],r,u)||0;c=t[v++],d=t[v++];break;case f.Q:if(n){if(o.containStroke(c,d,t[v++],t[v++],t[v],t[v+1],e,r,u))return!0}else l+=x(c,d,t[v++],t[v++],t[v],t[v+1],r,u)||0;c=t[v++],d=t[v++];break;case f.A:var w=t[v++],T=t[v++],S=t[v++],E=t[v++],M=t[v++],A=t[v++];v+=1;var C=1-t[v++],O=Math.cos(M)*S+w,D=Math.sin(M)*E+T;v>1?l+=h(c,d,O,D,r,u):(p=O,g=D);var L=(r-w)*E/S+w;if(n){if(s.containStroke(w,T,E,M,M+A,C,e,L,u))return!0}else l+=b(w,T,E,M,M+A,C,L,u);c=Math.cos(M+A)*S+w,d=Math.sin(M+A)*E+T;break;case f.R:p=c=t[v++],g=d=t[v++];var I=t[v++],P=t[v++];O=p+I,D=g+P;if(n){if(i.containStroke(p,g,O,g,e,r,u)||i.containStroke(O,g,O,D,e,r,u)||i.containStroke(O,D,p,D,e,r,u)||i.containStroke(p,D,p,g,e,r,u))return!0}else l+=h(O,g,O,D,r,u),l+=h(p,D,p,g,r,u);break;case f.Z:if(n){if(i.containStroke(c,d,p,g,e,r,u))return!0}else l+=h(c,d,p,g,r,u);c=p,d=g;break}}return n||m(d,g)||(l+=h(c,d,p,g,r,u)||0),0!==l}function T(t,e,n){return w(t,0,!1,e,n)}function S(t,e,n,r){return w(t,e,!0,n,r)}e.contain=T,e.containStroke=S},d864:function(t,e,n){var r=n("79aa");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},d8d6:function(t,e,n){n("1654"),n("6c1c"),t.exports=n("ccb9").f("iterator")},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9f6:function(t,e,n){var r=n("e4ae"),i=n("794b"),a=n("1bc3"),o=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},d9fc:function(t,e,n){var r=n("cbe5"),i=r.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=i},dbdb:function(t,e,n){var r=n("584a"),i=n("e53d"),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},dc2f:function(t,e){var n=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};n.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var r=n;t.exports=r},dc62:function(t,e,n){n("9427");var r=n("584a").Object;t.exports=function(t,e){return r.create(t,e)}},dcbc:function(t,e,n){var r=n("2aba");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},dd46:function(t,e,n){"use strict";n.r(e);var r=n("301d");e["default"]={name:"rich-label",props:{styles:{label:{formats:r["a"].nameValuePercent}}}}},dded:function(t,e,n){var r=n("6d8b"),i=n("42e5"),a=function(t,e,n,r,a){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=a||!1,i.call(this,r)};a.prototype={constructor:a},r.inherits(a,i);var o=a;t.exports=o},de00:function(t,e){var n=2311;function r(){return n++}t.exports=r},de1c:function(t,e){var n={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};t.exports=n},dec5:function(t,e,n){"use strict";n.r(e),e["default"]=function(t){return{yAxis:!1}}},e073:function(t,e,n){var r=n("6d8b"),i=n("e86a"),a=n("e0d3"),o=a.makeInner,s=n("697ef"),u=s.makeLabelFormatter,l=s.getOptionCategoryInterval,c=s.shouldShowAllLabels,h=o();function f(t){return"category"===t.type?p(t):v(t)}function d(t,e){return"category"===t.type?g(t,e):{ticks:t.scale.getTicks()}}function p(t){var e=t.getLabelModel(),n=m(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function m(t,e){var n,i,a=_(t,"labels"),o=l(e),s=y(a,o);return s||(r.isFunction(o)?n=E(t,o):(i="auto"===o?b(t):o,n=S(t,i)),x(a,o,{labels:n,labelCategoryInterval:i}))}function g(t,e){var n,i,a=_(t,"ticks"),o=l(e),s=y(a,o);if(s)return s;if(e.get("show")&&!t.scale.isBlank()||(n=[]),r.isFunction(o))n=E(t,o,!0);else if("auto"===o){var u=m(t,t.getLabelModel());i=u.labelCategoryInterval,n=r.map(u.labels,function(t){return t.tickValue})}else i=o,n=S(t,i,!0);return x(a,o,{ticks:n,tickCategoryInterval:i})}function v(t){var e=t.scale.getTicks(),n=u(t);return{labels:r.map(e,function(e,r){return{formattedLabel:n(e,r),rawLabel:t.scale.getLabel(e),tickValue:e}})}}function _(t,e){return h(t)[e]||(h(t)[e]=[])}function y(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function x(t,e,n){return t.push({key:e,value:n}),n}function b(t){var e=h(t).autoInterval;return null!=e?e:h(t).autoInterval=t.calculateCategoryInterval()}function w(t){var e=T(t),n=u(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,a=t.scale,o=a.getExtent(),s=a.count();if(o[1]-o[0]<1)return 0;var l=1;s>40&&(l=Math.max(1,Math.floor(s/40)));for(var c=o[0],f=t.dataToCoord(c+1)-t.dataToCoord(c),d=Math.abs(f*Math.cos(r)),p=Math.abs(f*Math.sin(r)),m=0,g=0;c<=o[1];c+=l){var v=0,_=0,y=i.getBoundingRect(n(c),e.font,"center","top");v=1.3*y.width,_=1.3*y.height,m=Math.max(m,v,7),g=Math.max(g,_,7)}var x=m/d,b=g/p;isNaN(x)&&(x=1/0),isNaN(b)&&(b=1/0);var w=Math.max(0,Math.floor(Math.min(x,b))),S=h(t.model),E=S.lastAutoInterval,M=S.lastTickCount;return null!=E&&null!=M&&Math.abs(E-w)<=1&&Math.abs(M-s)<=1&&E>w?w=E:(S.lastTickCount=s,S.lastAutoInterval=w),w}function T(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function S(t,e,n){var r=u(t),i=t.scale,a=i.getExtent(),o=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),h=a[0],f=i.count();0!==h&&l>1&&f/l>2&&(h=Math.round(Math.ceil(h/l)*l));var d=c(t),p=o.get("showMinLabel")||d,m=o.get("showMaxLabel")||d;p&&h!==a[0]&&v(a[0]);for(var g=h;g<=a[1];g+=l)v(g);function v(t){s.push(n?t:{formattedLabel:r(t),rawLabel:i.getLabel(t),tickValue:t})}return m&&g!==a[1]&&v(a[1]),s}function E(t,e,n){var i=t.scale,a=u(t),o=[];return r.each(i.getTicks(),function(t){var r=i.getLabel(t);e(t,r)&&o.push(n?t:{formattedLabel:a(t),rawLabel:r,tickValue:t})}),o}e.createAxisLabels=f,e.createAxisTicks=d,e.calculateCategoryInterval=w},e0d3:function(t,e,n){var r=n("6d8b"),i=n("22d1"),a=r.each,o=r.isObject,s=r.isArray,u="series\0";function l(t){return t instanceof Array?t:null==t?[]:[t]}function c(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var a=n[r];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var h=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function f(t){return!o(t)||s(t)||t instanceof Date?t:t.value}function d(t){return o(t)&&!(t instanceof Array)}function p(t,e){e=(e||[]).slice();var n=r.map(t||[],function(t,e){return{exist:t}});return a(e,function(t,r){if(o(t)){for(var i=0;i<n.length;i++)if(!n[i].option&&null!=t.id&&n[i].exist.id===t.id+"")return n[i].option=t,void(e[r]=null);for(i=0;i<n.length;i++){var a=n[i].exist;if(!n[i].option&&(null==a.id||null==t.id)&&null!=t.name&&!v(t)&&!v(a)&&a.name===t.name+"")return n[i].option=t,void(e[r]=null)}}}),a(e,function(t,e){if(o(t)){for(var r=0;r<n.length;r++){var i=n[r].exist;if(!n[r].option&&!v(i)&&null==t.id){n[r].option=t;break}}r>=n.length&&n.push({option:t})}}),n}function m(t){var e=r.createHashMap();a(t,function(t,n){var r=t.exist;r&&e.set(r.id,t)}),a(t,function(t,n){var i=t.option;r.assert(!i||null==i.id||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),a(t,function(t,n){var r=t.exist,i=t.option,a=t.keyInfo;if(o(i)){if(a.name=null!=i.name?i.name+"":r?r.name:u+n,r)a.id=r.id;else if(null!=i.id)a.id=i.id+"";else{var s=0;do{a.id="\0"+a.name+"\0"+s++}while(e.get(a.id))}e.set(a.id,t)}})}function g(t){var e=t.name;return!(!e||!e.indexOf(u))}function v(t){return o(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function _(t,e){var n={},r={};return i(t||[],n),i(e||[],r,n),[a(n),a(r)];function i(t,e,n){for(var r=0,i=t.length;r<i;r++)for(var a=t[r].seriesId,o=l(t[r].dataIndex),s=n&&n[a],u=0,c=o.length;u<c;u++){var h=o[u];s&&s[h]?s[h]=null:(e[a]||(e[a]={}))[h]=1}}function a(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r)&&null!=t[r])if(e)n.push(+r);else{var i=a(t[r],!0);i.length&&n.push({seriesId:r,dataIndex:i})}return n}}function y(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?r.isArray(e.dataIndex)?r.map(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?r.isArray(e.name)?r.map(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function x(){var t="__\0ec_inner_"+b+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}var b=0;function w(t,e,n){if(r.isString(e)){var i={};i[e+"Index"]=0,e=i}var o=n&&n.defaultMainType;!o||T(e,o+"Index")||T(e,o+"Id")||T(e,o+"Name")||(e[o+"Index"]=0);var s={};return a(e,function(i,a){i=e[a];if("dataIndex"!==a&&"dataIndexInside"!==a){var o=a.match(/^(\w+)(Index|Id|Name)$/)||[],u=o[1],l=(o[2]||"").toLowerCase();if(!(!u||!l||null==i||"index"===l&&"none"===i||n&&n.includeMainTypes&&r.indexOf(n.includeMainTypes,u)<0)){var c={mainType:u};"index"===l&&"all"===i||(c[l]=i);var h=t.queryComponents(c);s[u+"Models"]=h,s[u+"Model"]=h[0]}}else s[a]=i}),s}function T(t,e){return t&&t.hasOwnProperty(e)}function S(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function E(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function M(t){return"auto"===t?i.domSupported?"html":"richText":t||"html"}function A(t,e){var n=r.createHashMap(),i=[];return r.each(t,function(t){var r=e(t);(n.get(r)||(i.push(r),n.set(r,[]))).push(t)}),{keys:i,buckets:n}}e.normalizeToArray=l,e.defaultEmphasis=c,e.TEXT_STYLE_OPTIONS=h,e.getDataItemValue=f,e.isDataItemOption=d,e.mappingToExists=p,e.makeIdAndName=m,e.isNameSpecified=g,e.isIdInner=v,e.compressBatches=_,e.queryDataIndex=y,e.makeInner=x,e.parseFinder=w,e.setAttribute=S,e.getAttribute=E,e.getTooltipRenderMode=M,e.groupData=A},e0d8:function(t,e,n){var r=n("625e");function i(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}i.prototype.parse=function(t){return t},i.prototype.getSetting=function(t){return this._setting[t]},i.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},i.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},i.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},i.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},i.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},i.prototype.isBlank=function(){return this._isBlank},i.prototype.setBlank=function(t){this._isBlank=t},i.prototype.getLabel=null,r.enableClassExtend(i),r.enableClassManagement(i,{registerWhenExtend:!0});var a=i;t.exports=a},e10e:function(t,e,n){var r={"./business/gdp-by-years.ts":"477e","./business/gdp.ts":"b866","./features/legend-right-vertical.ts":"1857","./features/no-label.ts":"1d20","./features/no-legend.ts":"8b12","./features/no-lines.ts":"81f8","./system/area-gradient.ts":"8877","./system/circle.ts":"8819","./system/rich-label-big-number.ts":"8fb1","./system/rich-label-percent.ts":"347e","./system/rich-label.ts":"dd46","./system/title-center.ts":"0dbc"};function i(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="e10e"},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e1fc:function(t,e,n){var r=n("6d8b"),i=n("d5b7"),a=n("9850"),o=function(t){for(var e in t=t||{},i.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};o.prototype={constructor:o,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof o&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,i=this._children,a=r.indexOf(i,t);return a<0?this:(i.splice(a,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof o&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,e,n=this._children,r=this.__storage;for(e=0;e<n.length;e++)t=n[e],r&&(r.delFromStorage(t),t instanceof o&&t.delChildrenFromStorage(r)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];t.call(e,i,r)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n];t.call(e,r),"group"===r.type&&r.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof o&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof o&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new a(0,0,0,0),r=t||this._children,i=[],o=0;o<r.length;o++){var s=r[o];if(!s.ignore&&!s.invisible){var u=s.getBoundingRect(),l=s.getLocalTransform(i);l?(n.copy(u),n.applyTransform(l),e=e||n.clone(),e.union(n)):(e=e||u.clone(),e.union(u))}}return e||n}},r.inherits(o,i);var s=o;t.exports=s},e263:function(t,e,n){var r=n("401b"),i=n("4a3f"),a=Math.min,o=Math.max,s=Math.sin,u=Math.cos,l=2*Math.PI,c=r.create(),h=r.create(),f=r.create();function d(t,e,n){if(0!==t.length){var r,i=t[0],s=i[0],u=i[0],l=i[1],c=i[1];for(r=1;r<t.length;r++)i=t[r],s=a(s,i[0]),u=o(u,i[0]),l=a(l,i[1]),c=o(c,i[1]);e[0]=s,e[1]=l,n[0]=u,n[1]=c}}function p(t,e,n,r,i,s){i[0]=a(t,n),i[1]=a(e,r),s[0]=o(t,n),s[1]=o(e,r)}var m=[],g=[];function v(t,e,n,r,s,u,l,c,h,f){var d,p=i.cubicExtrema,v=i.cubicAt,_=p(t,n,s,l,m);for(h[0]=1/0,h[1]=1/0,f[0]=-1/0,f[1]=-1/0,d=0;d<_;d++){var y=v(t,n,s,l,m[d]);h[0]=a(y,h[0]),f[0]=o(y,f[0])}for(_=p(e,r,u,c,g),d=0;d<_;d++){var x=v(e,r,u,c,g[d]);h[1]=a(x,h[1]),f[1]=o(x,f[1])}h[0]=a(t,h[0]),f[0]=o(t,f[0]),h[0]=a(l,h[0]),f[0]=o(l,f[0]),h[1]=a(e,h[1]),f[1]=o(e,f[1]),h[1]=a(c,h[1]),f[1]=o(c,f[1])}function _(t,e,n,r,s,u,l,c){var h=i.quadraticExtremum,f=i.quadraticAt,d=o(a(h(t,n,s),1),0),p=o(a(h(e,r,u),1),0),m=f(t,n,s,d),g=f(e,r,u,p);l[0]=a(t,s,m),l[1]=a(e,u,g),c[0]=o(t,s,m),c[1]=o(e,u,g)}function y(t,e,n,i,a,o,d,p,m){var g=r.min,v=r.max,_=Math.abs(a-o);if(_%l<1e-4&&_>1e-4)return p[0]=t-n,p[1]=e-i,m[0]=t+n,void(m[1]=e+i);if(c[0]=u(a)*n+t,c[1]=s(a)*i+e,h[0]=u(o)*n+t,h[1]=s(o)*i+e,g(p,c,h),v(m,c,h),a%=l,a<0&&(a+=l),o%=l,o<0&&(o+=l),a>o&&!d?o+=l:a<o&&d&&(a+=l),d){var y=o;o=a,a=y}for(var x=0;x<o;x+=Math.PI/2)x>a&&(f[0]=u(x)*n+t,f[1]=s(x)*i+e,g(p,f,p),v(m,f,m))}e.fromPoints=d,e.fromLine=p,e.fromCubic=v,e.fromQuadratic=_,e.fromArc=y},e47b:function(t,e,n){var r=n("e0d3"),i=r.makeInner,a=r.normalizeToArray,o=i();function s(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}var u={clearColorPalette:function(){o(this).colorIdx=0,o(this).colorNameMap={}},getColorFromPalette:function(t,e,n){e=e||this;var r=o(e),i=r.colorIdx||0,u=r.colorNameMap=r.colorNameMap||{};if(u.hasOwnProperty(t))return u[t];var l=a(this.get("color",!0)),c=this.get("colorLayer",!0),h=null!=n&&c?s(c,n):l;if(h=h||l,h&&h.length){var f=h[i];return t&&(u[t]=f),r.colorIdx=(i+1)%h.length,f}}};t.exports=u},e4ae:function(t,e,n){var r=n("f772");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e6f3:function(t,e,n){var r=n("07e3"),i=n("36c3"),a=n("5b4e")(!1),o=n("5559")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=o&&r(s,n)&&l.push(n);while(e.length>u)r(s,n=e[u++])&&(~a(l,n)||l.push(n));return l}},e7d2:function(t,e,n){var r=n("4a3f");function i(t,e,n,i,a,o,s,u,l,c,h){if(0===l)return!1;var f=l;if(h>e+f&&h>i+f&&h>o+f&&h>u+f||h<e-f&&h<i-f&&h<o-f&&h<u-f||c>t+f&&c>n+f&&c>a+f&&c>s+f||c<t-f&&c<n-f&&c<a-f&&c<s-f)return!1;var d=r.cubicProjectPoint(t,e,n,i,a,o,s,u,c,h,null);return d<=f/2}e.containStroke=i},e853:function(t,e,n){var r=n("d3f4"),i=n("1169"),a=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},e86a:function(t,e,n){var r=n("9850"),i=n("5e76"),a=n("6d8b"),o=a.getContext,s=a.extend,u=a.retrieve2,l=a.retrieve3,c=a.trim,h={},f=0,d=5e3,p=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,m="12px sans-serif",g={};function v(t,e){g[t]=e}function _(t,e){e=e||m;var n=t+":"+e;if(h[n])return h[n];for(var r=(t+"").split("\n"),i=0,a=0,o=r.length;a<o;a++)i=Math.max(D(r[a],e).width,i);return f>d&&(f=0,h={}),f++,h[n]=i,i}function y(t,e,n,r,i,a,o,s){return o?b(t,e,n,r,i,a,o,s):x(t,e,n,r,i,a,s)}function x(t,e,n,i,a,o,s){var u=L(t,e,a,o,s),l=_(t,e);a&&(l+=a[1]+a[3]);var c=u.outerHeight,h=w(0,l,n),f=T(0,c,i),d=new r(h,f,l,c);return d.lineHeight=u.lineHeight,d}function b(t,e,n,i,a,o,s,u){var l=I(t,{rich:s,truncate:u,font:e,textAlign:n,textPadding:a,textLineHeight:o}),c=l.outerWidth,h=l.outerHeight,f=w(0,c,n),d=T(0,h,i);return new r(f,d,c,h)}function w(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function T(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function S(t,e,n){var r=e.x,i=e.y,a=e.height,o=e.width,s=a/2,u="left",l="top";switch(t){case"left":r-=n,i+=s,u="right",l="middle";break;case"right":r+=n+o,i+=s,l="middle";break;case"top":r+=o/2,i-=n,u="center",l="bottom";break;case"bottom":r+=o/2,i+=a+n,u="center";break;case"inside":r+=o/2,i+=s,u="center",l="middle";break;case"insideLeft":r+=n,i+=s,l="middle";break;case"insideRight":r+=o-n,i+=s,u="right",l="middle";break;case"insideTop":r+=o/2,i+=n,u="center";break;case"insideBottom":r+=o/2,i+=a-n,u="center",l="bottom";break;case"insideTopLeft":r+=n,i+=n;break;case"insideTopRight":r+=o-n,i+=n,u="right";break;case"insideBottomLeft":r+=n,i+=a-n,l="bottom";break;case"insideBottomRight":r+=o-n,i+=a-n,u="right",l="bottom";break}return{x:r,y:i,textAlign:u,textVerticalAlign:l}}function E(t,e,n,r,i){if(!e)return"";var a=(t+"").split("\n");i=M(e,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=A(a[o],i);return a.join("\n")}function M(t,e,n,r){r=s({},r),r.font=e;n=u(n,"...");r.maxIterations=u(r.maxIterations,2);var i=r.minChar=u(r.minChar,0);r.cnCharWidth=_("国",e);var a=r.ascCharWidth=_("a",e);r.placeholder=u(r.placeholder,"");for(var o=t=Math.max(0,t-1),l=0;l<i&&o>=a;l++)o-=a;var c=_(n,e);return c>o&&(n="",c=0),o=t-c,r.ellipsis=n,r.ellipsisWidth=c,r.contentWidth=o,r.containerWidth=t,r}function A(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var a=_(t,r);if(a<=n)return t;for(var o=0;;o++){if(a<=i||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?C(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;t=t.substr(0,s),a=_(t,r)}return""===t&&(t=e.placeholder),t}function C(t,e,n,r){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}function O(t){return _("国",t)}function D(t,e){return g.measureText(t,e)}function L(t,e,n,r,i){null!=t&&(t+="");var a=u(r,O(e)),o=t?t.split("\n"):[],s=o.length*a,l=s;if(n&&(l+=n[0]+n[2]),t&&i){var c=i.outerHeight,h=i.outerWidth;if(null!=c&&l>c)t="",o=[];else if(null!=h)for(var f=M(h-(n?n[1]+n[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),d=0,p=o.length;d<p;d++)o[d]=A(o[d],f)}return{lines:o,height:s,outerHeight:l,lineHeight:a}}function I(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;var r,a=p.lastIndex=0;while(null!=(r=p.exec(t))){var o=r.index;o>a&&P(n,t.substring(a,o)),P(n,r[2],r[1]),a=p.lastIndex}a<t.length&&P(n,t.substring(a,t.length));var s=n.lines,c=0,h=0,f=[],d=e.textPadding,m=e.truncate,g=m&&m.outerWidth,v=m&&m.outerHeight;d&&(null!=g&&(g-=d[1]+d[3]),null!=v&&(v-=d[0]+d[2]));for(var y=0;y<s.length;y++){for(var x=s[y],b=0,w=0,T=0;T<x.tokens.length;T++){var S=x.tokens[T],M=S.styleName&&e.rich[S.styleName]||{},A=S.textPadding=M.textPadding,C=S.font=M.font||e.font,D=S.textHeight=u(M.textHeight,O(C));if(A&&(D+=A[0]+A[2]),S.height=D,S.lineHeight=l(M.textLineHeight,e.textLineHeight,D),S.textAlign=M&&M.textAlign||e.textAlign,S.textVerticalAlign=M&&M.textVerticalAlign||"middle",null!=v&&c+S.lineHeight>v)return{lines:[],width:0,height:0};S.textWidth=_(S.text,C);var L=M.textWidth,I=null==L||"auto"===L;if("string"===typeof L&&"%"===L.charAt(L.length-1))S.percentWidth=L,f.push(S),L=0;else{if(I){L=S.textWidth;var R=M.textBackgroundColor,N=R&&R.image;N&&(N=i.findExistImage(N),i.isImageReady(N)&&(L=Math.max(L,N.width*D/N.height)))}var k=A?A[1]+A[3]:0;L+=k;var F=null!=g?g-w:null;null!=F&&F<L&&(!I||F<k?(S.text="",S.textWidth=L=0):(S.text=E(S.text,F-k,C,m.ellipsis,{minChar:m.minChar}),S.textWidth=_(S.text,C),L=S.textWidth+k))}w+=S.width=L,M&&(b=Math.max(b,S.lineHeight))}x.width=w,x.lineHeight=b,c+=b,h=Math.max(h,w)}n.outerWidth=n.width=u(e.textWidth,h),n.outerHeight=n.height=u(e.textHeight,c),d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]);for(y=0;y<f.length;y++){S=f[y];var B=S.percentWidth;S.width=parseInt(B,10)/100*h}return n}function P(t,e,n){for(var r=""===e,i=e.split("\n"),a=t.lines,o=0;o<i.length;o++){var s=i[o],u={styleName:n,text:s,isLineHolder:!s&&!r};if(o)a.push({tokens:[u]});else{var l=(a[a.length-1]||(a[0]={tokens:[]})).tokens,c=l.length;1===c&&l[0].isLineHolder?l[0]=u:(s||!c||r)&&l.push(u)}}}function R(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&c(e)||t.textFont||t.font}g.measureText=function(t,e){var n=o();return n.font=e||m,n.measureText(t)},e.DEFAULT_FONT=m,e.$override=v,e.getWidth=_,e.getBoundingRect=y,e.adjustTextX=w,e.adjustTextY=T,e.adjustTextPositionOnRect=S,e.truncateText=E,e.getLineHeight=O,e.measureText=D,e.parsePlainText=L,e.parseRichText=I,e.makeFont=R},e887:function(t,e,n){var r=n("6d8b"),i=r.each,a=n("e1fc"),o=n("8918"),s=n("625e"),u=n("e0d3"),l=n("f47d"),c=l.createTask,h=n("cccd"),f=u.makeInner(),d=h();function p(){this.group=new a,this.uid=o.getUID("viewChart"),this.renderTask=c({plan:_,reset:y}),this.renderTask.context={view:this}}p.prototype={type:"chart",init:function(t,e){},render:function(t,e,n,r){},highlight:function(t,e,n,r){v(t.getData(),r,"emphasis")},downplay:function(t,e,n,r){v(t.getData(),r,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var m=p.prototype;function g(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var n=0;n<t.childCount();n++)g(t.childAt(n),e)}function v(t,e,n){var r=u.queryDataIndex(t,e);null!=r?i(u.normalizeToArray(r),function(e){g(t.getItemGraphicEl(e),n)}):t.eachItemGraphicEl(function(t){g(t,n)})}function _(t){return d(t.model)}function y(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=i&&f(i).updateMethod,u=a?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==u&&o[u](e,n,r,i),x[u]}m.updateView=m.updateLayout=m.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},s.enableClassExtend(p,["dispose"]),s.enableClassManagement(p,{registerWhenExtend:!0}),p.markUpdateMethod=function(t,e){f(t).updateMethod=e};var x={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},b=p;t.exports=b},ead6:function(t,e,n){var r=n("f772"),i=n("e4ae"),a=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("d864")(Function.call,n("bf0b").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:a}},ebd6:function(t,e,n){var r=n("cb7c"),i=n("d8e8"),a=n("2b4c")("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[a])?e:i(n)}},ebdc:function(t,e,n){"use strict";n.r(e);n("7f7f");var r=n("75fc"),i=(n("ac6a"),n("768b"));e["default"]=function(t,e){console.log("ring.ts____________________________",t);var n=[],a={color:"rgba(0,0,0,0)"},o=e.radius||["40%","80%"],s=Object(i["a"])(o,2),u=s[0],l=s[1],c=parseFloat(u),h=parseFloat(l);return t.forEach(function(t){var e=(h-c)/t.data.length,i=Math.max.apply(Math,Object(r["a"])(t.data.map(function(t){return t.value})));i*=1.25;var o=t.data.map(function(t,n){var r=c+e*n,o=c+e*(n+1),s=[{name:t.name,value:t.value},{name:"invisible",value:i-t.value,itemStyle:a}];return{name:t.name,type:"pie",clockWise:!1,label:{show:!1},labelLine:{show:!1},hoverAnimation:!1,radius:[r+"%",o+"%"],data:s}});n=n.concat(o)}),n}},ebfd:function(t,e,n){var r=n("62a0")("meta"),i=n("f772"),a=n("07e3"),o=n("d9f6").f,s=0,u=Object.isExtensible||function(){return!0},l=!n("294c")(function(){return u(Object.preventExtensions({}))}),c=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},f=function(t,e){if(!a(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},d=function(t){return l&&p.NEED&&u(t)&&!a(t,r)&&c(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},ec34:function(t,e,n){var r=n("4e08"),i=(r.__DEV__,n("6d8b")),a=i.createHashMap,o=i.isString,s=i.isArray,u=i.each,l=(i.assert,n("3041")),c=l.parseXML,h=a(),f={registerMap:function(t,e,n){var r;return s(e)?r=e:e.svg?r=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),r=[{type:"geoJSON",source:e,specialAreas:n}]),u(r,function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON");var n=d[e];n(t)}),h.set(t,r)},retrieveMap:function(t){return h.get(t)}},d={geoJSON:function(t){var e=t.source;t.geoJSON=o(e)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=c(t.source)}};t.exports=f},ec6f:function(t,e,n){var r=n("6d8b"),i=r.createHashMap,a=r.isTypedArray,o=n("625e"),s=o.enableClassCheck,u=n("93d0"),l=u.SOURCE_FORMAT_ORIGINAL,c=u.SERIES_LAYOUT_BY_COLUMN,h=u.SOURCE_FORMAT_UNKNOWN,f=u.SOURCE_FORMAT_TYPED_ARRAY,d=u.SOURCE_FORMAT_KEYED_COLUMNS;function p(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===d?{}:[]),this.sourceFormat=t.sourceFormat||h,this.seriesLayoutBy=t.seriesLayoutBy||c,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&i(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}p.seriesDataToSource=function(t){return new p({data:t,sourceFormat:a(t)?f:l,fromDataset:!1})},s(p);var m=p;t.exports=m},ed07:function(t,e,n){"use strict";n.r(e),e["default"]=[[{value:25,name:"对公银行"},{value:70,name:"个人网银"},{value:25,name:"直销银行"},{value:25,name:"瑶瑶缴费"},{value:10,name:"手机银行"}]]},ed21:function(t,e,n){var r=n("2cf4"),i=r.devicePixelRatio,a=n("6d8b"),o=n("4942"),s=n("9850"),u=n("04f6"),l=n("5e68"),c=n("98b7"),h=n("0da8"),f=n("22d1"),d=1e5,p=314159,m=.01,g=.001;function v(t){return parseInt(t,10)}function _(t){return!!t&&(!!t.__builtin__||"function"===typeof t.resize&&"function"===typeof t.refresh)}var y=new s(0,0,0,0),x=new s(0,0,0,0);function b(t,e,n){return y.copy(t.getBoundingRect()),t.transform&&y.applyTransform(t.transform),x.width=e,x.height=n,!y.intersect(x)}function w(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0}function T(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.setTransform(e),e.beginPath(),r.buildPath(e,r.shape),e.clip(),r.restoreTransform(e)}}function S(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var E=function(t,e,n){this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=a.extend({},n||{}),this.dpr=n.devicePixelRatio||i,this._singleCanvas=r,this.root=t;var o=t.style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var s=this._zlevelList=[],u=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var c=t.width,h=t.height;null!=n.width&&(c=n.width),null!=n.height&&(h=n.height),this.dpr=n.devicePixelRatio||1,t.width=c*this.dpr,t.height=h*this.dpr,this._width=c,this._height=h;var f=new l(t,this,this.dpr);f.__builtin__=!0,f.initContext(),u[p]=f,f.zlevel=p,s.push(p),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=S(this._width,this._height);t.appendChild(d)}this._hoverlayer=null,this._hoverElements=[]};E.prototype={constructor:E,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var r=0;r<n.length;r++){var i=n[r],a=this._layers[i];if(!a.__builtin__&&a.refresh){var o=0===r?this._backgroundColor:null;a.refresh(o)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return n.__from=t,t.__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,r=a.indexOf(n,e);r>=0&&n.splice(r,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var r=e[n].__from;r&&(r.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){u(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(d));var r={};n.ctx.save();for(var i=0;i<e;){var a=t[i],o=a.__from;o&&o.__zr?(i++,o.invisible||(a.transform=o.transform,a.invTransform=o.invTransform,a.__clipPaths=o.__clipPaths,this._doPaintEl(a,n,!0,r))):(t.splice(i,1),o.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(d)},_paintList:function(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var i=this;c(function(){i._paintList(t,e,n)})}}},_compositeManually:function(){var t=this.getLayer(p).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},_doPaintList:function(t,e){for(var n=[],r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r],o=this._layers[i];o.__builtin__&&o!==this._hoverlayer&&(o.__dirty||e)&&n.push(o)}for(var s=!0,u=0;u<n.length;u++){o=n[u];var l=o.ctx,c={};l.save();var h=e?o.__startIndex:o.__drawIndex,d=!e&&o.incremental&&Date.now,p=d&&Date.now(),m=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,m);else if(h===o.__startIndex){var g=t[h];g.incremental&&g.notClear&&!e||o.clear(!1,m)}-1===h&&(console.error("For some unknown reason. drawIndex is -1"),h=o.__startIndex);for(var v=h;v<o.__endIndex;v++){var _=t[v];if(this._doPaintEl(_,o,e,c),_.__dirty=_.__dirtyText=!1,d){var y=Date.now()-p;if(y>15)break}}o.__drawIndex=v,o.__drawIndex<o.__endIndex&&(s=!1),c.prevElClipPaths&&l.restore(),l.restore()}return f.wxa&&a.each(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),s},_doPaintEl:function(t,e,n,r){var i=e.ctx,a=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!a||a[0]||a[3])&&(!t.culling||!b(t,this._width,this._height))){var o=t.__clipPaths;r.prevElClipPaths&&!w(o,r.prevElClipPaths)||(r.prevElClipPaths&&(e.ctx.restore(),r.prevElClipPaths=null,r.prevEl=null),o&&(i.save(),T(o,i),r.prevElClipPaths=o)),t.beforeBrush&&t.beforeBrush(i),t.brush(i,r.prevEl||null),r.prevEl=t,t.afterBrush&&t.afterBrush(i)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=p);var n=this._layers[t];return n||(n=new l("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]&&a.merge(n,this._layerConfig[t],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n=this._layers,r=this._zlevelList,i=r.length,a=null,s=-1,u=this._domRoot;if(n[t])o("ZLevel "+t+" has been used already");else if(_(e)){if(i>0&&t>r[0]){for(s=0;s<i-1;s++)if(r[s]<t&&r[s+1]>t)break;a=n[r[s]]}if(r.splice(s+1,0,t),n[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?u.insertBefore(e.dom,l.nextSibling):u.appendChild(e.dom)}else u.firstChild?u.insertBefore(e.dom,u.firstChild):u.appendChild(e.dom)}else o("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var n,r,i=this._zlevelList;for(r=0;r<i.length;r++)n=i[r],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,r,i,a=this._zlevelList;for(i=0;i<a.length;i++)r=a[i],n=this._layers[r],n.__builtin__&&t.call(e,n,r)},eachOtherLayer:function(t,e){var n,r,i,a=this._zlevelList;for(i=0;i<a.length;i++)r=a[i],n=this._layers[r],n.__builtin__||t.call(e,n,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){i&&(i.__endIndex!==t&&(i.__dirty=!0),i.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++){var r=t[n];if(r.zlevel!==t[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var i=null,a=0;for(n=0;n<t.length;n++){r=t[n];var s,u=r.zlevel;r.incremental?(s=this.getLayer(u+g,this._needsManuallyCompositing),s.incremental=!0,a=1):s=this.getLayer(u+(a>0?m:0),this._needsManuallyCompositing),s.__builtin__||o("ZLevel "+u+" has been used by unkown layer "+s.id),s!==i&&(s.__used=!0,s.__startIndex!==n&&(s.__dirty=!0),s.__startIndex=n,s.incremental?s.__drawIndex=-1:s.__drawIndex=n,e(n),i=s),r.__dirty&&(s.__dirty=!0,s.incremental&&s.__drawIndex<0&&(s.__drawIndex=n))}e(n),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?a.merge(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===t||i===t+m){var o=this._layers[i];a.merge(o,n[t],!0)}}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(a.indexOf(n,t),1))},resize:function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var i in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);a.each(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(p).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[p].dom;var e=new l("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,r=e.dom.height,i=e.ctx;this.eachLayer(function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,r):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++){var u=o[s];this._doPaintEl(u,e,!0,a)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[r]||v(s[n])||v(o.style[n]))-(v(s[i])||0)-(v(s[a])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),i=t.getBoundingRect(),a=t.style,o=a.shadowBlur*e,s=a.shadowOffsetX*e,u=a.shadowOffsetY*e,l=a.hasStroke()?a.lineWidth:0,c=Math.max(l/2,-s+o),f=Math.max(l/2,s+o),d=Math.max(l/2,-u+o),p=Math.max(l/2,u+o),m=i.width+c+f,g=i.height+d+p;n.width=m*e,n.height=g*e,r.scale(e,e),r.clearRect(0,0,m,g),r.dpr=e;var v={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[c-i.x,d-i.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(r);var _=h,y=new _({style:{x:0,y:0,image:n}});return null!=v.position&&(y.position=t.position=v.position),null!=v.rotation&&(y.rotation=t.rotation=v.rotation),null!=v.scale&&(y.scale=t.scale=v.scale),y}};var M=E;t.exports=M},eda2:function(t,e,n){var r=n("6d8b"),i=n("e86a"),a=n("3842");function o(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function s(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var u=r.normalizeCssArray,l=/([&<>"'])/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function h(t){return null==t?"":(t+"").replace(l,function(t,e){return c[e]})}var f=["a","b","c","d","e","f","g"],d=function(t,e){return"{"+t+(null==e?"":e)+"}"};function p(t,e,n){r.isArray(e)||(e=[e]);var i=e.length;if(!i)return"";for(var a=e[0].$vars||[],o=0;o<a.length;o++){var s=f[o];t=t.replace(d(s),d(s,0))}for(var u=0;u<i;u++)for(var l=0;l<a.length;l++){var c=e[u][a[l]];t=t.replace(d(f[l],u),n?h(c):c)}return t}function m(t,e,n){return r.each(e,function(e,r){t=t.replace("{"+r+"}",n?h(e):e)}),t}function g(t,e){t=r.isString(t)?{color:t,extraCssText:e}:t||{};var n=t.color,i=t.type,a=(e=t.extraCssText,t.renderMode||"html"),o=t.markerId||"X";return n?"html"===a?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+h(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+h(n)+";"+(e||"")+'"></span>':{renderMode:a,content:"{marker"+o+"|}  ",style:{color:n}}:""}function v(t,e){return t+="","0000".substr(0,e-t.length)+t}function _(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=a.parseDate(e),i=n?"UTC":"",o=r["get"+i+"FullYear"](),s=r["get"+i+"Month"]()+1,u=r["get"+i+"Date"](),l=r["get"+i+"Hours"](),c=r["get"+i+"Minutes"](),h=r["get"+i+"Seconds"](),f=r["get"+i+"Milliseconds"]();return t=t.replace("MM",v(s,2)).replace("M",s).replace("yyyy",o).replace("yy",o%100).replace("dd",v(u,2)).replace("d",u).replace("hh",v(l,2)).replace("h",l).replace("mm",v(c,2)).replace("m",c).replace("ss",v(h,2)).replace("s",h).replace("SSS",v(f,3)),t}function y(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}var x=i.truncateText;function b(t){return i.getBoundingRect(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)}function w(t,e,n,r,a,o,s,u){return i.getBoundingRect(t,e,n,r,a,u,o,s)}e.addCommas=o,e.toCamelCase=s,e.normalizeCssArray=u,e.encodeHTML=h,e.formatTpl=p,e.formatTplSimple=m,e.getTooltipMarker=g,e.formatTime=_,e.capitalFirst=y,e.truncateText=x,e.getTextBoundingRect=b,e.getTextRect=w},ee1a:function(t,e,n){var r=n("6d8b"),i=r.each,a=r.isString;function o(t,e,n){n=n||{};var r,o,s,u,l=n.byIndex,c=n.stackedCoordDimension,h=!(!t||!t.get("stack"));if(i(e,function(t,n){a(t)&&(e[n]=t={name:t}),h&&!t.isExtraCoord&&(l||r||!t.ordinalMeta||(r=t),o||"ordinal"===t.type||"time"===t.type||c&&c!==t.coordDim||(o=t))}),!o||l||r||(l=!0),o){s="__\0ecstackresult",u="__\0ecstackedover",r&&(r.createInvertedIndices=!0);var f=o.coordDim,d=o.type,p=0;i(e,function(t){t.coordDim===f&&p++}),e.push({name:s,coordDim:f,coordDimIndex:p,type:d,isExtraCoord:!0,isCalculationCoord:!0}),p++,e.push({name:u,coordDim:u,coordDimIndex:p,type:d,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:r&&r.name,isStackedByIndex:l,stackedOverDimension:u,stackResultDimension:s}}function s(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function u(t,e){return s(t,e)?t.getCalculationInfo("stackResultDimension"):e}e.enableDataStack=o,e.isDimensionStacked=s,e.getStackedDimension=u},ee84:function(t,e,n){var r=n("20c8"),i=n("401b"),a=i.applyTransform,o=r.CMD,s=[[],[],[]],u=Math.sqrt,l=Math.atan2;function c(t,e){var n,r,i,c,h,f=t.data,d=o.M,p=o.C,m=o.L,g=o.R,v=o.A,_=o.Q;for(i=0,c=0;i<f.length;){switch(n=f[i++],c=i,r=0,n){case d:r=1;break;case m:r=1;break;case p:r=3;break;case _:r=2;break;case v:var y=e[4],x=e[5],b=u(e[0]*e[0]+e[1]*e[1]),w=u(e[2]*e[2]+e[3]*e[3]),T=l(-e[1]/w,e[0]/b);f[i]*=b,f[i++]+=y,f[i]*=w,f[i++]+=x,f[i++]*=b,f[i++]*=w,f[i++]+=T,f[i++]+=T,i+=2,c=i;break;case g:S[0]=f[i++],S[1]=f[i++],a(S,S,e),f[c++]=S[0],f[c++]=S[1],S[0]+=f[i++],S[1]+=f[i++],a(S,S,e),f[c++]=S[0],f[c++]=S[1]}for(h=0;h<r;h++){var S=s[h];S[0]=f[i++],S[1]=f[i++],a(S,S,e),f[c++]=S[0],f[c++]=S[1]}}}t.exports=c},f074:function(t,e,n){"use strict";n.r(e);var r={xAxis:!1,yAxis:!1,radar:{radius:"60%",splitNumber:8,axisLine:{lineStyle:{color:"#fff",opacity:.5}},splitLine:{lineStyle:{color:"#fff",opacity:0}},splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:0}},name:{formatter:"{value}",textStyle:{color:"rgba(255,255,255,0.5)",fontSize:12}},indicator:[{name:"A",max:2e3},{name:"B",max:2e3},{name:"C",max:2e3},{name:"D",max:2e3},{name:"E",max:2e3},{name:"F",max:2e3}]}};e["default"]=r},f219:function(t,e){var n="#eee",r=function(){return{axisLine:{lineStyle:{color:n}},axisTick:{lineStyle:{color:n}},axisLabel:{textStyle:{color:n}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:n}}}},i=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],a={color:i,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:n},crossStyle:{color:n}}},legend:{textStyle:{color:n}},textStyle:{color:n},title:{textStyle:{color:n}},toolbox:{iconStyle:{normal:{borderColor:n}}},dataZoom:{textStyle:{color:n}},visualMap:{textStyle:{color:n}},timeline:{lineStyle:{color:n},itemStyle:{normal:{color:i[1]}},label:{normal:{textStyle:{color:n}}},controlStyle:{normal:{color:n,borderColor:n}}},timeAxis:r(),logAxis:r(),valueAxis:r(),categoryAxis:r(),line:{symbol:"circle"},graph:{color:i},gauge:{title:{textStyle:{color:n}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};a.categoryAxis.splitLine.show=!1;var o=a;t.exports=o},f279:function(t,e,n){var r=n("9850"),i=n("e263"),a=n("401b"),o=n("0655");function s(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var r=this.getBoundingRect();n=[r.x+r.width/2,r.y+r.height/2]}this.center=n}s.prototype={constructor:s,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],o=[-e,-e],s=[],u=[],l=this.geometries,c=0;c<l.length;c++)if("polygon"===l[c].type){var h=l[c].exterior;i.fromPoints(h,s,u),a.min(n,n,s),a.max(o,o,u)}return 0===c&&(n[0]=n[1]=o[0]=o[1]=0),this._rect=new r(n[0],n[1],o[0]-n[0],o[1]-n[1])},contain:function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var r=0,i=n.length;r<i;r++)if("polygon"===n[r].type){var a=n[r].exterior,s=n[r].interiors;if(o.contain(a,t[0],t[1])){for(var u=0;u<(s?s.length:0);u++)if(o.contain(s[u]))continue t;return!0}}return!1},transformTo:function(t,e,n,i){var o=this.getBoundingRect(),s=o.width/o.height;n?i||(i=n/s):n=s*i;for(var u=new r(t,e,n,i),l=o.calculateTransform(u),c=this.geometries,h=0;h<c.length;h++)if("polygon"===c[h].type){for(var f=c[h].exterior,d=c[h].interiors,p=0;p<f.length;p++)a.applyTransform(f[p],f[p],l);for(var m=0;m<(d?d.length:0);m++)for(p=0;p<d[m].length;p++)a.applyTransform(d[m][p],d[m][p],l)}o=this._rect,o.copy(u),this.center=[o.x+o.width/2,o.y+o.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new s(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var u=s;t.exports=u},f28c:function(t,e){var n,r,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function u(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(t){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(t){r=o}})();var l,c=[],h=!1,f=-1;function d(){h&&l&&(h=!1,l.length?c=l.concat(c):f=-1,c.length&&p())}function p(){if(!h){var t=s(d);h=!0;var e=c.length;while(e){l=c,c=[];while(++f<e)l&&l[f].run();f=-1,e=c.length}l=null,h=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||h||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f47d:function(t,e,n){var r=n("6d8b"),i=(r.assert,r.isArray),a=n("4e08");a.__DEV__;function o(t){return new s(t)}function s(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}var u=s.prototype;u.perform=function(t){var e,n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var a=this.context;a.data=a.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var o,s=d(this._modBy),u=this._modDataCount||0,l=d(t&&t.modBy),f=t&&t.modDataCount||0;function d(t){return!(t>=1)&&(t=1),t}s===l&&u===f||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,o=h(this,r)),this._modBy=l,this._modDataCount=f;var p=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var m=this._dueIndex,g=Math.min(null!=p?this._dueIndex+p:1/0,this._dueEnd);if(!r&&(o||m<g)){var v=this._progress;if(i(v))for(var _=0;_<v.length;_++)c(this,v[_],m,g,l,f);else c(this,v,m,g,l,f)}this._dueIndex=g;var y=null!=this._settedOutputEnd?this._settedOutputEnd:g;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var l=function(){var t,e,n,r,i,a={reset:function(u,l,c,h){e=u,t=l,n=c,r=h,i=Math.ceil(r/n),a.next=n>1&&r>0?s:o}};return a;function o(){return e<t?e++:null}function s(){var a=e%i*n+Math.ceil(e/i),o=e>=t?null:a<r?a:e;return e++,o}}();function c(t,e,n,r,i,a){l.reset(n,r,i,a),t._callingProgress=e,t._callingProgress({start:n,end:r,count:r-n,next:l.next},t.context)}function h(t,e){var n,r;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&(n=t._reset(t.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),i(n)&&!n.length&&(n=null)),t._progress=n,t._modBy=t._modDataCount=null;var a=t._downstream;return a&&a.dirty(),r}u.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},u.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},u.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},u.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},u.getUpstream=function(){return this._upstream},u.getDownstream=function(){return this._downstream},u.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e.createTask=o},f559:function(t,e,n){"use strict";var r=n("5ca1"),i=n("9def"),a=n("d2c8"),o="startsWith",s=""[o];r(r.P+r.F*n("5147")(o),"String",{startsWith:function(t){var e=a(this,t,o),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},f605:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},f6b3:function(t,e,n){var r=n("5ca1");r(r.S,"Reflect",{has:function(t,e){return e in t}})},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},f8a6:function(t,e,n){"use strict";n.r(e),e["default"]=[[{name:"A",value:100},{name:"B",value:150},{name:"C",value:500},{name:"D",value:250},{name:"E",value:398},{name:"F",value:250},{name:"G",value:90},{name:"H",value:580}]]},f921:function(t,e,n){n("014b"),n("c207"),n("69d3"),n("765d"),t.exports=n("584a").Symbol},f934:function(t,e,n){var r=n("6d8b"),i=n("9850"),a=n("3842"),o=a.parsePercent,s=n("eda2"),u=r.each,l=["left","right","top","bottom","width","height"],c=[["width","left","right"],["height","top","bottom"]];function h(t,e,n,r,i){var a=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild(function(u,l){var c,h,f=u.position,d=u.getBoundingRect(),p=e.childAt(l+1),m=p&&p.getBoundingRect();if("horizontal"===t){var g=d.width+(m?-m.x+d.x:0);c=a+g,c>r||u.newline?(a=0,c=g,o+=s+n,s=d.height):s=Math.max(s,d.height)}else{var v=d.height+(m?-m.y+d.y:0);h=o+v,h>i||u.newline?(a+=s+n,o=0,h=v,s=d.width):s=Math.max(s,d.width)}u.newline||(f[0]=a,f[1]=o,"horizontal"===t?a=c+n:o=h+n)})}var f=h,d=r.curry(h,"vertical"),p=r.curry(h,"horizontal");function m(t,e,n){var r=e.width,i=e.height,a=o(t.x,r),u=o(t.y,i),l=o(t.x2,r),c=o(t.y2,i);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(l)||isNaN(parseFloat(t.x2)))&&(l=r),(isNaN(u)||isNaN(parseFloat(t.y)))&&(u=0),(isNaN(c)||isNaN(parseFloat(t.y2)))&&(c=i),n=s.normalizeCssArray(n||0),{width:Math.max(l-a-n[1]-n[3],0),height:Math.max(c-u-n[0]-n[2],0)}}function g(t,e,n){n=s.normalizeCssArray(n||0);var r=e.width,a=e.height,u=o(t.left,r),l=o(t.top,a),c=o(t.right,r),h=o(t.bottom,a),f=o(t.width,r),d=o(t.height,a),p=n[2]+n[0],m=n[1]+n[3],g=t.aspect;switch(isNaN(f)&&(f=r-c-m-u),isNaN(d)&&(d=a-h-p-l),null!=g&&(isNaN(f)&&isNaN(d)&&(g>r/a?f=.8*r:d=.8*a),isNaN(f)&&(f=g*d),isNaN(d)&&(d=f/g)),isNaN(u)&&(u=r-c-f-m),isNaN(l)&&(l=a-h-d-p),t.left||t.right){case"center":u=r/2-f/2-n[3];break;case"right":u=r-f-m;break}switch(t.top||t.bottom){case"middle":case"center":l=a/2-d/2-n[0];break;case"bottom":l=a-d-p;break}u=u||0,l=l||0,isNaN(f)&&(f=r-m-u-(c||0)),isNaN(d)&&(d=a-p-l-(h||0));var v=new i(u+n[3],l+n[0],f,d);return v.margin=n,v}function v(t,e,n,a,o){var s=!o||!o.hv||o.hv[0],u=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(s||u){var c;if("raw"===l)c="group"===t.type?new i(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(c=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();c=c.clone(),c.applyTransform(h)}e=g(r.defaults({width:c.width,height:c.height},e),n,a);var f=t.position,d=s?e.x-c.x:0,p=u?e.y-c.y:0;t.attr("position","raw"===l?[d,p]:[f[0]+d,f[1]+p])}}function _(t,e){return null!=t[c[e][0]]||null!=t[c[e][1]]&&null!=t[c[e][2]]}function y(t,e,n){!r.isObject(n)&&(n={});var i=n.ignoreSize;!r.isArray(i)&&(i=[i,i]);var a=s(c[0],0),o=s(c[1],1);function s(n,r){var a={},o=0,s={},c=0,f=2;if(u(n,function(e){s[e]=t[e]}),u(n,function(t){l(e,t)&&(a[t]=s[t]=e[t]),h(a,t)&&o++,h(s,t)&&c++}),i[r])return h(e,n[1])?s[n[2]]=null:h(e,n[2])&&(s[n[1]]=null),s;if(c!==f&&o){if(o>=f)return a;for(var d=0;d<n.length;d++){var p=n[d];if(!l(a,p)&&l(t,p)){a[p]=t[p];break}}return a}return s}function l(t,e){return t.hasOwnProperty(e)}function h(t,e){return null!=t[e]&&"auto"!==t[e]}function f(t,e,n){u(t,function(t){e[t]=n[t]})}f(c[0],t,a),f(c[1],t,o)}function x(t){return b({},t)}function b(t,e){return e&&t&&u(l,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}e.LOCATION_PARAMS=l,e.HV_NAMES=c,e.box=f,e.vbox=d,e.hbox=p,e.getAvailableSize=m,e.getLayoutRect=g,e.positionElement=v,e.sizeCalculable=_,e.mergeLayoutParam=y,e.getLayoutParams=x,e.copyLayoutParams=b},f9dd:function(t,e,n){"use strict";n.r(e),e["default"]=function(t){var e=0;return"right"!==t.axis&&1!==t.aixs||(e=1),{yAxisIndex:e}}},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fa99:function(t,e,n){n("0293"),t.exports=n("584a").Object.getPrototypeOf},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fb05:function(t,e,n){var r=n("6d8b"),i=r.each,a=r.isArray,o=r.isObject,s=n("26e1"),u=n("e0d3"),l=u.normalizeToArray;function c(t,e){e=e.split(",");for(var n=t,r=0;r<e.length;r++)if(n=n&&n[e[r]],null==n)break;return n}function h(t,e,n,r){e=e.split(",");for(var i,a=t,o=0;o<e.length-1;o++)i=e[o],null==a[i]&&(a[i]={}),a=a[i];(r||null==a[e[o]])&&(a[e[o]]=n)}function f(t){i(d,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var d=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],p=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function m(t,e){s(t,e),t.series=l(t.series),i(t.series,function(t){if(o(t)){var e=t.type;if("pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var n=c(t,"pointer.color");null!=n&&h(t,"itemStyle.normal.color",n)}f(t)}}),t.dataRange&&(t.visualMap=t.dataRange),i(p,function(e){var n=t[e];n&&(a(n)||(n=[n]),i(n,function(t){f(t)}))})}t.exports=m},fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=r[1]));n("7f7f"),n("c5f6");var i=n("d225"),a=n("b0b4"),o=n("308d"),s=n("6bb5"),u=n("4e2b");function l(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}var h=n("8bbf"),f=n.n(h),d=n("c89a"),p=n.n(d);var m="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function g(t,e,n){m&&(Array.isArray(t)||"function"===typeof t||"undefined"!==typeof t.type||(t.type=Reflect.getMetadata("design:type",e,n)))}function v(t){return void 0===t&&(t={}),function(e,n){g(t,e,n),Object(d["createDecorator"])(function(e,n){(e.props||(e.props={}))[n]=t})(e,n)}}n("28a5"),n("6762"),n("2fdb"),n("456d"),n("f751"),n("551c"),n("cadf"),n("5df3");var _=n("75fc");n("a481"),n("ac6a"),n("4917"),n("aef6");function y(t){var e=[];return t&&(console.log("slots.ts--------/////////slots/////",t),t.forEach(function(t){if(t.tag){var n=t.componentOptions&&t.componentOptions.tag||t.tag||"",r=t.componentInstance;console.log("slots.ts______componnet",r);var i=r?r.props:{},a=n;if(null!==n&&n.endsWith("-chart")){var o=n.match(/pa\-(\w+)\-chart/),s=o?o[1]:"none";r=x(s,r),e.push({name:"layer",component:r})}else e.push({name:a,props:i})}})),e}function x(t,e){return e}var b=n("164e"),w=n.n(b),T=(n("55dd"),{grid:{top:"15%",left:"12%",right:"12%",bottom:"15%"},xAxis:[{type:"category",data:["a","b","c","d","e"]}],yAxis:[{type:"value",nameTextStyle:{fontSize:10}}],legend:{right:0,top:0,itemHeight:8,itemWidth:8,fontSize:8},backgroundColor:"rgba(0,0,0,0.2)",tooltip:{trigger:"axis",padding:10,borderWidth:0,backgroundColor:"rgba(0,0,0,0.33)",textStyle:{fontSize:12},axisPointer:{type:"shadow"},extraCssText:["border-radius: 0","background-color： rgba(0,0,0,0.5)"].join(";")}}),S=T,E=(n("d185"),n("7514"),[{type:"line",features:["axis","area","marks"]},{type:"bar",features:[]},{type:"scatter",features:["symbol"]}]),M=E,A=n("2ef0");n("f6b3");function C(t){var e={};return t.keys().forEach(function(n){var r=(n.match(/\.\/(\w+)\.ts$/)||["","null"])[1];e[r]=t(n)["default"]}),e}var O=C,D=O(n("5741"));function L(t,e,n){if(!t)return{};var r=t.rules||{};r.colors=r.colors||[];var i={},a=e.data[n],o=r.colors[n];if(o&&a&&(i.itemStyle={normal:{},emphasis:{}},"Gradient"===o.constructor.name&&["bar"].includes(e.subType||e.type))){var s=o.stops.map(function(t,e){return{offset:1/(o.stops.length-1)*e,color:t}});i.itemStyle.normal={color:new w.a.graphic.LinearGradient(0,0,0,1,s)}}if(r.canvas){var u=r.canvas.center;i.center=u}return["label","line","border"].forEach(function(t){if(Reflect.has(r,t)&&Reflect.has(D,t)){var n=D[t].apply(null,[r,e]);i=Object(A["merge"])({},i,n)}}),i}var I=O(n("0e09"));function P(t,e){var r=[],i=[],a=M.find(function(e){return e.type===t.type});return i=a?a.features:[],r=i.map(function(r){var i=n("5f49")("./".concat(r)).default;return i.call(null,t,e)}),r}function R(t,e){var n=t.styles?t.styles.item(e):null;return L(n,t,e)}function N(t,e){return t.map(function(t){var n=t.yAxisIndex||0,r=e.yAxis[n];if(r&&t.label&&t.label.show){var i=r.axisLabel;i&&i.formatter&&"string"===typeof i.formatter&&(t.label.formatter=r.axisLabel.formatter.replace("{value}","{c}"))}return t})}function k(t,e){var n=[],r=0;return t.forEach(function(i,a){var o=i.data.map(function(e,n){var a=P(i,n),o=R(t[0],r++);return A["merge"].apply(void 0,[{type:i.type||"bar",data:Array.isArray(e)?e:e.value,name:i.accessories&&i.accessories.legend?i.accessories.legend[n]:""}].concat(Object(_["a"])(a),[o]))}),s=Reflect.get(I,i.subType||i.type);s&&(o=s.call(null,o,i,e)),o=N(o,e),n.push(o)}),n}function F(t,e){return e}var B=n("9ac4"),z={};B.keys().forEach(function(t){var e=(t.match(/\.\/([\.\w]+)\.ts$/)||["","null"])[1];z[e]=B(t)["default"]});var U={};B=n("7eb8"),B.keys().forEach(function(t){var e=(t.match(/\.\/(\w+)\.ts$/)||["","null"])[1];U[e]=B(t)["default"]});var G={has:function(t){return Reflect.has(z,t)},translate:function(t,e){var n=z[t];if(n)return"function"===typeof n?n.call(this,e):{}},take:function(t,e,n){var r=U[t];if(r)return"function"===typeof r?r.call(this,e,n):{}}},j=G,H={},V=n("357b");function W(t){var e={},n=Object.keys(t);return n=n.sort(function(t,e){return"styles"===e?-1:1}),n.forEach(function(n){var r=t.subType||t.type,i=n+"."+r,a=j.has(i)?i:n,o=j.translate(a,t);e=Object(A["merge"])({},e,o)}),e}function X(t,e){var n={};return Object.keys(t.accessories).forEach(function(r){n=Object(A["merge"])(n,j.take(r,t,e))}),n}function q(t,e){return k([t].concat(Object(_["a"])(t.layers)),e)}function Y(t){var e=t.legend;e&&e.data&&t.series.forEach(function(e,n){e.name=t.legend.data[n]})}V.keys().forEach(function(t){var e=(t.match(/\.\/([\w\-]+)\.ts$/)||["","null"])[1];H[e]=V(t)["default"]});var Z={make:function(t){var e,n=W(t),r=JSON.parse(JSON.stringify(S));console.log("options/index______________commonOptions",r);var i=Object(A["merge"])({},r,H[t.subType||t.type],n);i=Object(A["merge"])(i,X(t,i));var a=q(t,i);if(i.series=i.series||[],i.series=(e=i.series).concat.apply(e,Object(_["a"])(a)),Y(i),i=F(t,i),t.rotate&&90===t.rotate){var o=i.xAxis,s=i.yAxis;i.xAxis=s,i.yAxis=o}return i}},K=Z,$={theme:"cold",themes:["dark","cold","warm"]},J=$,Q=function(t){Object.assign($,t)},tt=function(){function t(e){Object(i["a"])(this,t),this.container=e}return Object(a["a"])(t,[{key:"draw",value:function(t,e){var n=J.theme,r=w.a.init(this.container,n),i=K.make(t);return console.log("%c>>>FINAL PROVIDER OPTIONS","background:#e57373;color:#fff",i),e&&(i=e(i)),r.setOption(i),r}},{key:"make",value:function(t){}}]),t}(),et=tt,nt=new f.a({methods:{emit:function(t,e){this.$emit(t,e)},on:function(t,e){this.$on(t,e)},off:function(t,e){this.$off(t,e)},once:function(t,e){this.$once(t,e)}}}),rt=nt,it=(n("6c7b"),n("769b")),at=function(){function t(){Object(i["a"])(this,t),this.rules={}}return Object(a["a"])(t,null,[{key:"create",value:function(e){var n=new t;if("string"===typeof e)n.rules={colors:[it["b"].from(e)]};else{if(e.colors){n.rules.colors=[];for(var r=0;r<e.colors.length;r++){var i=e.colors[r];"string"===typeof i&&(i=it["b"].from(i)),n.rules.colors.push(i)}}n.rules=Object.assign({},e,n.rules)}return n}}]),t}(),ot=function(){function t(){Object(i["a"])(this,t),this.items=[]}return Object(a["a"])(t,[{key:"add",value:function(t){var e;Array.isArray(t)||(t=[t]),(e=this.items).push.apply(e,Object(_["a"])(t))}},{key:"item",value:function(t){return this.items[t]}},{key:"main",get:function(){return this.items[0]||{rules:{}}}}]),t}(),st={make:function(t){var e=new ot,n=at.create(t.styles||{}),r=Array(t.data.length).fill(n);return e.add(r),t.layers.forEach(function(t){n=at.create(t.styles||{}),e.add(n)}),e}},ut={props:{colors:["#5045f6","#4777f5","#44aff0","#45dbf7","#f6d54a","#f69846","#ff4343","#f845f1","#ad46f3"],background:"#1f2146",styles:{colors:[]}}},lt={props:{colors:[],styles:{}}},ct={props:{colors:[],styles:{}}},ht={dark:ut,warm:lt,cold:ct},ft=ht,dt={},pt=n("e10e");pt.keys().forEach(function(t){var e=t.match(/([\w\-]+)\.ts$/);if(e&&e[1]){var n=e[1];dt[n]=pt(t).default}});var mt=function(){function t(){Object(i["a"])(this,t)}return Object(a["a"])(t,null,[{key:"init",value:function(){}},{key:"get",value:function(e){if(!e)return{};"string"===typeof e&&(e=e.split(/\,/));var n={};return e.forEach(function(r){Reflect.has(dt,r)||console.warn("[Chartlib warn] preset not found, given: "+e);var i=dt[r]||{};if(i.parent){var a=t.get(i.parent);i=Object(A["merge"])({},a,i)}n=Object(A["merge"])({},n,i),console.log("presetmanager.get_______________",n,r)}),n}}]),t}(),gt=n("768b"),vt=(n("3456"),n("b691"),{}),_t=n("112d");_t.keys().forEach(function(t){var e=t.match(/([\w\-]+)\.ts$/);if(e&&e[1]){var n=e[1];vt[n]=_t(t).default}});var yt=vt;function xt(t){var e=t.match(/(\w+)\:([\w\/\-]+)/);if(e){var n=Object(gt["a"])(e,3),r=n[1],i=n[2];return{method:r,path:i}}return{method:void 0,path:void 0}}function bt(t){return new Promise(function(e,n){var r=xt(t),i=r.method,a=r.path;if(i&&a){if("mocks"===i){var o=Tt(a);e(o)}}else e([])})}function wt(t){var e={data:t[0].slice(1)},n={name:t[0][0]},r=t.slice(1).map(function(t){return t.slice(1)}),i=t.slice(1).map(function(t){return t[0]});return{data:r,x:e,y:n,accessories:{legend:{data:i}}}}function Tt(t){return Reflect.get(yt,t)}var St={load:function(t){return new Promise(function(e,n){var r={};if(t.dataset){var i=t.dataset;"Array"===i.constructor.name?(r=wt(i),e(r)):bt(i).then(function(t){r=wt(t),e(r)})}else{var a=t.data;a||e({data:[]}),"Array"===a.constructor.name?e({data:a}):bt(a).then(function(t){e({data:t})})}})}},Et=function(t){var e={};return e=!1===t?{show:!1}:Array.isArray(t)?{type:"category",data:t}:t,e},Mt=function(t){var e={};return e=!1===t?{show:!1}:Array.isArray(t)?{type:"value",data:t}:t,e},At={x:Et,y:Mt};function Ct(t,e){return Reflect.has(At,e)?At[e](t):t}n("f559");var Ot=function(){function t(e){Object(i["a"])(this,t),this.name="",this.description="",this.category="props",this.readonly=!1,this.type=String,this.order=999,this.__value=void 0,console.log("Prop.ts_____________________________________________",e),Object.assign(this,e),this.category=e.category||"props",this.order=e.order||999}return Object(a["a"])(t,[{key:"value",get:function(){if(void 0!==this.__value)return this.type?new this.type(this.__value):this.__value},set:function(t){this.__value=t}}]),t}();n("98db");function Dt(t,e,n){console.log("INSPECTABLE_________________________SET",e,t),Lt.set(t,e,n)}function Lt(t){return function(e,n){Dt(e,n,t)}}var It={};Lt.set=function(t,e,n){var r=t.constructor.name;Reflect.has(It,r)||(It[r]=[]);var i=It[r]||[],a=Reflect.get(this,e);i.push(new Ot({name:e,value:a,default:n.default,label:n.label,category:n.category,readonly:n.readonly,order:n.order,type:n.type})),It[r]=i},Lt.get=function(t){var e=[],n=t.__proto__;while(n.constructor.name.startsWith("Pa")){var r=It[n.constructor.name];r&&(e=e.concat(r)),n=n.__proto__}return e.forEach(function(e){e.value=t[e.name]}),e};var Pt,Rt=Lt;(function(t){var e=function t(){Object(i["a"])(this,t)};t.PropValueType=e;var n=function(t){function e(t){var n;return Object(i["a"])(this,e),n=Object(o["a"])(this,Object(s["a"])(e).call(this)),n.width=t.width,n.height=t.height,n}return Object(u["a"])(e,t),e}(e);t.Dimension=n;var r=function(t){function e(t){var n;return Object(i["a"])(this,e),n=Object(o["a"])(this,Object(s["a"])(e).call(this)),n.x=t.x,n.y=t.y,n.z=t.z,n}return Object(u["a"])(e,t),e}(e);t.Position=r;var a=function(t){function e(t){var n;return Object(i["a"])(this,e),n=Object(o["a"])(this,Object(s["a"])(e).call(this)),"string"===typeof t&&(t=parseInt(t,10)),n.number=t,n}return Object(u["a"])(e,t),e}(e);t.Percent=a;var l=function(t){function e(t){var n;return Object(i["a"])(this,e),n=Object(o["a"])(this,Object(s["a"])(e).call(this)),console.log("Range________________________________________________________",t),n.value=t?[parseInt(t[0]+"",10),parseInt(t[1]+"",10)]:void 0,n}return Object(u["a"])(e,t),e}(e);t.Range=l;var c=function(t){function e(t){var n;return Object(i["a"])(this,e),n=Object(o["a"])(this,Object(s["a"])(e).call(this)),n.value=t,n}return Object(u["a"])(e,t),e}(e);t.Json=c;var h=function(t){function e(t){var n;return Object(i["a"])(this,e),n=Object(o["a"])(this,Object(s["a"])(e).call(this)),n.value=t,n}return Object(u["a"])(e,t),e}(e);t.Styles=h;var f=function(t){function e(t){var n;return Object(i["a"])(this,e),n=Object(o["a"])(this,Object(s["a"])(e).call(this)),n.value=t,n}return Object(u["a"])(e,t),e}(e);t.Theme=f;var d=function(t){function e(t){var n;return Object(i["a"])(this,e),n=Object(o["a"])(this,Object(s["a"])(e).call(this)),n.value=t,n}return Object(u["a"])(e,t),e}(e);t.Colors=d})(Pt||(Pt={}));var Nt,kt=Pt,Ft=Rt,Bt=(n("a963"),n("7c7c"),Nt=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.uuid="",t.type="",t.subType="",t.canvas=null,t.mode="chart",t.layers=[],t.type="",t}return Object(u["a"])(e,t),Object(a["a"])(e,[{key:"dataAvailable",value:function(t,e){return t}},{key:"afterCreate",value:function(){}},{key:"addLayer",value:function(){}},{key:"addAxis",value:function(){}},{key:"applyOptions",value:function(t){}},{key:"appendOptions",value:function(){}},{key:"onLayerDataLoad",value:function(t){console.log("Chart.ts___________________onLayerDataLoad",t)}},{key:"processSlots",value:function(){var t=this,e=y(this.$slots.default||[]),n={layers:[],accessories:{}};return e.length&&e.forEach(function(e){var r=e.name.replace(/^pa-/,"");"layer"===r?(e.component.$on("dataFetched",t.onLayerDataLoad),n.layers.push(e.component.props)):n.accessories[r]=e.props}),n=this.postProcessSlots(n),n}},{key:"postProcessSlots",value:function(t){return t}},{key:"draw",value:function(){var t=this,e=this.computedProps,n=[e].concat(Object(_["a"])(e.layers)),r=n.map(function(t){return St.load(t)});Promise.all(r).then(function(n){t.__data=n[0].data,e=Object(A["merge"])({},e,n[0]);var r=n.slice(1);if(e.layers=e.layers.map(function(t,e){return Object(A["merge"])({},t,r[e])}),e.styles&&(e.styles=st.make(e)),t.$emit("dataFetched"),t.dataAvailable){var i=t.dataAvailable(e.data,e);e=Object.assign({},e,{data:i})}if("layer"!==t.mode){var a=new et(t.$refs.chart),o=function(t){return t};t.canvas=a.draw(e,t.beforePaint||o)}})}},{key:"init",value:function(){var t=this;this.draw(),Object.keys(this.props).forEach(function(e){t.$watch(e,function(){"layers".split(",").includes(e)||this.repaint()},{deep:!0})})}},{key:"repaint",value:function(){this.canvas&&this.canvas.dispose(),this.draw()}},{key:"created",value:function(){}},{key:"mounted",value:function(){var t=this;this.mode=this.$parent instanceof Nt?"layer":"chart",this.$nextTick(function(){t.init()}),rt.on("theme.changed",this.repaint)}},{key:"beforeDestroy",value:function(){rt.off("theme.changed",this.repaint)}},{key:"realData",get:function(){return"string"===typeof this.data?this.__data||[]:this.data}},{key:"hooks",get:function(){return{beforePaint:this.beforePaint,dataAvailable:this.dataAvailable}}},{key:"props",get:function(){return Object.assign({},this.$props,{__data:this.__data,uuid:this.uuid,type:this.type,subType:this.subType,layers:this.layers,accessories:this.accessories})}},{key:"computedProps",get:function(){var t,e=this.processSlots(),n=e.layers,r=e.accessories;n=(t=this.layers).concat.apply(t,Object(_["a"])(n)),r=Object(A["merge"])({},this.accessories,r);var i=mt.get(this.preset),a=ft[this.theme||"dark"],o={},s=this.props;Object.keys(s).forEach(function(t){void 0!==s[t]&&(o[t]=s[t])}),Object.keys(o).forEach(function(t){o[t]=Ct(o[t],t)});var u=Object(A["merge"])({},a.props,i.props,o,{layers:n},{accessories:r},{name:this.constructor.name});return console.log("%c///Chart.ts: get computedProps: finalProps","background-color:#009688;color:#fff;",u),u}}]),e}(f.a));l([Ft({type:String,label:"标题",order:2}),v({}),c("design:type",Object)],Bt.prototype,"title",void 0),l([v({}),c("design:type",Object)],Bt.prototype,"x",void 0),l([v({}),c("design:type",Object)],Bt.prototype,"y",void 0),l([v({}),c("design:type",Object)],Bt.prototype,"axis",void 0),l([v({}),c("design:type",Object)],Bt.prototype,"options",void 0),l([v({}),c("design:type",Object)],Bt.prototype,"legend",void 0),l([Ft({type:String,label:"预设组",order:1}),v({}),c("design:type",Object)],Bt.prototype,"preset",void 0),l([Ft({label:"配色主题",type:kt.Theme,category:"styles",order:1,default:""}),v({}),c("design:type",Object)],Bt.prototype,"theme",void 0),l([Ft({label:"颜色序列",type:kt.Colors,order:3,default:[]}),v({}),c("design:type",Object)],Bt.prototype,"colors",void 0),l([Ft({label:"样式定义",type:kt.Json,category:"styles",default:{}}),v({}),c("design:type",Object)],Bt.prototype,"styles",void 0),l([v({}),c("design:type",Object)],Bt.prototype,"data",void 0),l([v({}),c("design:type",Object)],Bt.prototype,"dataset",void 0),l([v({}),c("design:type",Object)],Bt.prototype,"rotate",void 0),l([v({}),c("design:type",Object)],Bt.prototype,"accessories",void 0),l([v({}),c("design:type",Object)],Bt.prototype,"beforePaint",void 0),Bt=Nt=l([p()({template:'\n    <div class="chart-container">\n      <div class="chart-header">\n        <h6 v-if="title">{{title}}</h6>\n      </div>\n      <div class="chart" ref="chart">\n        <slot></slot>\n      </div>\n    </div>'}),c("design:paramtypes",[])],Bt);var zt=Bt,Ut=zt,Gt=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="bar",t}return Object(u["a"])(e,t),Object(a["a"])(e,[{key:"onBarClick",value:function(){this.$emit("click")}}]),e}(Ut);l([Ft({type:Boolean,label:"圆角"}),v({}),c("design:type",Object)],Gt.prototype,"round",void 0),l([Ft({type:Number,label:"单柱宽度"}),v({}),c("design:type",Object)],Gt.prototype,"barWidth",void 0),l([Ft({type:kt.Percent,label:"柱间距",default:"10%"}),v({}),c("design:type",Object)],Gt.prototype,"barGap",void 0),l([Ft({type:Boolean,label:"堆叠"}),v({}),c("design:type",Object)],Gt.prototype,"stacked",void 0),l([Ft({type:Boolean,label:"阴影"}),v({}),c("design:type",Object)],Gt.prototype,"shadow",void 0),l([v({type:[String,Array]}),c("design:type",Object)],Gt.prototype,"data",void 0),Gt=l([p()({}),c("design:paramtypes",[])],Gt);var jt=Gt,Ht={install:function(t){t.component(jt.name,jt)}},Vt=Ht,Wt=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="pie",t}return Object(u["a"])(e,t),Object(a["a"])(e,[{key:"dataAvailable",value:function(t,e){var n=[];return Array.isArray(this.realData)?(this.realData.forEach(function(t){var e=t.map(function(t){return t.value}).reduce(function(t,e){return t+e}),r=t.map(function(t){return Object.assign({},t,{percent:parseFloat((t.value/e*100).toPrecision(2))})});n.push(r)}),n):e}}]),e}(Ut);l([Ft({type:kt.Range,label:"内外径",default:[0,50]}),v({}),c("design:type",Object)],Wt.prototype,"radius",void 0),l([v({}),c("design:type",Object)],Wt.prototype,"data",void 0),Wt=l([p()({}),c("design:paramtypes",[])],Wt);var Xt=Wt,qt=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="pie",t.subType="ring",t}return Object(u["a"])(e,t),e}(Xt);qt=l([p()({}),c("design:paramtypes",[])],qt);var Yt=qt,Zt={install:function(t){t.component(Xt.name,Xt),t.component(Yt.name,Yt)}},Kt=Zt,$t=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="line",t}return Object(u["a"])(e,t),e}(Ut);l([v({}),c("design:type",Object)],$t.prototype,"data",void 0),l([Ft({type:Number,label:"线型宽度"}),v({}),c("design:type",Object)],$t.prototype,"lineWidth",void 0),l([Ft({type:Boolean,label:"紧靠坐标轴"}),v({type:Boolean,default:!0}),c("design:type",Object)],$t.prototype,"gap",void 0),l([Ft({type:Boolean,label:"堆叠"}),v({type:Boolean,default:!1}),c("design:type",Object)],$t.prototype,"stacked",void 0),l([Ft({type:Boolean,label:"平滑曲线"}),v({}),c("design:type",Object)],$t.prototype,"smooth",void 0),l([v(),c("design:type",Object)],$t.prototype,"area",void 0),$t=l([p()({}),c("design:paramtypes",[])],$t);var Jt=$t,Qt={install:function(t){t.component(Jt.name,Jt)}},te=Qt,ee=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="scatter",t}return Object(u["a"])(e,t),e}(Ut);l([v({}),c("design:type",Object)],ee.prototype,"data",void 0),l([Ft({label:"散点形状",type:Number}),v({}),c("design:type",Object)],ee.prototype,"symbol",void 0),ee=l([p()({}),c("design:paramtypes",[])],ee);var ne=ee,re={install:function(t){t.component(ne.name,ne)}},ie=re,ae=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="map",t}return Object(u["a"])(e,t),e}(Ut);l([v({}),c("design:type",Object)],ae.prototype,"data",void 0),l([v({}),c("design:type",Object)],ae.prototype,"x",void 0),l([v({}),c("design:type",Object)],ae.prototype,"y",void 0),ae=l([p()({}),c("design:paramtypes",[])],ae);var oe=ae,se=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.subType="baidu-map",t}return Object(u["a"])(e,t),Object(a["a"])(e,[{key:"afterCreate",value:function(){}},{key:"postProcessSlots",value:function(t){return Object.keys(t).forEach(function(e){"layers"===e&&t[e].forEach(function(t){t.subType="baidu-map-scatter"})}),t}}]),e}(oe);l([v(Array),c("design:type",Object)],se.prototype,"data",void 0),se=l([p()({}),c("design:paramtypes",[])],se);var ue=se,le={install:function(t){t.component(oe.name,oe),t.component(ue.name,ue)}},ce=le,he=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="tree",t}return Object(u["a"])(e,t),e}(Ut);l([v({default:function(){return null}}),c("design:type",Object)],he.prototype,"data",void 0),he=l([p()({}),c("design:paramtypes",[])],he);var fe=he,de={install:function(t){t.component(fe.name,fe)}},pe=de,me=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="treemap",t}return Object(u["a"])(e,t),e}(Ut);l([v({default:function(){return null}}),c("design:type",Object)],me.prototype,"data",void 0),me=l([p()({}),c("design:paramtypes",[])],me);var ge=me,ve={install:function(t){t.component(ge.name,ge)}},_e=ve,ye=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="radar",t}return Object(u["a"])(e,t),e}(Ut);l([v({default:function(){return null}}),c("design:type",Object)],ye.prototype,"data",void 0),ye=l([p()({}),c("design:paramtypes",[])],ye);var xe=ye,be={install:function(t){t.component(xe.name,xe)}},we=be,Te=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="pie",t}return Object(u["a"])(e,t),e}(Xt);l([v({default:!1}),c("design:type",Object)],Te.prototype,"half",void 0),Te=l([p()({}),c("design:paramtypes",[])],Te);var Se=Te,Ee={install:function(t){t.component(Se.name,Se)}},Me=Ee,Ae=(n("7cb2"),function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="bar3D",t.subType="3d-bar",t}return Object(u["a"])(e,t),e}(Ut));l([v({type:[String,Array]}),c("design:type",Object)],Ae.prototype,"data",void 0),Ae=l([p()({}),c("design:paramtypes",[])],Ae);var Ce=Ae,Oe={install:function(t){t.component(Ce.name,Ce)}},De=Oe,Le=(n("d015"),function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).call(this)),t.type="liquidFill",t.subType="liquid",t}return Object(u["a"])(e,t),e}(Ut));l([v({}),c("design:type",Object)],Le.prototype,"distribute",void 0),Le=l([p()({}),c("design:paramtypes",[])],Le);var Ie=Le,Pe={install:function(t){t.component(Ie.name,Ie)}},Re=Pe,Ne={PaBarChartPlugin:Vt,PaPieChartPlugin:Kt,PaLineChartPlugin:te,PaScatterChartPlugin:ie,PaTreeChartPlugin:pe,PaTreemapChartPlugin:_e,PaRadarChartPlugin:we,PaRoseChartPlugin:Me,PaMapPlugin:ce,Pa3dBarChartPlugin:De,PaLiquidChartPlugin:Re},ke={PaBarChart:jt,PaPieChart:Xt,PaRingChart:Yt,PaLineChart:Jt,PaScatterChart:ne,PaMap:oe,PaTreeChart:fe,PaTreemapChart:ge,PaRadarChart:xe,PaRoseChart:Se,PaBaiduMap:ue,Pa3dBarChart:Ce,PaLiquidChart:Ie},Fe=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments)),t.__parent=null,t}return Object(u["a"])(e,t),Object(a["a"])(e,[{key:"apply",value:function(){return null}},{key:"props",get:function(){return this.$props}},{key:"parent",get:function(){return this.__parent},set:function(t){this.__parent=t}}]),e}(f.a);l([v({default:"dark"}),c("design:type",Object)],Fe.prototype,"theme",void 0),l([v(Object),c("design:type",Object)],Fe.prototype,"styles",void 0),Fe=l([p()({template:"<div></div>"})],Fe);var Be=Fe,ze=function(t){function e(){return Object(i["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(Be);l([v({type:String,default:"right"}),c("design:type",Object)],ze.prototype,"position",void 0),l([v(String),c("design:type",Object)],ze.prototype,"label",void 0),l([v(String),c("design:type",Object)],ze.prototype,"unit",void 0),l([v(Array),c("design:type",Object)],ze.prototype,"data",void 0),ze=l([p()({})],ze);var Ue=ze,Ge=function(t){function e(){return Object(i["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(Be);l([v({default:function(){return[10,10]}}),c("design:type",Object)],Ge.prototype,"position",void 0),l([v(),c("design:type",Object)],Ge.prototype,"formatter",void 0),l([v({}),c("design:type",Object)],Ge.prototype,"data",void 0),Ge=l([p()({})],Ge);var je=Ge,He=function(t){function e(){return Object(i["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(Be);l([v(String),c("design:type",Object)],He.prototype,"type",void 0),l([v(String),c("design:type",Object)],He.prototype,"label",void 0),l([v(Array),c("design:type",Object)],He.prototype,"data",void 0),He=l([p()({template:""})],He);var Ve=He,We=function(t){function e(){return Object(i["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(Be);l([v(String),c("design:type",Object)],We.prototype,"type",void 0),l([v(String),c("design:type",Object)],We.prototype,"label",void 0),l([v(Array),c("design:type",Object)],We.prototype,"data",void 0),We=l([p()({})],We);var Xe=We,qe=function(t){function e(){return Object(i["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(Be);l([v({type:String,default:"right"}),c("design:type",Object)],qe.prototype,"align",void 0),l([v(String),c("design:type",Object)],qe.prototype,"label",void 0),l([v(Array),c("design:type",Object)],qe.prototype,"data",void 0),qe=l([p()({})],qe);var Ye=qe,Ze=function(t){function e(){return Object(i["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(Be);l([v({type:String,default:function(){return"max-min"}}),c("design:type",Object)],Ze.prototype,"mode",void 0),l([v({}),c("design:type",Object)],Ze.prototype,"data",void 0),l([v(String),c("design:type",Object)],Ze.prototype,"label",void 0),Ze=l([p()({})],Ze);var Ke=Ze,$e={PaAxis:Ue,PaTooltip:je,PaLayer:Ve,PaMarks:Xe,PaLegend:Ye,PaMarkareas:Ke},Je=$e,Qe="#eee",tn=function(){return{axisLine:{lineStyle:{color:Qe}},axisTick:{lineStyle:{color:Qe}},axisLabel:{textStyle:{color:Qe}},splitLine:{lineStyle:{type:"solid",color:"#447"}},splitArea:{areaStyle:{color:Qe}}}},en=["#A0CE3A","#31C5C0","#1E9BD1","#0F347B","#585247","#7F6AAD","#009D85"],nn={color:en,backgroundColor:"rgba(0,0,0,.2)",tooltip:{axisPointer:{lineStyle:{color:Qe},crossStyle:{color:Qe}}},legend:{textStyle:{color:Qe}},textStyle:{color:Qe},title:{textStyle:{color:Qe}},toolbox:{iconStyle:{normal:{borderColor:Qe}}},dataZoom:{textStyle:{color:Qe}},timeline:{lineStyle:{color:Qe},itemStyle:{normal:{color:en[1]}},label:{normal:{textStyle:{color:Qe}}},controlStyle:{normal:{color:Qe,borderColor:Qe}}},timeAxis:tn(),logAxis:tn(),valueAxis:tn(),categoryAxis:tn(),line:{symbol:"circle"},graph:{color:en},gauge:{title:{textStyle:{color:Qe}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}},rn=nn,an="#eee",on=function(){return{axisLine:{lineStyle:{color:an}},axisTick:{lineStyle:{color:an}},axisLabel:{textStyle:{color:an}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:an}}}},sn=["#9b8bba","#e098c7","#8fd3e8","#71669e","#cc70af","#7cb4cc"],un={color:sn,backgroundColor:"rgba(0,0,0,.2)",tooltip:{axisPointer:{lineStyle:{color:an},crossStyle:{color:an}}},legend:{textStyle:{color:an}},textStyle:{color:an},title:{textStyle:{color:an}},toolbox:{iconStyle:{normal:{borderColor:an}}},dataZoom:{textStyle:{color:an}},timeline:{lineStyle:{color:an},itemStyle:{normal:{color:sn[1]}},label:{normal:{textStyle:{color:an}}},controlStyle:{normal:{color:an,borderColor:an}}},timeAxis:on(),logAxis:on(),valueAxis:on(),categoryAxis:on(),line:{symbol:"circle"},graph:{color:sn},gauge:{title:{textStyle:{color:an}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}},ln=un,cn="#eee",hn=function(){return{axisLine:{lineStyle:{color:cn}},axisTick:{lineStyle:{color:cn}},axisLabel:{textStyle:{color:cn}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:cn}}}},fn=["#009688","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],dn={color:fn,backgroundColor:"rgba(0,0,0,.2)",tooltip:{axisPointer:{lineStyle:{color:cn},crossStyle:{color:cn}}},legend:{textStyle:{color:cn}},textStyle:{color:cn},title:{textStyle:{color:cn}},toolbox:{iconStyle:{normal:{borderColor:cn}}},dataZoom:{textStyle:{color:cn}},timeline:{lineStyle:{color:cn},itemStyle:{normal:{color:fn[1]}},label:{normal:{textStyle:{color:cn}}},controlStyle:{normal:{color:cn,borderColor:cn}}},timeAxis:hn(),logAxis:hn(),valueAxis:hn(),categoryAxis:hn(),line:{symbol:"circle"},graph:{color:fn},gauge:{title:{textStyle:{color:cn}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}},pn=dn,mn=[{name:"dark",theme:rn},{name:"warm",theme:ln},{name:"cold",theme:pn}],gn=function(){function t(){Object(i["a"])(this,t)}return Object(a["a"])(t,null,[{key:"init",value:function(){mn.forEach(function(t){w.a.registerTheme(t["name"],t["theme"])})}},{key:"register",value:function(t,e){w.a.registerTheme(t,e)}}]),t}(),vn=gn,_n=new f.a({computed:{configs:{get:function(){return J},set:function(t){Q(t),this.$emit("configs.changed",{configs:t})}},theme:{get:function(){return J.theme},set:function(t){J.theme=t,Q(J),rt.emit("theme.changed",{theme:t})}}}}),yn=_n,xn=function(){function t(){Object(i["a"])(this,t)}return Object(a["a"])(t,null,[{key:"make",value:function(t){var e=null;for(var n in ke)if(n===t.name){var r,i=Reflect.get(ke,n);if(e=new i,e.uuid=t.uuid,t.layers)if(t.props.layers)t.props.layers=(r=t.props.layers).concat.apply(r,Object(_["a"])(t.layers));else t.props.layers=t.layers;console.log("Factory////////props",t.props),Object.assign(e,t.props),e.afterCreate()}return e}}]),t}(),bn=xn,wn={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in Q(e),vn.init(),Ne)t.use(Ne[n]);for(var r in Je){var i=Je[r];t.component(i.name,i)}t.prototype["$chartlib"]=yn}},Tn=wn;n.d(e,"Chartlib",function(){return wn}),n.d(e,"PaChart",function(){return Ut}),n.d(e,"ChartFactory",function(){return bn}),n.d(e,"mocks",function(){return yt});e["default"]=Tn},fd38:function(t,e,n){"use strict";n.r(e),e["default"]=[["GDP","福田区","罗湖区","盐田区","南山区","宝安区","龙华区","光明新区","龙岗区","坪山区","大鹏新区"],["2016",3574.5612,1976.2459,540.2693,3978.4758,3071.2452,1884.582,742.0341,3470.4725,530.7729,311.0454],["2017",3820.5692,2161.6969,585.9975,4617.7993,3453.1796,2139.4243,852.2589,3871.1358,607.9395,331.2546]]},fd63:function(t,e,n){var r=n("42e5"),i={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),i=(t.visualColorAccessPath||"itemStyle.color").split("."),a=t.get(i)||t.getColorFromPalette(t.name,null,e.getSeriesCount());if(n.setVisual("color",a),!e.isSeriesFiltered(t)){"function"!==typeof a||a instanceof r||n.each(function(e){n.setItemVisual(e,"color",a(t.getDataParams(e)))});var o=function(t,e){var n=t.getItemModel(e),r=n.get(i,!0);null!=r&&t.setItemVisual(e,"color",r)};return{dataEach:n.hasItemOption?o:null}}}};t.exports=i},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},fe21:function(t,e,n){var r=n("e86a"),i=n("2306"),a=["textStyle","color"],o={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(a):null)},getFont:function(){return i.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return r.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};t.exports=o}})});
//# sourceMappingURL=vue-chartlib.umd.min.js.map