"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var vuePropertyDecorator=require("vue-property-decorator"),Vue=_interopDefault(require("vue"));require("reflect-metadata");var echarts=_interopDefault(require("echarts")),merge=_interopDefault(require("lodash/merge"));function __decorate(e,t,a,r){var o,s=arguments.length,l=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,a,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(l=(s<3?o(l):s>3?o(t,a,l):o(t,a))||l);return s>3&&l&&Object.defineProperty(t,a,l),l}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}require("echarts-gl"),require("echarts-liquidfill");class Prop{constructor(e){this.name="",this.description="",this.category="props",this.readonly=!1,this.type=String,this.order=999,this.__value=void 0,Object.assign(this,e),this.category=e.category||"props",this.order=e.order||999}get value(){return this.__value}set value(e){void 0===e?this.__value=void 0:!1==e instanceof this.type?this.__value=new this.type(e):this.__value=e}get primitive(){return this.__value?this.__value.valueOf():void 0}}function setInspectableForTarget(e,t,a){console.log("INSPECTABLE_________________________SET",t,e),Inspectable.set(e,t,a)}function Inspectable(e){return(t,a)=>{setInspectableForTarget(t,a,e)}}let book={};var PropTypes;Inspectable.set=function(e,t,a){let r=e.constructor.name;Reflect.has(book,r)||(book[r]=[]);let o=book[r]||[],s=Reflect.get(this,t);o.push(new Prop({name:t,value:s,default:a.default,label:a.label,category:a.category,readonly:a.readonly,order:a.order,type:a.type})),book[r]=o},Inspectable.get=function(e){let t=[],a=e.__proto__;for(;a.constructor.name.startsWith("Pa");){let e=book[a.constructor.name];e&&(t=t.concat(e)),a=a.__proto__}return t.forEach(t=>{t.value=e[t.name]}),t},function(e){class t{}e.PropValueType=t;e.Dimension=class extends t{constructor(e){super(),this.width=e.width,this.height=e.height}valueOf(){return[this.width,this.height]}};e.Position=class extends t{constructor(e){super(),this.x=e.x,this.y=e.y,this.z=e.z}valueOf(){return this.z?[this.x,this.y,this.z]:[this.x,this.y]}};e.Percent=class extends t{constructor(e){super(),"string"==typeof e&&(e=parseInt(e,10)),this.number=e}valueOf(){return this.number+"%"}};e.Range=class extends t{constructor(e){super(),this.value=e?[parseInt(e[0]+"",10),parseInt(e[1]+"",10)]:void 0}valueOf(){return this.value}};e.Json=class extends t{constructor(e){super(),this.value=e}valueOf(){return this.value}};e.Styles=class extends t{constructor(e){super(),this.value=e}valueOf(){return this.value}};e.Theme=class extends t{constructor(e){super(),this.name=e}valueOf(){return this.name}};e.Colors=class extends t{constructor(e){super(),this.value=e}valueOf(){return this.value}};e.Select=class extends t{constructor(e){super(),this.value=e}valueOf(){return this.value}};e.Size=class extends t{constructor(e){super(),this.value=e}valueOf(){return this.value}}}(PropTypes||(PropTypes={}));var PropTypes$1=PropTypes;const Bus=new Vue({methods:{emit(e,t){this.$emit(e,t)},on(e,t){this.$on(e,t)},off(e,t){this.$off(e,t)},once(e,t){this.$once(e,t)}}});let PaComponent=class extends Vue{constructor(){super(...arguments),this.uuid="",this.type="",this.subType="",this.bus=Bus}get props(){return this.$props}};__decorate([Inspectable({label:"配色主题",type:PropTypes$1.Theme,category:"styles",order:1,default:""}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaComponent.prototype,"theme",void 0),__decorate([Inspectable({label:"样式定义",type:PropTypes$1.Json,category:"styles",default:{}}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaComponent.prototype,"styles",void 0);var PaComponent$1=PaComponent=__decorate([vuePropertyDecorator.Component({})],PaComponent);function resolveSlot(e){let t=[];return e&&(console.log("slots.ts--------/////////slots/////",e),e.forEach(e=>{if(e.tag){let a=e.componentOptions&&e.componentOptions.tag||e.tag||"",r=e.componentInstance;console.log("slots.ts______componnet",r);let o=a;if(null!==a&&a.endsWith("-chart")){let e=a.match(/pa\-(\w+)\-chart/);r=processLayer(e?e[1]:"none",r),t.push({name:"layer",component:r})}else t.push({name:o,component:r})}})),t}function processLayer(e,t){return t}const common={grid:{top:"15%",left:"12%",right:"12%",bottom:"15%"},xAxis:[{type:"category",data:["a","b","c","d","e"]}],yAxis:[{type:"value",nameTextStyle:{fontSize:10}}],legend:{right:0,top:0,itemHeight:8,itemWidth:8,fontSize:8},backgroundColor:"rgba(0,0,0,0.2)",tooltip:{trigger:"axis",padding:10,borderWidth:1,borderColor:"#fff",backgroundColor:"rgba(0,0,0,0.33)",textStyle:{fontSize:12},axisPointer:{type:"shadow"},extraCssText:["border-radius: 12px","background-color： rgba(0,0,0,0.5)"].join(";")}},specs=[{type:"line",features:["axis","area","marks"]},{type:"bar",features:[]},{type:"scatter",features:["symbol"]},{type:"pictorialBar",features:["area"]},{type:"network",features:["symbol"]}];function pack(e){let t={};return e.keys().forEach(a=>{let r=(a.match(/\.\/(\w+)\.ts$/)||["","null"])[1];t[r]=e(a).default}),t}let fields=pack(require.context("./styles",!0,/.ts$/));function makeSeriesStyles(e,t,a){if(!e)return{};let r=e.rules||{};r.colors=r.colors||[];let o={},s=t.data[a],l=r.colors[a];if(l&&s&&(o.itemStyle={normal:{},emphasis:{}},"Gradient"===l.constructor.name&&["bar"].includes(t.subType||t.type))){let e=l.stops.map((e,t)=>({offset:1/(l.stops.length-1)*t,color:e}));o.itemStyle.normal={color:new echarts.graphic.LinearGradient(0,0,0,1,e)}}if(r.canvas){let e=r.canvas.center;o.center=e}return["label","line","border"].forEach(e=>{if(Reflect.has(r,e)&&Reflect.has(fields,e)){let a=fields[e].apply(null,[r,t]);o=merge({},o,a)}}),o}let types=pack(require.context("./series/types",!0,/.ts$/));function buildFeatures(e,t){let a=[],r=[],o=specs.find(t=>t.type===(e.subType||e.type));return a=(r=o?o.features:[]).map(a=>{return require(`./series/features/${a}`).default.call(null,e,t)})}function buildStyles(e,t){return makeSeriesStyles(e.styles?e.styles.item(t):null,e,t)}function applyFormatterFromAxis(e,t){return e.map(e=>{let a=e.yAxisIndex||0,r=t.yAxis[a];if(r&&e.label&&e.label.show){let t=r.axisLabel;t&&t.formatter&&"string"==typeof t.formatter&&(e.label.formatter=r.axisLabel.formatter.replace("{value}","{c}"))}return e})}function makeSeries(e,t){let a=[],r=0;return e.forEach(o=>{let s=o.data.map((t,a)=>{let s=buildFeatures(o,a),l=buildStyles(e[0],r++);return merge({type:o.type||"bar",data:Array.isArray(t)?t:t.value,name:o.accessories&&o.accessories.legend?o.accessories.legend[a]:""},...s,l)}),l=Reflect.get(types,o.subType||o.type);l&&(s=l.call(null,s,o,t)),s=applyFormatterFromAxis(s,t),a.push(s)}),a}function populateSeries(e,t){return t}let requires=require.context("./props/",!0,/.ts$/),rules={};requires.keys().forEach(e=>{let t=(e.match(/\.\/([\.\w]+)\.ts$/)||["","null"])[1];rules[t]=requires(e).default});let accessories={};(requires=require.context("./accessories/",!0,/.ts$/)).keys().forEach(e=>{let t=(e.match(/\.\/(\w+)\.ts$/)||["","null"])[1];accessories[t]=requires(e).default});const handler={has:e=>Reflect.has(rules,e),translate(e,t){let a=rules[e];if(a)return"function"==typeof a?a.call(this,t):{}},take(e,t,a){let r=accessories[e];if(r)return"function"==typeof r?r.call(this,t,a):{}}};let defaults={},requires$1=require.context("./defaults/",!0,/.ts$/);function buildProps(e){let t={},a=Object.keys(e);return(a=a.sort((e,t)=>"styles"===t?-1:1)).forEach(a=>{let r=a+"."+(e.subType||e.type);const o=handler.has(r)?r:a;let s=handler.translate(o,e);t=merge({},t,s)}),t}function buildAccessories(e,t){let a={};return Object.keys(e.accessories).forEach(r=>{a=merge(a,handler.take(r,e,t))}),a}function buildSeries(e,t){return makeSeries([e,...e.layers],t)}function applyLegend(e){let t=e.legend;t&&t.data&&e.series.forEach((t,a)=>{t.name=e.legend.data[a]})}requires$1.keys().forEach(e=>{let t=(e.match(/\.\/([\w\-]+)\.ts$/)||["","null"])[1];defaults[t]=requires$1(e).default});let OptionsManager={make(e){let t=buildProps(e),a=JSON.parse(JSON.stringify(common));console.log("options/index______________commonOptions",a);let r=merge({},a,defaults[e.subType||e.type],t),o=buildSeries(e,r=merge(r,buildAccessories(e,r)));if(r.series=r.series||[],r.series=r.series.concat(...o),applyLegend(r),r=populateSeries(e,r),e.rotate&&90===e.rotate){let e=r.xAxis,t=r.yAxis;r.xAxis=t,r.yAxis=e}return r}},globalConfigs={theme:"cold",themes:["dark","cold","warm"]};const setGlobalConfigs=e=>{Object.assign(globalConfigs,e)};class Provider{constructor(e){this.container=e}draw(e,t){let a=globalConfigs.theme,r=echarts.init(this.container,a),o=OptionsManager.make(e);return console.log("%c>>>FINAL PROVIDER OPTIONS","background:#e57373;color:#fff",o),t&&(o=t(o)),r.setOption(o),r}make(e){}}class Color{constructor(){this.value=""}static from(e){if(e.startsWith("gradient:"))return Gradient.from(e);{let t=new Color;return t.value=e,t}}}class Gradient extends Color{constructor(){super(...arguments),this.stops=[]}static from(e){let t=new Gradient;return e=e.replace(/^gradient\:/,""),t.stops=e.split(";"),t}}class Styles{constructor(){this.rules={}}static create(e){let t=new Styles;if("string"==typeof e)t.rules={colors:[Color.from(e)]};else{if(e.colors){t.rules.colors=[];for(let a=0;a<e.colors.length;a++){let r=e.colors[a];"string"==typeof r&&(r=Color.from(r)),t.rules.colors.push(r)}}t.rules=Object.assign({},e,t.rules)}return t}}class StyleSet{constructor(){this.items=[]}add(e){Array.isArray(e)||(e=[e]),this.items.push(...e)}item(e){return this.items[e]}get main(){return this.items[0]||{rules:{}}}}let StyleManager={make(e){let t=new StyleSet,a=Styles.create(e.styles||{}),r=Array(e.data.length).fill(a);return t.add(r),e.layers.forEach(e=>{a=Styles.create(e.styles||{}),t.add(a)}),t}};var dark={props:{colors:["#106FFF","#32AAFA","#628AFF","#00D5A1","#DFE7FD","#F3DE7F","#F3D600","#FFA334","#FF62C5","#35D88A"],background:"#1f2146",styles:{colors:[]}}},warm={props:{colors:["#FF5757","#FF86A9","#FF4E13","#FF8E00","#FFC140","#FFCB8B","#733CFF","#0098FB","#3CF0FF","#983FFF"],styles:{}}},cold={props:{colors:["#FF304A","#FF7200","#FEFF47","#3CAB56","#6BECB4","#00DCF9","#FFCB00","#F3FFA4","#A765B2","#737BFF"],styles:{}}};let themes={dark:dark,warm:warm,cold:cold},presets={};const requires$2=require.context("../../../presets/",!0,/.ts$/);requires$2.keys().forEach(e=>{let t=e.match(/([\w\-]+)\.ts$/);if(t&&t[1]){let a=t[1];presets[a]=requires$2(e).default}});class PresetManager{static init(){}static get(e){if(!e)return{};"string"==typeof e&&(e=e.split(/\,/));let t={};return e.forEach(a=>{Reflect.has(presets,a)||console.warn("[Chartlib warn] preset not found, given: "+e);let r=presets[a]||{};if(r.parent){let e=PresetManager.get(r.parent);r=merge({},e,r)}t=merge({},t,r),console.log("presetmanager.get_______________",t,a)}),t}}let mocks={};const requires$3=require.context("./chart",!0,/.ts$/);function parseUrl(e){const t=e.match(/(\w+)\:([\w\/\-]+)/);if(t){const[,e,a]=t;return{method:e,path:a}}return{method:void 0,path:void 0}}function __load(e){return new Promise((t,a)=>{const{method:r,path:o}=parseUrl(e);if(r&&o){if("mocks"===r){t(loadFromMocks(o))}}else t([])})}function parseDataSet(e){let t={data:e[0].slice(1)},a={name:e[0][0]};return{data:e.slice(1).map(e=>e.slice(1)),x:t,y:a,accessories:{legend:{data:e.slice(1).map(e=>e[0])}}}}function loadFromMocks(e){return Reflect.get(mocks,e)}requires$3.keys().forEach(e=>{let t=e.match(/([\w\-]+)\.ts$/);if(t&&t[1]){let a=t[1];mocks[a]=requires$3(e).default}});const DataManager={load:e=>new Promise((t,a)=>{let r={};if(e.dataset){const a=e.dataset;"Array"===a.constructor.name?(r=parseDataSet(a),t(r)):__load(a).then(e=>{r=parseDataSet(e),t(r)})}else{let a=e.data;a||t({data:[]}),"Array"===a.constructor.name?t({data:a}):__load(a).then(e=>{t({data:e})})}})};function x(e){let t={};return t=!1===e?{show:!1}:Array.isArray(e)?{type:"category",data:e}:e}function y(e){let t={};return t=!1===e?{show:!1}:Array.isArray(e)?{type:"value",data:e}:e}let defs={x:x,y:y};function normalizeProps(e,t){return Reflect.has(defs,t)?defs[t](e):e}var PaChart_1;let PaChart=PaChart_1=class extends PaComponent$1{constructor(){super(),this.canvas=null,this.mode="chart",this.layers=[],this.accessories={},this.type=""}get realData(){return"string"==typeof this.data?this.__data||[]:this.data}dataAvailable(e,t){return e}get hooks(){return{beforePaint:this.beforePaint,dataAvailable:this.dataAvailable}}afterCreate(){}get props(){let e={};return this.accessories&&Object.keys(this.accessories).forEach(t=>{e[t]=this.accessories[t].props}),Object.assign({},this.$props,{__data:this.__data,uuid:this.uuid,type:this.type,subType:this.subType,layers:this.layers.map(e=>e.props),accessories:e})}addLayer(){}addAxis(){}applyOptions(e){}appendOptions(){}onLayerDataLoad(e){console.log("Chart.ts___________________onLayerDataLoad",e)}get computedProps(){let{layers:e,accessories:t}=this.processSlots();this.layers=this.layers.concat(...e),this.accessories=merge({},this.accessories,t);let a=PresetManager.get(this.preset),r=themes[this.theme||"dark"],o={},s=this.props;Object.keys(s).forEach(e=>{void 0!==s[e]&&(o[e]=s[e])}),Object.keys(o).forEach(e=>{o[e]=normalizeProps(o[e],e)});let l=merge({},r.props,a.props,o,{name:this.constructor.name});return console.log("%c///Chart.ts: get computedProps: finalProps","background-color:#009688;color:#fff;",l),l}processSlots(){let e=resolveSlot(this.$slots.default||[]),t={layers:[],accessories:{}};return e.length&&e.forEach(e=>{let a=e.name.replace(/^pa-/,"");"layer"===a?(e.component.$on("dataFetched",this.onLayerDataLoad),t.layers.push(e.component)):t.accessories[a]=e.component}),t=this.postProcessSlots(t)}postProcessSlots(e){return e}draw(){let e=this.computedProps,t=[e,...e.layers].map(e=>DataManager.load(e));Promise.all(t).then(t=>{this.__data=t[0].data,e=merge({},e,t[0]);let a=t.slice(1);if(e.layers=e.layers.map((e,t)=>merge({},e,a[t])),e.styles&&(e.styles=StyleManager.make(e)),this.$emit("dataFetched"),this.dataAvailable){let t=this.dataAvailable(e.data,e);e=Object.assign({},e,{data:t})}if("layer"===this.mode)return;let r=new Provider(this.$refs.chart);this.canvas=r.draw(e,this.beforePaint||(e=>e))})}init(){this.draw(),Object.keys(this.props).forEach(e=>{"layers,accessories".split(",").includes(e)||this.$watch(e,function(){this.repaint()},{deep:!0})})}repaint(){this.canvas&&this.canvas.dispose(),this.draw()}created(){}beforeMount(){this.mode=this.$parent instanceof PaChart_1?"layer":"chart",this.$nextTick(()=>{this.init()}),Bus.on("theme.changed",this.repaint)}beforeDestroy(){Bus.off("theme.changed",this.repaint)}};__decorate([Inspectable({type:String,label:"标题",order:2}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"title",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"x",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"y",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"axis",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"options",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"legend",void 0),__decorate([Inspectable({type:String,label:"预设组",order:1}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"preset",void 0),__decorate([Inspectable({label:"颜色序列",type:PropTypes$1.Colors,order:3,default:[]}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"colors",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"data",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"dataset",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"rotate",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaChart.prototype,"beforePaint",void 0);var PaChart$1=PaChart=PaChart_1=__decorate([vuePropertyDecorator.Component({template:'\n    <div class="chart-container">\n      <div class="chart-header">\n        <h6 v-if="title">{{title}}</h6>\n      </div>\n      <div class="chart" ref="chart">\n        <slot></slot>\n      </div>\n    </div>'}),__metadata("design:paramtypes",[])],PaChart);let PaBarChart=class extends PaChart$1{constructor(){super(),this.type="bar"}onBarClick(){this.$emit("click")}};__decorate([Inspectable({type:Boolean,label:"圆角"}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaBarChart.prototype,"round",void 0),__decorate([Inspectable({type:Number,label:"单柱宽度"}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaBarChart.prototype,"barWidth",void 0),__decorate([Inspectable({type:PropTypes$1.Percent,label:"柱间距",default:"10%"}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaBarChart.prototype,"barGap",void 0),__decorate([Inspectable({type:Boolean,label:"堆叠"}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaBarChart.prototype,"stacked",void 0),__decorate([Inspectable({type:Boolean,label:"阴影"}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaBarChart.prototype,"shadow",void 0),__decorate([vuePropertyDecorator.Prop({type:[String,Array]}),__metadata("design:type",Object)],PaBarChart.prototype,"data",void 0);var PaBarChart$1=PaBarChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaBarChart);let PaPolarChart=class extends PaBarChart$1{constructor(){super(),this.type="bar",this.subType="polar"}};__decorate([vuePropertyDecorator.Prop({type:[String,Array]}),__metadata("design:type",Object)],PaPolarChart.prototype,"data",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaPolarChart.prototype,"labelName",void 0);var PaPolarChart$1=PaPolarChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaPolarChart);const Plugin={install(e){e.component(PaBarChart$1.name,PaBarChart$1),e.component(PaPolarChart$1.name,PaPolarChart$1)}};let PaPieChart=class extends PaChart$1{constructor(){super(),this.type="pie"}dataAvailable(e,t){let a=[];return Array.isArray(this.realData)?(this.realData.forEach(e=>{const t=e.map(e=>e.value).reduce((e,t)=>e+t);let r=e.map(e=>Object.assign({},e,{percent:parseFloat((e.value/t*100).toPrecision(2))}));a.push(r)}),a):t}};__decorate([Inspectable({type:PropTypes$1.Range,label:"内外径",default:[0,50]}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaPieChart.prototype,"radius",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaPieChart.prototype,"data",void 0),__decorate([vuePropertyDecorator.Prop({default:!0}),__metadata("design:type",Object)],PaPieChart.prototype,"labelShow",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaPieChart.prototype,"outPieColor",void 0);var PaPieChart$1=PaPieChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaPieChart);let PaRingChart=class extends PaPieChart$1{constructor(){super(),this.type="pie",this.subType="ring"}};var PaRingChart$1=PaRingChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaRingChart);const Plugin$1={install(e){e.component(PaPieChart$1.name,PaPieChart$1),e.component(PaRingChart$1.name,PaRingChart$1)}};let PaLineChart=class extends PaChart$1{constructor(){super(),this.type="line"}};__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaLineChart.prototype,"data",void 0),__decorate([Inspectable({type:Number,label:"线型宽度"}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaLineChart.prototype,"lineWidth",void 0),__decorate([Inspectable({type:Boolean,label:"坐标轴间隙"}),vuePropertyDecorator.Prop({type:Boolean,default:!1}),__metadata("design:type",Object)],PaLineChart.prototype,"gap",void 0),__decorate([Inspectable({type:Boolean,label:"堆叠"}),vuePropertyDecorator.Prop({type:Boolean,default:!1}),__metadata("design:type",Object)],PaLineChart.prototype,"stacked",void 0),__decorate([Inspectable({type:Boolean,label:"平滑曲线"}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaLineChart.prototype,"smooth",void 0),__decorate([Inspectable({type:Boolean,label:"面积"}),vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaLineChart.prototype,"area",void 0);var PaLineChart$1=PaLineChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaLineChart);const Plugin$2={install(e){e.component(PaLineChart$1.name,PaLineChart$1)}};let PaScatterChart=class extends PaChart$1{constructor(){super(),this.type="scatter"}};__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaScatterChart.prototype,"data",void 0),__decorate([Inspectable({label:"散点形状",type:Number}),vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaScatterChart.prototype,"symbol",void 0);var PaScatterChart$1=PaScatterChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaScatterChart);const Plugin$3={install(e){e.component(PaScatterChart$1.name,PaScatterChart$1)}};let PaMap=class extends PaChart$1{constructor(){super(),this.type="map"}};__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaMap.prototype,"data",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaMap.prototype,"x",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaMap.prototype,"y",void 0);var PaMap$1=PaMap=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaMap);let PaBaiduMap=class extends PaMap$1{constructor(){super(),this.subType="baidu-map"}afterCreate(){}postProcessSlots(e){return Object.keys(e).forEach(t=>{"layers"===t&&e[t].forEach(e=>{e.subType="baidu-map-scatter"})}),e}};__decorate([vuePropertyDecorator.Prop(Array),__metadata("design:type",Object)],PaBaiduMap.prototype,"data",void 0);var PaBaiduMap$1=PaBaiduMap=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaBaiduMap);const Plugin$4={install(e){e.component(PaMap$1.name,PaMap$1),e.component(PaBaiduMap$1.name,PaBaiduMap$1)}};let PaTreeChart=class extends PaChart$1{constructor(){super(),this.type="tree"}};__decorate([vuePropertyDecorator.Prop({default:()=>null}),__metadata("design:type",Object)],PaTreeChart.prototype,"data",void 0);var PaTreeChart$1=PaTreeChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaTreeChart);const Plugin$5={install(e){e.component(PaTreeChart$1.name,PaTreeChart$1)}};let PaTreemapChart=class extends PaChart$1{constructor(){super(),this.type="treemap"}};__decorate([vuePropertyDecorator.Prop({default:()=>null}),__metadata("design:type",Object)],PaTreemapChart.prototype,"data",void 0);var PaTreemapChart$1=PaTreemapChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaTreemapChart);const Plugin$6={install(e){e.component(PaTreemapChart$1.name,PaTreemapChart$1)}};let PaRadarChart=class extends PaChart$1{constructor(){super(),this.type="radar"}};__decorate([vuePropertyDecorator.Prop({default:()=>null}),__metadata("design:type",Object)],PaRadarChart.prototype,"data",void 0);var PaRadarChart$1=PaRadarChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaRadarChart);const Plugin$7={install(e){e.component(PaRadarChart$1.name,PaRadarChart$1)}};let PaRoseChart=class extends PaPieChart$1{constructor(){super(),this.type="pie"}};__decorate([vuePropertyDecorator.Prop({default:!1}),__metadata("design:type",Object)],PaRoseChart.prototype,"half",void 0);var PaRoseChart$1=PaRoseChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaRoseChart);const Plugin$8={install(e){e.component(PaRoseChart$1.name,PaRoseChart$1)}};let Pa3dBarChart=class extends PaChart$1{constructor(){super(),this.type="bar3D",this.subType="3d-bar"}};__decorate([vuePropertyDecorator.Prop({type:[String,Array]}),__metadata("design:type",Object)],Pa3dBarChart.prototype,"data",void 0);var Pa3dBarChart$1=Pa3dBarChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],Pa3dBarChart);const Plugin$9={install(e){e.component(Pa3dBarChart$1.name,Pa3dBarChart$1)}};let PaLiquidChart=class extends PaChart$1{constructor(){super(),this.type="liquidFill",this.subType="liquid"}};__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaLiquidChart.prototype,"distribute",void 0);var PaLiquidChart$1=PaLiquidChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaLiquidChart);const Plugin$a={install(e){e.component(PaLiquidChart$1.name,PaLiquidChart$1)}};let PaGaugeChart=class extends PaChart$1{constructor(){super(),this.type="gauge"}};__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaGaugeChart.prototype,"data",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaGaugeChart.prototype,"center",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaGaugeChart.prototype,"radius",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaGaugeChart.prototype,"titleName",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaGaugeChart.prototype,"gaugeGradientColor",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaGaugeChart.prototype,"startEndAngle",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaGaugeChart.prototype,"titleColor",void 0);var PaGaugeChart$1=PaGaugeChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaGaugeChart);const Plugin$b={install(e){e.component(PaGaugeChart$1.name,PaGaugeChart$1)}};let PaPictorialBarChart=class extends PaChart$1{constructor(){super(),this.type="pictorialBar"}};__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaPictorialBarChart.prototype,"data",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaPictorialBarChart.prototype,"center",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaPictorialBarChart.prototype,"radius",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaPictorialBarChart.prototype,"titleName",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaPictorialBarChart.prototype,"gaugeGradientColor",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaPictorialBarChart.prototype,"startEndAngle",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaPictorialBarChart.prototype,"titleColor",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaPictorialBarChart.prototype,"area",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaPictorialBarChart.prototype,"symbol",void 0);var PaPictorialBarChart$1=PaPictorialBarChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaPictorialBarChart);const Plugin$c={install(e){e.component(PaPictorialBarChart$1.name,PaPictorialBarChart$1)}};let PaFunnelChart=class extends PaChart$1{constructor(){super(),this.type="funnel"}};__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaFunnelChart.prototype,"data",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaFunnelChart.prototype,"sort",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaFunnelChart.prototype,"canPosition",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaFunnelChart.prototype,"nameOrValue",void 0);var PaFunnelChart$1=PaFunnelChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaFunnelChart);const Plugin$d={install(e){e.component(PaFunnelChart$1.name,PaFunnelChart$1)}};let PaNetworkChart=class extends PaChart$1{constructor(){super(),this.type="graph",this.subType="network"}};__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaNetworkChart.prototype,"data",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaNetworkChart.prototype,"symbol",void 0);var PaNetworkChart$1=PaNetworkChart=__decorate([vuePropertyDecorator.Component({}),__metadata("design:paramtypes",[])],PaNetworkChart);const plugin={install(e){e.component(PaNetworkChart$1.name,PaNetworkChart$1)}};let plugins={PaBarChartPlugin:Plugin,PaPieChartPlugin:Plugin$1,PaLineChartPlugin:Plugin$2,PaScatterChartPlugin:Plugin$3,PaTreeChartPlugin:Plugin$5,PaTreemapChartPlugin:Plugin$6,PaRadarChartPlugin:Plugin$7,PaRoseChartPlugin:Plugin$8,PaMapPlugin:Plugin$4,Pa3dBarChartPlugin:Plugin$9,PaLiquidChartPlugin:Plugin$a,PaGaugeChartPlugin:Plugin$b,PaPictorialBarPlugin:Plugin$c,paFunnelChartPlugin:Plugin$d,PaNetworkChartPlugin:plugin},charts={PaBarChart:PaBarChart$1,PaPolarChart:PaPolarChart$1,PaPieChart:PaPieChart$1,PaRingChart:PaRingChart$1,PaLineChart:PaLineChart$1,PaScatterChart:PaScatterChart$1,PaMap:PaMap$1,PaTreeChart:PaTreeChart$1,PaTreemapChart:PaTreemapChart$1,PaRadarChart:PaRadarChart$1,PaRoseChart:PaRoseChart$1,PaBaiduMap:PaBaiduMap$1,Pa3dBarChart:Pa3dBarChart$1,PaLiquidChart:PaLiquidChart$1,PaGaugeChart:PaGaugeChart$1,PaPictorialBarChart:PaPictorialBarChart$1,PaFunnelChart:PaFunnelChart$1,PaNetworkChart:PaNetworkChart$1},PaAccessory=class extends Vue{constructor(){super(...arguments),this.__parent=null}get props(){return this.$props}get parent(){return this.__parent}set parent(e){this.__parent=e}apply(){return null}};__decorate([vuePropertyDecorator.Prop({default:"dark"}),__metadata("design:type",Object)],PaAccessory.prototype,"theme",void 0),__decorate([vuePropertyDecorator.Prop(Object),__metadata("design:type",Object)],PaAccessory.prototype,"styles",void 0);var PaAccessory$1=PaAccessory=__decorate([vuePropertyDecorator.Component({template:"<div></div>"})],PaAccessory);let PaAxis=class extends PaAccessory$1{};__decorate([vuePropertyDecorator.Prop({type:String,default:"right"}),__metadata("design:type",Object)],PaAxis.prototype,"position",void 0),__decorate([vuePropertyDecorator.Prop(String),__metadata("design:type",Object)],PaAxis.prototype,"label",void 0),__decorate([vuePropertyDecorator.Prop(String),__metadata("design:type",Object)],PaAxis.prototype,"unit",void 0),__decorate([vuePropertyDecorator.Prop(Array),__metadata("design:type",Object)],PaAxis.prototype,"data",void 0),__decorate([vuePropertyDecorator.Prop(Array),__metadata("design:type",Object)],PaAxis.prototype,"yName",void 0),__decorate([vuePropertyDecorator.Prop(Array),__metadata("design:type",Object)],PaAxis.prototype,"xName",void 0),__decorate([vuePropertyDecorator.Prop(Array),__metadata("design:type",Object)],PaAxis.prototype,"xSplitLine",void 0);var PaAxis$1=PaAxis=__decorate([vuePropertyDecorator.Component({})],PaAxis);let PaTooltip=class extends PaAccessory$1{};__decorate([vuePropertyDecorator.Prop({default:()=>[10,10]}),__metadata("design:type",Object)],PaTooltip.prototype,"position",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaTooltip.prototype,"formatter",void 0),__decorate([vuePropertyDecorator.Prop(),__metadata("design:type",Object)],PaTooltip.prototype,"axisPointer",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaTooltip.prototype,"data",void 0);var PaTooltip$1=PaTooltip=__decorate([vuePropertyDecorator.Component({})],PaTooltip);let PaLayer=class extends PaAccessory$1{};__decorate([vuePropertyDecorator.Prop(String),__metadata("design:type",Object)],PaLayer.prototype,"type",void 0),__decorate([vuePropertyDecorator.Prop(String),__metadata("design:type",Object)],PaLayer.prototype,"label",void 0),__decorate([vuePropertyDecorator.Prop(Array),__metadata("design:type",Object)],PaLayer.prototype,"data",void 0);var PaLayer$1=PaLayer=__decorate([vuePropertyDecorator.Component({template:""})],PaLayer);let PaMarks=class extends PaAccessory$1{};__decorate([vuePropertyDecorator.Prop(String),__metadata("design:type",Object)],PaMarks.prototype,"type",void 0),__decorate([vuePropertyDecorator.Prop(String),__metadata("design:type",Object)],PaMarks.prototype,"label",void 0),__decorate([vuePropertyDecorator.Prop(Array),__metadata("design:type",Object)],PaMarks.prototype,"data",void 0);var PaMarks$1=PaMarks=__decorate([vuePropertyDecorator.Component({})],PaMarks);let PaLegend=class extends PaAccessory$1{};__decorate([vuePropertyDecorator.Prop({type:String,default:"right"}),__metadata("design:type",Object)],PaLegend.prototype,"align",void 0),__decorate([vuePropertyDecorator.Prop(String),__metadata("design:type",Object)],PaLegend.prototype,"label",void 0),__decorate([vuePropertyDecorator.Prop(Array),__metadata("design:type",Object)],PaLegend.prototype,"data",void 0);var PaLegend$1=PaLegend=__decorate([vuePropertyDecorator.Component({})],PaLegend);let PaMarkareas=class extends PaAccessory$1{};__decorate([vuePropertyDecorator.Prop({type:String,default:()=>"max-min"}),__metadata("design:type",Object)],PaMarkareas.prototype,"mode",void 0),__decorate([vuePropertyDecorator.Prop({}),__metadata("design:type",Object)],PaMarkareas.prototype,"data",void 0),__decorate([vuePropertyDecorator.Prop(String),__metadata("design:type",Object)],PaMarkareas.prototype,"label",void 0);var PaMarkareas$1=PaMarkareas=__decorate([vuePropertyDecorator.Component({})],PaMarkareas);let PaVisualMap=class extends PaAccessory$1{};__decorate([vuePropertyDecorator.Prop({type:Boolean,default:!1}),__metadata("design:type",Object)],PaVisualMap.prototype,"show",void 0),__decorate([vuePropertyDecorator.Prop({type:Number,default:0}),__metadata("design:type",Object)],PaVisualMap.prototype,"min",void 0),__decorate([vuePropertyDecorator.Prop(Number),__metadata("design:type",Object)],PaVisualMap.prototype,"max",void 0),__decorate([vuePropertyDecorator.Prop({type:Number,default:0}),__metadata("design:type",Object)],PaVisualMap.prototype,"dimension",void 0),__decorate([vuePropertyDecorator.Prop(Array),__metadata("design:type",Object)],PaVisualMap.prototype,"color",void 0);var PaVisualMap$1=PaVisualMap=__decorate([vuePropertyDecorator.Component({})],PaVisualMap);let accessories$1={PaAxis:PaAxis$1,PaTooltip:PaTooltip$1,PaLayer:PaLayer$1,PaMarks:PaMarks$1,PaLegend:PaLegend$1,PaMarkareas:PaMarkareas$1,PaVisualMap:PaVisualMap$1};var lineColor="#447",labelColor="#99d",textColor="#cce",axisCommon=function(){return{axisLine:{lineStyle:{color:lineColor}},axisTick:{lineStyle:{color:lineColor}},axisLabel:{textStyle:{color:labelColor}},splitLine:{lineStyle:{type:"solid",color:"#447"}},splitArea:{areaStyle:{color:lineColor}}}},colorPalette=["#A0CE3A","#31C5C0","#1E9BD1","#0F347B","#585247","#7F6AAD","#009D85"],theme={color:colorPalette,backgroundColor:"rgba(0,0,0,.2)",tooltip:{axisPointer:{lineStyle:{color:lineColor},crossStyle:{color:lineColor}}},legend:{textStyle:{color:textColor}},textStyle:{color:textColor},title:{textStyle:{color:textColor}},toolbox:{iconStyle:{normal:{borderColor:lineColor}}},dataZoom:{textStyle:{color:lineColor}},timeline:{lineStyle:{color:lineColor},itemStyle:{normal:{color:colorPalette[1]}},label:{normal:{textStyle:{color:lineColor}}},controlStyle:{normal:{color:lineColor,borderColor:lineColor}}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{textStyle:{color:lineColor}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}},contrastColor="#eee",axisCommon$1=function(){return{axisLine:{lineStyle:{color:contrastColor}},axisTick:{lineStyle:{color:contrastColor}},axisLabel:{textStyle:{color:contrastColor}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:contrastColor}}}},colorPalette$1=["#9b8bba","#e098c7","#8fd3e8","#71669e","#cc70af","#7cb4cc"],theme$1={color:colorPalette$1,backgroundColor:"rgba(0,0,0,.2)",tooltip:{axisPointer:{lineStyle:{color:contrastColor},crossStyle:{color:contrastColor}}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:contrastColor}},toolbox:{iconStyle:{normal:{borderColor:contrastColor}}},dataZoom:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},itemStyle:{normal:{color:colorPalette$1[1]}},label:{normal:{textStyle:{color:contrastColor}}},controlStyle:{normal:{color:contrastColor,borderColor:contrastColor}}},timeAxis:axisCommon$1(),logAxis:axisCommon$1(),valueAxis:axisCommon$1(),categoryAxis:axisCommon$1(),line:{symbol:"circle"},graph:{color:colorPalette$1},gauge:{title:{textStyle:{color:contrastColor}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}},contrastColor$1="#000",axisCommon$2=function(){return{axisLine:{lineStyle:{color:contrastColor$1}},axisTick:{lineStyle:{color:contrastColor$1}},axisLabel:{textStyle:{color:contrastColor$1}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:contrastColor$1}}}},colorPalette$2=[],theme$2={color:colorPalette$2,backgroundColor:"rgba(0,0,0,.2)",tooltip:{axisPointer:{lineStyle:{color:contrastColor$1},crossStyle:{color:contrastColor$1}}},legend:{textStyle:{color:contrastColor$1}},textStyle:{color:contrastColor$1},title:{textStyle:{color:contrastColor$1}},toolbox:{iconStyle:{normal:{borderColor:contrastColor$1}}},dataZoom:{textStyle:{color:contrastColor$1}},timeline:{lineStyle:{color:contrastColor$1},itemStyle:{normal:{}},label:{normal:{textStyle:{color:contrastColor$1}}},controlStyle:{normal:{color:contrastColor$1,borderColor:contrastColor$1}}},timeAxis:axisCommon$2(),logAxis:axisCommon$2(),valueAxis:axisCommon$2(),categoryAxis:axisCommon$2(),line:{symbol:"circle"},graph:{color:colorPalette$2},gauge:{title:{textStyle:{color:contrastColor$1}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};const themes$1=[{name:"dark",theme:theme},{name:"warm",theme:theme$1},{name:"cold",theme:theme$2}];class ThemeManager{static init(){themes$1.forEach(e=>{echarts.registerTheme(e.name,e.theme)})}static register(e,t){echarts.registerTheme(e,t)}}let $chartlib=new Vue({data:()=>({popups:[]}),computed:{configs:{get:()=>globalConfigs,set:function(e){setGlobalConfigs(e),this.$emit("configs.changed",{configs:e})}},theme:{get:function(){return globalConfigs.theme},set:function(e){globalConfigs.theme=e,setGlobalConfigs(globalConfigs),Bus.emit("theme.changed",{theme:e})}}},methods:{popup(){}}});const chartBook={line:charts.PaLineChart,bar:charts.PaBarChart},accessoryBook={axis:PaAxis$1};function createChart(e,t){let a=new e;return a.uuid=t.uuid,t.layers&&(t.props.layers?t.props.layers=t.props.layers.concat(...t.layers):t.props.layers=t.layers),Object.assign(a,t.props),a.afterCreate(),a}function createAccessory(e,t){let a=new e;return Object.assign(a,t),a}class ChartFactory{static make(e){let t=null;for(let a in charts)if(a===e.name){let r=[];e.props.layers&&(e.props.layers.forEach(e=>{let t=chartBook[e.type];if(t){let a=createChart(t,{props:e});r.push(a)}}),Reflect.deleteProperty(e,"layers"));let o={};if(e.props.accessories){let t=e.props.accessories;Object.keys(t).forEach(e=>{let a=accessoryBook[e];if(a){let r=createAccessory(a,t[e]);o[e]=r}}),Reflect.deleteProperty(e,"accessories")}(t=createChart(Reflect.get(charts,a),e)).layers=r,t.accessories=o}return t}}const install=(e,t)=>{setGlobalConfigs(t),ThemeManager.init();for(let t in plugins)e.use(plugins[t]);for(let t in accessories$1){let a=accessories$1[t];e.component(a.name,a)}e.prototype.$chartlib=$chartlib},Chartlib={install:install};exports.ChartFactory=ChartFactory,exports.Chartlib=Chartlib,exports.PaChart=PaChart$1,exports.default=Chartlib,exports.install=install,exports.mocks=mocks;
